var lN=e=>{throw TypeError(e)};var U1=(e,t,n)=>t.has(e)||lN("Cannot "+n);var Te=(e,t,n)=>(U1(e,t,"read from private field"),n?n.call(e):t.get(e)),on=(e,t,n)=>t.has(e)?lN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),It=(e,t,n,r)=>(U1(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Wr=(e,t,n)=>(U1(e,t,"access private method"),n);var bg=(e,t,n,r)=>({set _(s){It(e,t,s,n)},get _(){return Te(e,t,r)}});function gM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var G3={exports:{}},T0={},Y3={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=Symbol.for("react.element"),xM=Symbol.for("react.portal"),yM=Symbol.for("react.fragment"),wM=Symbol.for("react.strict_mode"),bM=Symbol.for("react.profiler"),jM=Symbol.for("react.provider"),NM=Symbol.for("react.context"),_M=Symbol.for("react.forward_ref"),SM=Symbol.for("react.suspense"),CM=Symbol.for("react.memo"),kM=Symbol.for("react.lazy"),cN=Symbol.iterator;function PM(e){return e===null||typeof e!="object"?null:(e=cN&&e[cN]||e["@@iterator"],typeof e=="function"?e:null)}var K3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J3=Object.assign,X3={};function jh(e,t,n){this.props=e,this.context=t,this.refs=X3,this.updater=n||K3}jh.prototype.isReactComponent={};jh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z3(){}Z3.prototype=jh.prototype;function ub(e,t,n){this.props=e,this.context=t,this.refs=X3,this.updater=n||K3}var db=ub.prototype=new Z3;db.constructor=ub;J3(db,jh.prototype);db.isPureReactComponent=!0;var uN=Array.isArray,Q3=Object.prototype.hasOwnProperty,hb={current:null},eS={key:!0,ref:!0,__self:!0,__source:!0};function tS(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Q3.call(t,r)&&!eS.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ym,type:e,key:a,ref:o,props:s,_owner:hb.current}}function AM(e,t){return{$$typeof:Ym,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ym}function EM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dN=/\/+/g;function q1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EM(""+e.key):t.toString(36)}function rv(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ym:case xM:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+q1(o,0):r,uN(s)?(n="",e!=null&&(n=e.replace(dN,"$&/")+"/"),rv(s,t,n,"",function(u){return u})):s!=null&&(fb(s)&&(s=AM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dN,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",uN(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+q1(a,l);o+=rv(a,t,n,c,s)}else if(c=PM(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+q1(a,l++),o+=rv(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jg(e,t,n){if(e==null)return e;var r=[],s=0;return rv(e,r,"","",function(a){return t.call(n,a,s++)}),r}function LM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ys={current:null},sv={transition:null},TM={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:sv,ReactCurrentOwner:hb};function nS(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:jg,forEach:function(e,t,n){jg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jg(e,function(){t++}),t},toArray:function(e){return jg(e,function(t){return t})||[]},only:function(e){if(!fb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=jh;Wt.Fragment=yM;Wt.Profiler=bM;Wt.PureComponent=ub;Wt.StrictMode=wM;Wt.Suspense=SM;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TM;Wt.act=nS;Wt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=J3({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=hb.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Q3.call(t,c)&&!eS.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ym,type:e.type,key:s,ref:a,props:r,_owner:o}};Wt.createContext=function(e){return e={$$typeof:NM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jM,_context:e},e.Consumer=e};Wt.createElement=tS;Wt.createFactory=function(e){var t=tS.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:_M,render:e}};Wt.isValidElement=fb;Wt.lazy=function(e){return{$$typeof:kM,_payload:{_status:-1,_result:e},_init:LM}};Wt.memo=function(e,t){return{$$typeof:CM,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=sv.transition;sv.transition={};try{e()}finally{sv.transition=t}};Wt.unstable_act=nS;Wt.useCallback=function(e,t){return ys.current.useCallback(e,t)};Wt.useContext=function(e){return ys.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return ys.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return ys.current.useEffect(e,t)};Wt.useId=function(){return ys.current.useId()};Wt.useImperativeHandle=function(e,t,n){return ys.current.useImperativeHandle(e,t,n)};Wt.useInsertionEffect=function(e,t){return ys.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return ys.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return ys.current.useMemo(e,t)};Wt.useReducer=function(e,t,n){return ys.current.useReducer(e,t,n)};Wt.useRef=function(e){return ys.current.useRef(e)};Wt.useState=function(e){return ys.current.useState(e)};Wt.useSyncExternalStore=function(e,t,n){return ys.current.useSyncExternalStore(e,t,n)};Wt.useTransition=function(){return ys.current.useTransition()};Wt.version="18.3.1";Y3.exports=Wt;var b=Y3.exports;const Ae=H3(b),rS=gM({__proto__:null,default:Ae},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM=b,RM=Symbol.for("react.element"),DM=Symbol.for("react.fragment"),IM=Object.prototype.hasOwnProperty,OM=MM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FM={key:!0,ref:!0,__self:!0,__source:!0};function sS(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)IM.call(t,r)&&!FM.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:RM,type:e,key:a,ref:o,props:s,_owner:OM.current}}T0.Fragment=DM;T0.jsx=sS;T0.jsxs=sS;G3.exports=T0;var i=G3.exports,iS={exports:{}},li={},aS={exports:{}},oS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,G){var ie=I.length;I.push(G);e:for(;0<ie;){var ve=ie-1>>>1,A=I[ve];if(0<s(A,G))I[ve]=G,I[ie]=A,ie=ve;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var G=I[0],ie=I.pop();if(ie!==G){I[0]=ie;e:for(var ve=0,A=I.length,q=A>>>1;ve<q;){var H=2*(ve+1)-1,ne=I[H],re=H+1,se=I[re];if(0>s(ne,ie))re<A&&0>s(se,ne)?(I[ve]=se,I[re]=ie,ve=re):(I[ve]=ne,I[H]=ie,ve=H);else if(re<A&&0>s(se,ie))I[ve]=se,I[re]=ie,ve=re;else break e}}return G}function s(I,G){var ie=I.sortIndex-G.sortIndex;return ie!==0?ie:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,w=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=I)r(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(u)}}function k(I){if(v=!1,S(I),!w)if(n(c)!==null)w=!0,te(P);else{var G=n(u);G!==null&&Q(k,G.startTime-I)}}function P(I,G){w=!1,v&&(v=!1,y(R),R=-1),p=!0;var ie=m;try{for(S(G),h=n(c);h!==null&&(!(h.expirationTime>G)||I&&!M());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,m=h.priorityLevel;var A=ve(h.expirationTime<=G);G=e.unstable_now(),typeof A=="function"?h.callback=A:h===n(c)&&r(c),S(G)}else r(c);h=n(c)}if(h!==null)var q=!0;else{var H=n(u);H!==null&&Q(k,H.startTime-G),q=!1}return q}finally{h=null,m=ie,p=!1}}var z=!1,B=null,R=-1,K=5,ee=-1;function M(){return!(e.unstable_now()-ee<K)}function T(){if(B!==null){var I=e.unstable_now();ee=I;var G=!0;try{G=B(!0,I)}finally{G?V():(z=!1,B=null)}}else z=!1}var V;if(typeof x=="function")V=function(){x(T)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,oe=U.port2;U.port1.onmessage=T,V=function(){oe.postMessage(null)}}else V=function(){N(T,0)};function te(I){B=I,z||(z=!0,V())}function Q(I,G){R=N(function(){I(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,te(P))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var ie=m;m=G;try{return I()}finally{m=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ie=m;m=I;try{return G()}finally{m=ie}},e.unstable_scheduleCallback=function(I,G,ie){var ve=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ve+ie:ve):ie=ve,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ie+A,I={id:d++,callback:G,priorityLevel:I,startTime:ie,expirationTime:A,sortIndex:-1},ie>ve?(I.sortIndex=ie,t(u,I),n(c)===null&&I===n(u)&&(v?(y(R),R=-1):v=!0,Q(k,ie-ve))):(I.sortIndex=A,t(c,I),w||p||(w=!0,te(P))),I},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(I){var G=m;return function(){var ie=m;m=G;try{return I.apply(this,arguments)}finally{m=ie}}}})(oS);aS.exports=oS;var zM=aS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BM=b,ai=zM;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lS=new Set,rm={};function uu(e,t){eh(e,t),eh(e+"Capture",t)}function eh(e,t){for(rm[e]=t,e=0;e<t.length;e++)lS.add(t[e])}var Eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d2=Object.prototype.hasOwnProperty,$M=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hN={},fN={};function UM(e){return d2.call(fN,e)?!0:d2.call(hN,e)?!1:$M.test(e)?fN[e]=!0:(hN[e]=!0,!1)}function qM(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VM(e,t,n,r){if(t===null||typeof t>"u"||qM(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ws(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Br[e]=new ws(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Br[t]=new ws(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Br[e]=new ws(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Br[e]=new ws(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Br[e]=new ws(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Br[e]=new ws(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Br[e]=new ws(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Br[e]=new ws(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Br[e]=new ws(e,5,!1,e.toLowerCase(),null,!1,!1)});var mb=/[\-:]([a-z])/g;function pb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mb,pb);Br[t]=new ws(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mb,pb);Br[t]=new ws(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mb,pb);Br[t]=new ws(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Br[e]=new ws(e,1,!1,e.toLowerCase(),null,!1,!1)});Br.xlinkHref=new ws("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Br[e]=new ws(e,1,!1,e.toLowerCase(),null,!0,!0)});function gb(e,t,n,r){var s=Br.hasOwnProperty(t)?Br[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VM(t,n,s,r)&&(n=null),r||s===null?UM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $o=BM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ng=Symbol.for("react.element"),fd=Symbol.for("react.portal"),md=Symbol.for("react.fragment"),vb=Symbol.for("react.strict_mode"),h2=Symbol.for("react.profiler"),cS=Symbol.for("react.provider"),uS=Symbol.for("react.context"),xb=Symbol.for("react.forward_ref"),f2=Symbol.for("react.suspense"),m2=Symbol.for("react.suspense_list"),yb=Symbol.for("react.memo"),gl=Symbol.for("react.lazy"),dS=Symbol.for("react.offscreen"),mN=Symbol.iterator;function ff(e){return e===null||typeof e!="object"?null:(e=mN&&e[mN]||e["@@iterator"],typeof e=="function"?e:null)}var $n=Object.assign,V1;function Af(e){if(V1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V1=t&&t[1]||""}return`
`+V1+e}var W1=!1;function H1(e,t){if(!e||W1)return"";W1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{W1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Af(e):""}function WM(e){switch(e.tag){case 5:return Af(e.type);case 16:return Af("Lazy");case 13:return Af("Suspense");case 19:return Af("SuspenseList");case 0:case 2:case 15:return e=H1(e.type,!1),e;case 11:return e=H1(e.type.render,!1),e;case 1:return e=H1(e.type,!0),e;default:return""}}function p2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case md:return"Fragment";case fd:return"Portal";case h2:return"Profiler";case vb:return"StrictMode";case f2:return"Suspense";case m2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uS:return(e.displayName||"Context")+".Consumer";case cS:return(e._context.displayName||"Context")+".Provider";case xb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yb:return t=e.displayName||null,t!==null?t:p2(e.type)||"Memo";case gl:t=e._payload,e=e._init;try{return p2(e(t))}catch{}}return null}function HM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p2(t);case 8:return t===vb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ql(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GM(e){var t=hS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _g(e){e._valueTracker||(e._valueTracker=GM(e))}function fS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function kv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function g2(e,t){var n=t.checked;return $n({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ql(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mS(e,t){t=t.checked,t!=null&&gb(e,"checked",t,!1)}function v2(e,t){mS(e,t);var n=ql(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?x2(e,t.type,n):t.hasOwnProperty("defaultValue")&&x2(e,t.type,ql(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function x2(e,t,n){(t!=="number"||kv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ef=Array.isArray;function Pd(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ql(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function y2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return $n({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(Ef(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ql(n)}}function pS(e,t){var n=ql(t.value),r=ql(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sg,vS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sg=Sg||document.createElement("div"),Sg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sm(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YM=["Webkit","ms","Moz","O"];Object.keys(zf).forEach(function(e){YM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zf[t]=zf[e]})});function xS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zf.hasOwnProperty(e)&&zf[e]?(""+t).trim():t+"px"}function yS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var KM=$n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b2(e,t){if(t){if(KM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function j2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N2=null;function wb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _2=null,Ad=null,Ed=null;function yN(e){if(e=Xm(e)){if(typeof _2!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=O0(t),_2(e.stateNode,e.type,t))}}function wS(e){Ad?Ed?Ed.push(e):Ed=[e]:Ad=e}function bS(){if(Ad){var e=Ad,t=Ed;if(Ed=Ad=null,yN(e),t)for(e=0;e<t.length;e++)yN(t[e])}}function jS(e,t){return e(t)}function NS(){}var G1=!1;function _S(e,t,n){if(G1)return e(t,n);G1=!0;try{return jS(e,t,n)}finally{G1=!1,(Ad!==null||Ed!==null)&&(NS(),bS())}}function im(e,t){var n=e.stateNode;if(n===null)return null;var r=O0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var S2=!1;if(Eo)try{var mf={};Object.defineProperty(mf,"passive",{get:function(){S2=!0}}),window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,mf)}catch{S2=!1}function JM(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Bf=!1,Pv=null,Av=!1,C2=null,XM={onError:function(e){Bf=!0,Pv=e}};function ZM(e,t,n,r,s,a,o,l,c){Bf=!1,Pv=null,JM.apply(XM,arguments)}function QM(e,t,n,r,s,a,o,l,c){if(ZM.apply(this,arguments),Bf){if(Bf){var u=Pv;Bf=!1,Pv=null}else throw Error(ze(198));Av||(Av=!0,C2=u)}}function du(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function SS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wN(e){if(du(e)!==e)throw Error(ze(188))}function eR(e){var t=e.alternate;if(!t){if(t=du(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return wN(s),e;if(a===r)return wN(s),t;a=a.sibling}throw Error(ze(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function CS(e){return e=eR(e),e!==null?kS(e):null}function kS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kS(e);if(t!==null)return t;e=e.sibling}return null}var PS=ai.unstable_scheduleCallback,bN=ai.unstable_cancelCallback,tR=ai.unstable_shouldYield,nR=ai.unstable_requestPaint,Qn=ai.unstable_now,rR=ai.unstable_getCurrentPriorityLevel,bb=ai.unstable_ImmediatePriority,AS=ai.unstable_UserBlockingPriority,Ev=ai.unstable_NormalPriority,sR=ai.unstable_LowPriority,ES=ai.unstable_IdlePriority,M0=null,qa=null;function iR(e){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(M0,e,void 0,(e.current.flags&128)===128)}catch{}}var ia=Math.clz32?Math.clz32:lR,aR=Math.log,oR=Math.LN2;function lR(e){return e>>>=0,e===0?32:31-(aR(e)/oR|0)|0}var Cg=64,kg=4194304;function Lf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Lf(l):(a&=o,a!==0&&(r=Lf(a)))}else o=n&~s,o!==0?r=Lf(o):a!==0&&(r=Lf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ia(t),s=1<<n,r|=e[n],t&=~s;return r}function cR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ia(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=cR(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function k2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LS(){var e=Cg;return Cg<<=1,!(Cg&4194240)&&(Cg=64),e}function Y1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Km(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ia(t),e[t]=n}function dR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ia(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function jb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ia(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var vn=0;function TS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MS,Nb,RS,DS,IS,P2=!1,Pg=[],Ml=null,Rl=null,Dl=null,am=new Map,om=new Map,yl=[],hR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jN(e,t){switch(e){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":am.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":om.delete(t.pointerId)}}function pf(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Xm(t),t!==null&&Nb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fR(e,t,n,r,s){switch(t){case"focusin":return Ml=pf(Ml,e,t,n,r,s),!0;case"dragenter":return Rl=pf(Rl,e,t,n,r,s),!0;case"mouseover":return Dl=pf(Dl,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return am.set(a,pf(am.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,om.set(a,pf(om.get(a)||null,e,t,n,r,s)),!0}return!1}function OS(e){var t=Ic(e.target);if(t!==null){var n=du(t);if(n!==null){if(t=n.tag,t===13){if(t=SS(n),t!==null){e.blockedOn=t,IS(e.priority,function(){RS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function iv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=A2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);N2=r,n.target.dispatchEvent(r),N2=null}else return t=Xm(n),t!==null&&Nb(t),e.blockedOn=n,!1;t.shift()}return!0}function NN(e,t,n){iv(e)&&n.delete(t)}function mR(){P2=!1,Ml!==null&&iv(Ml)&&(Ml=null),Rl!==null&&iv(Rl)&&(Rl=null),Dl!==null&&iv(Dl)&&(Dl=null),am.forEach(NN),om.forEach(NN)}function gf(e,t){e.blockedOn===t&&(e.blockedOn=null,P2||(P2=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,mR)))}function lm(e){function t(s){return gf(s,e)}if(0<Pg.length){gf(Pg[0],e);for(var n=1;n<Pg.length;n++){var r=Pg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ml!==null&&gf(Ml,e),Rl!==null&&gf(Rl,e),Dl!==null&&gf(Dl,e),am.forEach(t),om.forEach(t),n=0;n<yl.length;n++)r=yl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yl.length&&(n=yl[0],n.blockedOn===null);)OS(n),n.blockedOn===null&&yl.shift()}var Ld=$o.ReactCurrentBatchConfig,Tv=!0;function pR(e,t,n,r){var s=vn,a=Ld.transition;Ld.transition=null;try{vn=1,_b(e,t,n,r)}finally{vn=s,Ld.transition=a}}function gR(e,t,n,r){var s=vn,a=Ld.transition;Ld.transition=null;try{vn=4,_b(e,t,n,r)}finally{vn=s,Ld.transition=a}}function _b(e,t,n,r){if(Tv){var s=A2(e,t,n,r);if(s===null)sy(e,t,r,Mv,n),jN(e,r);else if(fR(s,e,t,n,r))r.stopPropagation();else if(jN(e,r),t&4&&-1<hR.indexOf(e)){for(;s!==null;){var a=Xm(s);if(a!==null&&MS(a),a=A2(e,t,n,r),a===null&&sy(e,t,r,Mv,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else sy(e,t,r,null,n)}}var Mv=null;function A2(e,t,n,r){if(Mv=null,e=wb(r),e=Ic(e),e!==null)if(t=du(e),t===null)e=null;else if(n=t.tag,n===13){if(e=SS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mv=e,null}function FS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rR()){case bb:return 1;case AS:return 4;case Ev:case sR:return 16;case ES:return 536870912;default:return 16}default:return 16}}var Al=null,Sb=null,av=null;function zS(){if(av)return av;var e,t=Sb,n=t.length,r,s="value"in Al?Al.value:Al.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return av=s.slice(e,1<r?1-r:void 0)}function ov(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ag(){return!0}function _N(){return!1}function ci(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ag:_N,this.isPropagationStopped=_N,this}return $n(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ag)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ag)},persist:function(){},isPersistent:Ag}),t}var Nh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cb=ci(Nh),Jm=$n({},Nh,{view:0,detail:0}),vR=ci(Jm),K1,J1,vf,R0=$n({},Jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vf&&(vf&&e.type==="mousemove"?(K1=e.screenX-vf.screenX,J1=e.screenY-vf.screenY):J1=K1=0,vf=e),K1)},movementY:function(e){return"movementY"in e?e.movementY:J1}}),SN=ci(R0),xR=$n({},R0,{dataTransfer:0}),yR=ci(xR),wR=$n({},Jm,{relatedTarget:0}),X1=ci(wR),bR=$n({},Nh,{animationName:0,elapsedTime:0,pseudoElement:0}),jR=ci(bR),NR=$n({},Nh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_R=ci(NR),SR=$n({},Nh,{data:0}),CN=ci(SR),CR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PR[e])?!!t[e]:!1}function kb(){return AR}var ER=$n({},Jm,{key:function(e){if(e.key){var t=CR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ov(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kb,charCode:function(e){return e.type==="keypress"?ov(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ov(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LR=ci(ER),TR=$n({},R0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kN=ci(TR),MR=$n({},Jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kb}),RR=ci(MR),DR=$n({},Nh,{propertyName:0,elapsedTime:0,pseudoElement:0}),IR=ci(DR),OR=$n({},R0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FR=ci(OR),zR=[9,13,27,32],Pb=Eo&&"CompositionEvent"in window,$f=null;Eo&&"documentMode"in document&&($f=document.documentMode);var BR=Eo&&"TextEvent"in window&&!$f,BS=Eo&&(!Pb||$f&&8<$f&&11>=$f),PN=" ",AN=!1;function $S(e,t){switch(e){case"keyup":return zR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function US(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pd=!1;function $R(e,t){switch(e){case"compositionend":return US(t);case"keypress":return t.which!==32?null:(AN=!0,PN);case"textInput":return e=t.data,e===PN&&AN?null:e;default:return null}}function UR(e,t){if(pd)return e==="compositionend"||!Pb&&$S(e,t)?(e=zS(),av=Sb=Al=null,pd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BS&&t.locale!=="ko"?null:t.data;default:return null}}var qR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qR[e.type]:t==="textarea"}function qS(e,t,n,r){wS(r),t=Rv(t,"onChange"),0<t.length&&(n=new Cb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Uf=null,cm=null;function VR(e){eC(e,0)}function D0(e){var t=xd(e);if(fS(t))return e}function WR(e,t){if(e==="change")return t}var VS=!1;if(Eo){var Z1;if(Eo){var Q1="oninput"in document;if(!Q1){var LN=document.createElement("div");LN.setAttribute("oninput","return;"),Q1=typeof LN.oninput=="function"}Z1=Q1}else Z1=!1;VS=Z1&&(!document.documentMode||9<document.documentMode)}function TN(){Uf&&(Uf.detachEvent("onpropertychange",WS),cm=Uf=null)}function WS(e){if(e.propertyName==="value"&&D0(cm)){var t=[];qS(t,cm,e,wb(e)),_S(VR,t)}}function HR(e,t,n){e==="focusin"?(TN(),Uf=t,cm=n,Uf.attachEvent("onpropertychange",WS)):e==="focusout"&&TN()}function GR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return D0(cm)}function YR(e,t){if(e==="click")return D0(t)}function KR(e,t){if(e==="input"||e==="change")return D0(t)}function JR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ca=typeof Object.is=="function"?Object.is:JR;function um(e,t){if(ca(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d2.call(t,s)||!ca(e[s],t[s]))return!1}return!0}function MN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function RN(e,t){var n=MN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MN(n)}}function HS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?HS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GS(){for(var e=window,t=kv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=kv(e.document)}return t}function Ab(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XR(e){var t=GS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&HS(n.ownerDocument.documentElement,n)){if(r!==null&&Ab(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=RN(n,a);var o=RN(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZR=Eo&&"documentMode"in document&&11>=document.documentMode,gd=null,E2=null,qf=null,L2=!1;function DN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;L2||gd==null||gd!==kv(r)||(r=gd,"selectionStart"in r&&Ab(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&um(qf,r)||(qf=r,r=Rv(E2,"onSelect"),0<r.length&&(t=new Cb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gd)))}function Eg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vd={animationend:Eg("Animation","AnimationEnd"),animationiteration:Eg("Animation","AnimationIteration"),animationstart:Eg("Animation","AnimationStart"),transitionend:Eg("Transition","TransitionEnd")},ey={},YS={};Eo&&(YS=document.createElement("div").style,"AnimationEvent"in window||(delete vd.animationend.animation,delete vd.animationiteration.animation,delete vd.animationstart.animation),"TransitionEvent"in window||delete vd.transitionend.transition);function I0(e){if(ey[e])return ey[e];if(!vd[e])return e;var t=vd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in YS)return ey[e]=t[n];return e}var KS=I0("animationend"),JS=I0("animationiteration"),XS=I0("animationstart"),ZS=I0("transitionend"),QS=new Map,IN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rc(e,t){QS.set(e,t),uu(t,[e])}for(var ty=0;ty<IN.length;ty++){var ny=IN[ty],QR=ny.toLowerCase(),eD=ny[0].toUpperCase()+ny.slice(1);rc(QR,"on"+eD)}rc(KS,"onAnimationEnd");rc(JS,"onAnimationIteration");rc(XS,"onAnimationStart");rc("dblclick","onDoubleClick");rc("focusin","onFocus");rc("focusout","onBlur");rc(ZS,"onTransitionEnd");eh("onMouseEnter",["mouseout","mouseover"]);eh("onMouseLeave",["mouseout","mouseover"]);eh("onPointerEnter",["pointerout","pointerover"]);eh("onPointerLeave",["pointerout","pointerover"]);uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tf));function ON(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,QM(r,t,void 0,e),e.currentTarget=null}function eC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ON(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ON(s,l,u),a=c}}}if(Av)throw e=C2,Av=!1,C2=null,e}function Ln(e,t){var n=t[I2];n===void 0&&(n=t[I2]=new Set);var r=e+"__bubble";n.has(r)||(tC(t,e,2,!1),n.add(r))}function ry(e,t,n){var r=0;t&&(r|=4),tC(n,e,r,t)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function dm(e){if(!e[Lg]){e[Lg]=!0,lS.forEach(function(n){n!=="selectionchange"&&(tD.has(n)||ry(n,!1,e),ry(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lg]||(t[Lg]=!0,ry("selectionchange",!1,t))}}function tC(e,t,n,r){switch(FS(t)){case 1:var s=pR;break;case 4:s=gR;break;default:s=_b}n=s.bind(null,t,n,e),s=void 0,!S2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function sy(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ic(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}_S(function(){var u=a,d=wb(n),h=[];e:{var m=QS.get(e);if(m!==void 0){var p=Cb,w=e;switch(e){case"keypress":if(ov(n)===0)break e;case"keydown":case"keyup":p=LR;break;case"focusin":w="focus",p=X1;break;case"focusout":w="blur",p=X1;break;case"beforeblur":case"afterblur":p=X1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=SN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=RR;break;case KS:case JS:case XS:p=jR;break;case ZS:p=IR;break;case"scroll":p=vR;break;case"wheel":p=FR;break;case"copy":case"cut":case"paste":p=_R;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kN}var v=(t&4)!==0,N=!v&&e==="scroll",y=v?m!==null?m+"Capture":null:m;v=[];for(var x=u,S;x!==null;){S=x;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,y!==null&&(k=im(x,y),k!=null&&v.push(hm(x,k,S)))),N)break;x=x.return}0<v.length&&(m=new p(m,w,null,n,d),h.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==N2&&(w=n.relatedTarget||n.fromElement)&&(Ic(w)||w[Lo]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Ic(w):null,w!==null&&(N=du(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(v=SN,k="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=kN,k="onPointerLeave",y="onPointerEnter",x="pointer"),N=p==null?m:xd(p),S=w==null?m:xd(w),m=new v(k,x+"leave",p,n,d),m.target=N,m.relatedTarget=S,k=null,Ic(d)===u&&(v=new v(y,x+"enter",w,n,d),v.target=S,v.relatedTarget=N,k=v),N=k,p&&w)t:{for(v=p,y=w,x=0,S=v;S;S=Yu(S))x++;for(S=0,k=y;k;k=Yu(k))S++;for(;0<x-S;)v=Yu(v),x--;for(;0<S-x;)y=Yu(y),S--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Yu(v),y=Yu(y)}v=null}else v=null;p!==null&&FN(h,m,p,v,!1),w!==null&&N!==null&&FN(h,N,w,v,!0)}}e:{if(m=u?xd(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var P=WR;else if(EN(m))if(VS)P=KR;else{P=GR;var z=HR}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=YR);if(P&&(P=P(e,u))){qS(h,P,n,d);break e}z&&z(e,m,u),e==="focusout"&&(z=m._wrapperState)&&z.controlled&&m.type==="number"&&x2(m,"number",m.value)}switch(z=u?xd(u):window,e){case"focusin":(EN(z)||z.contentEditable==="true")&&(gd=z,E2=u,qf=null);break;case"focusout":qf=E2=gd=null;break;case"mousedown":L2=!0;break;case"contextmenu":case"mouseup":case"dragend":L2=!1,DN(h,n,d);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":DN(h,n,d)}var B;if(Pb)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else pd?$S(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(BS&&n.locale!=="ko"&&(pd||R!=="onCompositionStart"?R==="onCompositionEnd"&&pd&&(B=zS()):(Al=d,Sb="value"in Al?Al.value:Al.textContent,pd=!0)),z=Rv(u,R),0<z.length&&(R=new CN(R,e,null,n,d),h.push({event:R,listeners:z}),B?R.data=B:(B=US(n),B!==null&&(R.data=B)))),(B=BR?$R(e,n):UR(e,n))&&(u=Rv(u,"onBeforeInput"),0<u.length&&(d=new CN("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=B))}eC(h,t)})}function hm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rv(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=im(e,n),a!=null&&r.unshift(hm(e,a,s)),a=im(e,t),a!=null&&r.push(hm(e,a,s))),e=e.return}return r}function Yu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FN(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=im(n,a),c!=null&&o.unshift(hm(n,c,l))):s||(c=im(n,a),c!=null&&o.push(hm(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nD=/\r\n?/g,rD=/\u0000|\uFFFD/g;function zN(e){return(typeof e=="string"?e:""+e).replace(nD,`
`).replace(rD,"")}function Tg(e,t,n){if(t=zN(t),zN(e)!==t&&n)throw Error(ze(425))}function Dv(){}var T2=null,M2=null;function R2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var D2=typeof setTimeout=="function"?setTimeout:void 0,sD=typeof clearTimeout=="function"?clearTimeout:void 0,BN=typeof Promise=="function"?Promise:void 0,iD=typeof queueMicrotask=="function"?queueMicrotask:typeof BN<"u"?function(e){return BN.resolve(null).then(e).catch(aD)}:D2;function aD(e){setTimeout(function(){throw e})}function iy(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),lm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);lm(t)}function Il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $N(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _h=Math.random().toString(36).slice(2),Da="__reactFiber$"+_h,fm="__reactProps$"+_h,Lo="__reactContainer$"+_h,I2="__reactEvents$"+_h,oD="__reactListeners$"+_h,lD="__reactHandles$"+_h;function Ic(e){var t=e[Da];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lo]||n[Da]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$N(e);e!==null;){if(n=e[Da])return n;e=$N(e)}return t}e=n,n=e.parentNode}return null}function Xm(e){return e=e[Da]||e[Lo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function O0(e){return e[fm]||null}var O2=[],yd=-1;function sc(e){return{current:e}}function Mn(e){0>yd||(e.current=O2[yd],O2[yd]=null,yd--)}function Pn(e,t){yd++,O2[yd]=e.current,e.current=t}var Vl={},is=sc(Vl),Os=sc(!1),Jc=Vl;function th(e,t){var n=e.type.contextTypes;if(!n)return Vl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fs(e){return e=e.childContextTypes,e!=null}function Iv(){Mn(Os),Mn(is)}function UN(e,t,n){if(is.current!==Vl)throw Error(ze(168));Pn(is,t),Pn(Os,n)}function nC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ze(108,HM(e)||"Unknown",s));return $n({},n,r)}function Ov(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vl,Jc=is.current,Pn(is,e),Pn(Os,Os.current),!0}function qN(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=nC(e,t,Jc),r.__reactInternalMemoizedMergedChildContext=e,Mn(Os),Mn(is),Pn(is,e)):Mn(Os),Pn(Os,n)}var No=null,F0=!1,ay=!1;function rC(e){No===null?No=[e]:No.push(e)}function cD(e){F0=!0,rC(e)}function ic(){if(!ay&&No!==null){ay=!0;var e=0,t=vn;try{var n=No;for(vn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}No=null,F0=!1}catch(s){throw No!==null&&(No=No.slice(e+1)),PS(bb,ic),s}finally{vn=t,ay=!1}}return null}var wd=[],bd=0,Fv=null,zv=0,Ni=[],_i=0,Xc=null,_o=1,So="";function Ac(e,t){wd[bd++]=zv,wd[bd++]=Fv,Fv=e,zv=t}function sC(e,t,n){Ni[_i++]=_o,Ni[_i++]=So,Ni[_i++]=Xc,Xc=e;var r=_o;e=So;var s=32-ia(r)-1;r&=~(1<<s),n+=1;var a=32-ia(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_o=1<<32-ia(t)+s|n<<s|r,So=a+e}else _o=1<<a|n<<s|r,So=e}function Eb(e){e.return!==null&&(Ac(e,1),sC(e,1,0))}function Lb(e){for(;e===Fv;)Fv=wd[--bd],wd[bd]=null,zv=wd[--bd],wd[bd]=null;for(;e===Xc;)Xc=Ni[--_i],Ni[_i]=null,So=Ni[--_i],Ni[_i]=null,_o=Ni[--_i],Ni[_i]=null}var ri=null,ti=null,Rn=!1,ea=null;function iC(e,t){var n=Ci(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function VN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ri=e,ti=Il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ri=e,ti=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xc!==null?{id:_o,overflow:So}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ci(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ri=e,ti=null,!0):!1;default:return!1}}function F2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function z2(e){if(Rn){var t=ti;if(t){var n=t;if(!VN(e,t)){if(F2(e))throw Error(ze(418));t=Il(n.nextSibling);var r=ri;t&&VN(e,t)?iC(r,n):(e.flags=e.flags&-4097|2,Rn=!1,ri=e)}}else{if(F2(e))throw Error(ze(418));e.flags=e.flags&-4097|2,Rn=!1,ri=e}}}function WN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ri=e}function Mg(e){if(e!==ri)return!1;if(!Rn)return WN(e),Rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!R2(e.type,e.memoizedProps)),t&&(t=ti)){if(F2(e))throw aC(),Error(ze(418));for(;t;)iC(e,t),t=Il(t.nextSibling)}if(WN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ti=Il(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ti=null}}else ti=ri?Il(e.stateNode.nextSibling):null;return!0}function aC(){for(var e=ti;e;)e=Il(e.nextSibling)}function nh(){ti=ri=null,Rn=!1}function Tb(e){ea===null?ea=[e]:ea.push(e)}var uD=$o.ReactCurrentBatchConfig;function xf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function Rg(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function HN(e){var t=e._init;return t(e._payload)}function oC(e){function t(y,x){if(e){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Bl(y,x),y.index=0,y.sibling=null,y}function a(y,x,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=2,x):S):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,S,k){return x===null||x.tag!==6?(x=fy(S,y.mode,k),x.return=y,x):(x=s(x,S),x.return=y,x)}function c(y,x,S,k){var P=S.type;return P===md?d(y,x,S.props.children,k,S.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===gl&&HN(P)===x.type)?(k=s(x,S.props),k.ref=xf(y,x,S),k.return=y,k):(k=mv(S.type,S.key,S.props,null,y.mode,k),k.ref=xf(y,x,S),k.return=y,k)}function u(y,x,S,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=my(S,y.mode,k),x.return=y,x):(x=s(x,S.children||[]),x.return=y,x)}function d(y,x,S,k,P){return x===null||x.tag!==7?(x=Hc(S,y.mode,k,P),x.return=y,x):(x=s(x,S),x.return=y,x)}function h(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=fy(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ng:return S=mv(x.type,x.key,x.props,null,y.mode,S),S.ref=xf(y,null,x),S.return=y,S;case fd:return x=my(x,y.mode,S),x.return=y,x;case gl:var k=x._init;return h(y,k(x._payload),S)}if(Ef(x)||ff(x))return x=Hc(x,y.mode,S,null),x.return=y,x;Rg(y,x)}return null}function m(y,x,S,k){var P=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:l(y,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ng:return S.key===P?c(y,x,S,k):null;case fd:return S.key===P?u(y,x,S,k):null;case gl:return P=S._init,m(y,x,P(S._payload),k)}if(Ef(S)||ff(S))return P!==null?null:d(y,x,S,k,null);Rg(y,S)}return null}function p(y,x,S,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(S)||null,l(x,y,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ng:return y=y.get(k.key===null?S:k.key)||null,c(x,y,k,P);case fd:return y=y.get(k.key===null?S:k.key)||null,u(x,y,k,P);case gl:var z=k._init;return p(y,x,S,z(k._payload),P)}if(Ef(k)||ff(k))return y=y.get(S)||null,d(x,y,k,P,null);Rg(x,k)}return null}function w(y,x,S,k){for(var P=null,z=null,B=x,R=x=0,K=null;B!==null&&R<S.length;R++){B.index>R?(K=B,B=null):K=B.sibling;var ee=m(y,B,S[R],k);if(ee===null){B===null&&(B=K);break}e&&B&&ee.alternate===null&&t(y,B),x=a(ee,x,R),z===null?P=ee:z.sibling=ee,z=ee,B=K}if(R===S.length)return n(y,B),Rn&&Ac(y,R),P;if(B===null){for(;R<S.length;R++)B=h(y,S[R],k),B!==null&&(x=a(B,x,R),z===null?P=B:z.sibling=B,z=B);return Rn&&Ac(y,R),P}for(B=r(y,B);R<S.length;R++)K=p(B,y,R,S[R],k),K!==null&&(e&&K.alternate!==null&&B.delete(K.key===null?R:K.key),x=a(K,x,R),z===null?P=K:z.sibling=K,z=K);return e&&B.forEach(function(M){return t(y,M)}),Rn&&Ac(y,R),P}function v(y,x,S,k){var P=ff(S);if(typeof P!="function")throw Error(ze(150));if(S=P.call(S),S==null)throw Error(ze(151));for(var z=P=null,B=x,R=x=0,K=null,ee=S.next();B!==null&&!ee.done;R++,ee=S.next()){B.index>R?(K=B,B=null):K=B.sibling;var M=m(y,B,ee.value,k);if(M===null){B===null&&(B=K);break}e&&B&&M.alternate===null&&t(y,B),x=a(M,x,R),z===null?P=M:z.sibling=M,z=M,B=K}if(ee.done)return n(y,B),Rn&&Ac(y,R),P;if(B===null){for(;!ee.done;R++,ee=S.next())ee=h(y,ee.value,k),ee!==null&&(x=a(ee,x,R),z===null?P=ee:z.sibling=ee,z=ee);return Rn&&Ac(y,R),P}for(B=r(y,B);!ee.done;R++,ee=S.next())ee=p(B,y,R,ee.value,k),ee!==null&&(e&&ee.alternate!==null&&B.delete(ee.key===null?R:ee.key),x=a(ee,x,R),z===null?P=ee:z.sibling=ee,z=ee);return e&&B.forEach(function(T){return t(y,T)}),Rn&&Ac(y,R),P}function N(y,x,S,k){if(typeof S=="object"&&S!==null&&S.type===md&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ng:e:{for(var P=S.key,z=x;z!==null;){if(z.key===P){if(P=S.type,P===md){if(z.tag===7){n(y,z.sibling),x=s(z,S.props.children),x.return=y,y=x;break e}}else if(z.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===gl&&HN(P)===z.type){n(y,z.sibling),x=s(z,S.props),x.ref=xf(y,z,S),x.return=y,y=x;break e}n(y,z);break}else t(y,z);z=z.sibling}S.type===md?(x=Hc(S.props.children,y.mode,k,S.key),x.return=y,y=x):(k=mv(S.type,S.key,S.props,null,y.mode,k),k.ref=xf(y,x,S),k.return=y,y=k)}return o(y);case fd:e:{for(z=S.key;x!==null;){if(x.key===z)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),x=s(x,S.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=my(S,y.mode,k),x.return=y,y=x}return o(y);case gl:return z=S._init,N(y,x,z(S._payload),k)}if(Ef(S))return w(y,x,S,k);if(ff(S))return v(y,x,S,k);Rg(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,S),x.return=y,y=x):(n(y,x),x=fy(S,y.mode,k),x.return=y,y=x),o(y)):n(y,x)}return N}var rh=oC(!0),lC=oC(!1),Bv=sc(null),$v=null,jd=null,Mb=null;function Rb(){Mb=jd=$v=null}function Db(e){var t=Bv.current;Mn(Bv),e._currentValue=t}function B2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Td(e,t){$v=e,Mb=jd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rs=!0),e.firstContext=null)}function Li(e){var t=e._currentValue;if(Mb!==e)if(e={context:e,memoizedValue:t,next:null},jd===null){if($v===null)throw Error(ze(308));jd=e,$v.dependencies={lanes:0,firstContext:e}}else jd=jd.next=e;return t}var Oc=null;function Ib(e){Oc===null?Oc=[e]:Oc.push(e)}function cC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ib(t)):(n.next=s.next,s.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vl=!1;function Ob(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ol(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,nn&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,To(e,n)}return s=r.interleaved,s===null?(t.next=t,Ib(r)):(t.next=s.next,s.next=t),r.interleaved=t,To(e,n)}function lv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jb(e,n)}}function GN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uv(e,t,n,r){var s=e.updateQueue;vl=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(m=t,p=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=$n({},h,m);break e;case 2:vl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Qc|=o,e.lanes=o,e.memoizedState=h}}function YN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ze(191,s));s.call(r)}}}var Zm={},Va=sc(Zm),mm=sc(Zm),pm=sc(Zm);function Fc(e){if(e===Zm)throw Error(ze(174));return e}function Fb(e,t){switch(Pn(pm,t),Pn(mm,e),Pn(Va,Zm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:w2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=w2(t,e)}Mn(Va),Pn(Va,t)}function sh(){Mn(Va),Mn(mm),Mn(pm)}function dC(e){Fc(pm.current);var t=Fc(Va.current),n=w2(t,e.type);t!==n&&(Pn(mm,e),Pn(Va,n))}function zb(e){mm.current===e&&(Mn(Va),Mn(mm))}var Fn=sc(0);function qv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oy=[];function Bb(){for(var e=0;e<oy.length;e++)oy[e]._workInProgressVersionPrimary=null;oy.length=0}var cv=$o.ReactCurrentDispatcher,ly=$o.ReactCurrentBatchConfig,Zc=0,zn=null,vr=null,Cr=null,Vv=!1,Vf=!1,gm=0,dD=0;function Hr(){throw Error(ze(321))}function $b(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ca(e[n],t[n]))return!1;return!0}function Ub(e,t,n,r,s,a){if(Zc=a,zn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cv.current=e===null||e.memoizedState===null?pD:gD,e=n(r,s),Vf){a=0;do{if(Vf=!1,gm=0,25<=a)throw Error(ze(301));a+=1,Cr=vr=null,t.updateQueue=null,cv.current=vD,e=n(r,s)}while(Vf)}if(cv.current=Wv,t=vr!==null&&vr.next!==null,Zc=0,Cr=vr=zn=null,Vv=!1,t)throw Error(ze(300));return e}function qb(){var e=gm!==0;return gm=0,e}function La(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?zn.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function Ti(){if(vr===null){var e=zn.alternate;e=e!==null?e.memoizedState:null}else e=vr.next;var t=Cr===null?zn.memoizedState:Cr.next;if(t!==null)Cr=t,vr=e;else{if(e===null)throw Error(ze(310));vr=e,e={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Cr===null?zn.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function vm(e,t){return typeof t=="function"?t(e):t}function cy(e){var t=Ti(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=vr,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Zc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,zn.lanes|=d,Qc|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,ca(r,t.memoizedState)||(Rs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,zn.lanes|=a,Qc|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uy(e){var t=Ti(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);ca(a,t.memoizedState)||(Rs=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function hC(){}function fC(e,t){var n=zn,r=Ti(),s=t(),a=!ca(r.memoizedState,s);if(a&&(r.memoizedState=s,Rs=!0),r=r.queue,Vb(gC.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Cr!==null&&Cr.memoizedState.tag&1){if(n.flags|=2048,xm(9,pC.bind(null,n,r,s,t),void 0,null),Pr===null)throw Error(ze(349));Zc&30||mC(n,t,s)}return s}function mC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=zn.updateQueue,t===null?(t={lastEffect:null,stores:null},zn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pC(e,t,n,r){t.value=n,t.getSnapshot=r,vC(t)&&xC(e)}function gC(e,t,n){return n(function(){vC(t)&&xC(e)})}function vC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ca(e,n)}catch{return!0}}function xC(e){var t=To(e,1);t!==null&&aa(t,e,1,-1)}function KN(e){var t=La();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vm,lastRenderedState:e},t.queue=e,e=e.dispatch=mD.bind(null,zn,e),[t.memoizedState,e]}function xm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=zn.updateQueue,t===null?(t={lastEffect:null,stores:null},zn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yC(){return Ti().memoizedState}function uv(e,t,n,r){var s=La();zn.flags|=e,s.memoizedState=xm(1|t,n,void 0,r===void 0?null:r)}function z0(e,t,n,r){var s=Ti();r=r===void 0?null:r;var a=void 0;if(vr!==null){var o=vr.memoizedState;if(a=o.destroy,r!==null&&$b(r,o.deps)){s.memoizedState=xm(t,n,a,r);return}}zn.flags|=e,s.memoizedState=xm(1|t,n,a,r)}function JN(e,t){return uv(8390656,8,e,t)}function Vb(e,t){return z0(2048,8,e,t)}function wC(e,t){return z0(4,2,e,t)}function bC(e,t){return z0(4,4,e,t)}function jC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function NC(e,t,n){return n=n!=null?n.concat([e]):null,z0(4,4,jC.bind(null,t,e),n)}function Wb(){}function _C(e,t){var n=Ti();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$b(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SC(e,t){var n=Ti();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$b(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function CC(e,t,n){return Zc&21?(ca(n,t)||(n=LS(),zn.lanes|=n,Qc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rs=!0),e.memoizedState=n)}function hD(e,t){var n=vn;vn=n!==0&&4>n?n:4,e(!0);var r=ly.transition;ly.transition={};try{e(!1),t()}finally{vn=n,ly.transition=r}}function kC(){return Ti().memoizedState}function fD(e,t,n){var r=zl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PC(e))AC(t,n);else if(n=cC(e,t,n,r),n!==null){var s=vs();aa(n,e,r,s),EC(n,t,r)}}function mD(e,t,n){var r=zl(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PC(e))AC(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,ca(l,o)){var c=t.interleaved;c===null?(s.next=s,Ib(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=cC(e,t,s,r),n!==null&&(s=vs(),aa(n,e,r,s),EC(n,t,r))}}function PC(e){var t=e.alternate;return e===zn||t!==null&&t===zn}function AC(e,t){Vf=Vv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function EC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jb(e,n)}}var Wv={readContext:Li,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},pD={readContext:Li,useCallback:function(e,t){return La().memoizedState=[e,t===void 0?null:t],e},useContext:Li,useEffect:JN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,uv(4194308,4,jC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uv(4194308,4,e,t)},useInsertionEffect:function(e,t){return uv(4,2,e,t)},useMemo:function(e,t){var n=La();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=La();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fD.bind(null,zn,e),[r.memoizedState,e]},useRef:function(e){var t=La();return e={current:e},t.memoizedState=e},useState:KN,useDebugValue:Wb,useDeferredValue:function(e){return La().memoizedState=e},useTransition:function(){var e=KN(!1),t=e[0];return e=hD.bind(null,e[1]),La().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=zn,s=La();if(Rn){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),Pr===null)throw Error(ze(349));Zc&30||mC(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,JN(gC.bind(null,r,a,e),[e]),r.flags|=2048,xm(9,pC.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=La(),t=Pr.identifierPrefix;if(Rn){var n=So,r=_o;n=(r&~(1<<32-ia(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gD={readContext:Li,useCallback:_C,useContext:Li,useEffect:Vb,useImperativeHandle:NC,useInsertionEffect:wC,useLayoutEffect:bC,useMemo:SC,useReducer:cy,useRef:yC,useState:function(){return cy(vm)},useDebugValue:Wb,useDeferredValue:function(e){var t=Ti();return CC(t,vr.memoizedState,e)},useTransition:function(){var e=cy(vm)[0],t=Ti().memoizedState;return[e,t]},useMutableSource:hC,useSyncExternalStore:fC,useId:kC,unstable_isNewReconciler:!1},vD={readContext:Li,useCallback:_C,useContext:Li,useEffect:Vb,useImperativeHandle:NC,useInsertionEffect:wC,useLayoutEffect:bC,useMemo:SC,useReducer:uy,useRef:yC,useState:function(){return uy(vm)},useDebugValue:Wb,useDeferredValue:function(e){var t=Ti();return vr===null?t.memoizedState=e:CC(t,vr.memoizedState,e)},useTransition:function(){var e=uy(vm)[0],t=Ti().memoizedState;return[e,t]},useMutableSource:hC,useSyncExternalStore:fC,useId:kC,unstable_isNewReconciler:!1};function Yi(e,t){if(e&&e.defaultProps){t=$n({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$n({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var B0={isMounted:function(e){return(e=e._reactInternals)?du(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vs(),s=zl(e),a=Ao(r,s);a.payload=t,n!=null&&(a.callback=n),t=Ol(e,a,s),t!==null&&(aa(t,e,s,r),lv(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vs(),s=zl(e),a=Ao(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ol(e,a,s),t!==null&&(aa(t,e,s,r),lv(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vs(),r=zl(e),s=Ao(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ol(e,s,r),t!==null&&(aa(t,e,r,n),lv(t,e,r))}};function XN(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!um(n,r)||!um(s,a):!0}function LC(e,t,n){var r=!1,s=Vl,a=t.contextType;return typeof a=="object"&&a!==null?a=Li(a):(s=Fs(t)?Jc:is.current,r=t.contextTypes,a=(r=r!=null)?th(e,s):Vl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=B0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ZN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&B0.enqueueReplaceState(t,t.state,null)}function U2(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ob(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Li(a):(a=Fs(t)?Jc:is.current,s.context=th(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($2(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&B0.enqueueReplaceState(s,s.state,null),Uv(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ih(e,t){try{var n="",r=t;do n+=WM(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function dy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function q2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xD=typeof WeakMap=="function"?WeakMap:Map;function TC(e,t,n){n=Ao(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gv||(Gv=!0,Q2=r),q2(e,t)},n}function MC(e,t,n){n=Ao(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){q2(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){q2(e,t),typeof r!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function QN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xD;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=TD.bind(null,e,t,n),t.then(e,e))}function e4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function t4(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ao(-1,1),t.tag=2,Ol(n,t,1))),n.lanes|=1),e)}var yD=$o.ReactCurrentOwner,Rs=!1;function hs(e,t,n,r){t.child=e===null?lC(t,null,n,r):rh(t,e.child,n,r)}function n4(e,t,n,r,s){n=n.render;var a=t.ref;return Td(t,s),r=Ub(e,t,n,r,a,s),n=qb(),e!==null&&!Rs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mo(e,t,s)):(Rn&&n&&Eb(t),t.flags|=1,hs(e,t,r,s),t.child)}function r4(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Qb(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,RC(e,t,a,r,s)):(e=mv(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:um,n(o,r)&&e.ref===t.ref)return Mo(e,t,s)}return t.flags|=1,e=Bl(a,r),e.ref=t.ref,e.return=t,t.child=e}function RC(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(um(a,r)&&e.ref===t.ref)if(Rs=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Rs=!0);else return t.lanes=e.lanes,Mo(e,t,s)}return V2(e,t,n,r,s)}function DC(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(_d,Zs),Zs|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pn(_d,Zs),Zs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Pn(_d,Zs),Zs|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Pn(_d,Zs),Zs|=r;return hs(e,t,s,n),t.child}function IC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function V2(e,t,n,r,s){var a=Fs(n)?Jc:is.current;return a=th(t,a),Td(t,s),n=Ub(e,t,n,r,a,s),r=qb(),e!==null&&!Rs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mo(e,t,s)):(Rn&&r&&Eb(t),t.flags|=1,hs(e,t,n,s),t.child)}function s4(e,t,n,r,s){if(Fs(n)){var a=!0;Ov(t)}else a=!1;if(Td(t,s),t.stateNode===null)dv(e,t),LC(t,n,r),U2(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Li(u):(u=Fs(n)?Jc:is.current,u=th(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ZN(t,o,r,u),vl=!1;var m=t.memoizedState;o.state=m,Uv(t,r,o,s),c=t.memoizedState,l!==r||m!==c||Os.current||vl?(typeof d=="function"&&($2(t,n,d,r),c=t.memoizedState),(l=vl||XN(t,n,l,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,uC(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Yi(t.type,l),o.props=u,h=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Li(c):(c=Fs(n)?Jc:is.current,c=th(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&ZN(t,o,r,c),vl=!1,m=t.memoizedState,o.state=m,Uv(t,r,o,s);var w=t.memoizedState;l!==h||m!==w||Os.current||vl?(typeof p=="function"&&($2(t,n,p,r),w=t.memoizedState),(u=vl||XN(t,n,u,r,m,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return W2(e,t,n,r,a,s)}function W2(e,t,n,r,s,a){IC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&qN(t,n,!1),Mo(e,t,a);r=t.stateNode,yD.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=rh(t,e.child,null,a),t.child=rh(t,null,l,a)):hs(e,t,l,a),t.memoizedState=r.state,s&&qN(t,n,!0),t.child}function OC(e){var t=e.stateNode;t.pendingContext?UN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&UN(e,t.context,!1),Fb(e,t.containerInfo)}function i4(e,t,n,r,s){return nh(),Tb(s),t.flags|=256,hs(e,t,n,r),t.child}var H2={dehydrated:null,treeContext:null,retryLane:0};function G2(e){return{baseLanes:e,cachePool:null,transitions:null}}function FC(e,t,n){var r=t.pendingProps,s=Fn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pn(Fn,s&1),e===null)return z2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=q0(o,r,0,null),e=Hc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=G2(n),t.memoizedState=H2,e):Hb(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return wD(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Bl(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Bl(l,a):(a=Hc(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?G2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=H2,r}return a=e.child,e=a.sibling,r=Bl(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hb(e,t){return t=q0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dg(e,t,n,r){return r!==null&&Tb(r),rh(t,e.child,null,n),e=Hb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wD(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=dy(Error(ze(422))),Dg(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=q0({mode:"visible",children:r.children},s,0,null),a=Hc(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&rh(t,e.child,null,o),t.child.memoizedState=G2(o),t.memoizedState=H2,a);if(!(t.mode&1))return Dg(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ze(419)),r=dy(a,r,void 0),Dg(e,t,o,r)}if(l=(o&e.childLanes)!==0,Rs||l){if(r=Pr,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,To(e,s),aa(r,e,s,-1))}return Zb(),r=dy(Error(ze(421))),Dg(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=MD.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ti=Il(s.nextSibling),ri=t,Rn=!0,ea=null,e!==null&&(Ni[_i++]=_o,Ni[_i++]=So,Ni[_i++]=Xc,_o=e.id,So=e.overflow,Xc=t),t=Hb(t,r.children),t.flags|=4096,t)}function a4(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),B2(e.return,t,n)}function hy(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function zC(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(hs(e,t,r.children,n),r=Fn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&a4(e,n,t);else if(e.tag===19)a4(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pn(Fn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&qv(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),hy(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qv(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}hy(t,!0,n,null,a);break;case"together":hy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=Bl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bD(e,t,n){switch(t.tag){case 3:OC(t),nh();break;case 5:dC(t);break;case 1:Fs(t.type)&&Ov(t);break;case 4:Fb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Pn(Bv,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pn(Fn,Fn.current&1),t.flags|=128,null):n&t.child.childLanes?FC(e,t,n):(Pn(Fn,Fn.current&1),e=Mo(e,t,n),e!==null?e.sibling:null);Pn(Fn,Fn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zC(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pn(Fn,Fn.current),r)break;return null;case 22:case 23:return t.lanes=0,DC(e,t,n)}return Mo(e,t,n)}var BC,Y2,$C,UC;BC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Y2=function(){};$C=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fc(Va.current);var a=null;switch(n){case"input":s=g2(e,s),r=g2(e,r),a=[];break;case"select":s=$n({},s,{value:void 0}),r=$n({},r,{value:void 0}),a=[];break;case"textarea":s=y2(e,s),r=y2(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Dv)}b2(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ln("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};UC=function(e,t,n,r){n!==r&&(t.flags|=4)};function yf(e,t){if(!Rn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jD(e,t,n){var r=t.pendingProps;switch(Lb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(t),null;case 1:return Fs(t.type)&&Iv(),Gr(t),null;case 3:return r=t.stateNode,sh(),Mn(Os),Mn(is),Bb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ea!==null&&(nw(ea),ea=null))),Y2(e,t),Gr(t),null;case 5:zb(t);var s=Fc(pm.current);if(n=t.type,e!==null&&t.stateNode!=null)$C(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return Gr(t),null}if(e=Fc(Va.current),Mg(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Da]=t,r[fm]=a,e=(t.mode&1)!==0,n){case"dialog":Ln("cancel",r),Ln("close",r);break;case"iframe":case"object":case"embed":Ln("load",r);break;case"video":case"audio":for(s=0;s<Tf.length;s++)Ln(Tf[s],r);break;case"source":Ln("error",r);break;case"img":case"image":case"link":Ln("error",r),Ln("load",r);break;case"details":Ln("toggle",r);break;case"input":pN(r,a),Ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ln("invalid",r);break;case"textarea":vN(r,a),Ln("invalid",r)}b2(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Tg(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Tg(r.textContent,l,e),s=["children",""+l]):rm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ln("scroll",r)}switch(n){case"input":_g(r),gN(r,a,!0);break;case"textarea":_g(r),xN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Dv)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Da]=t,e[fm]=r,BC(e,t,!1,!1),t.stateNode=e;e:{switch(o=j2(n,r),n){case"dialog":Ln("cancel",e),Ln("close",e),s=r;break;case"iframe":case"object":case"embed":Ln("load",e),s=r;break;case"video":case"audio":for(s=0;s<Tf.length;s++)Ln(Tf[s],e);s=r;break;case"source":Ln("error",e),s=r;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),s=r;break;case"details":Ln("toggle",e),s=r;break;case"input":pN(e,r),s=g2(e,r),Ln("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=$n({},r,{value:void 0}),Ln("invalid",e);break;case"textarea":vN(e,r),s=y2(e,r),Ln("invalid",e);break;default:s=r}b2(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?yS(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vS(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&sm(e,c):typeof c=="number"&&sm(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(rm.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ln("scroll",e):c!=null&&gb(e,a,c,o))}switch(n){case"input":_g(e),gN(e,r,!1);break;case"textarea":_g(e),xN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ql(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Pd(e,!!r.multiple,a,!1):r.defaultValue!=null&&Pd(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Dv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gr(t),null;case 6:if(e&&t.stateNode!=null)UC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=Fc(pm.current),Fc(Va.current),Mg(t)){if(r=t.stateNode,n=t.memoizedProps,r[Da]=t,(a=r.nodeValue!==n)&&(e=ri,e!==null))switch(e.tag){case 3:Tg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tg(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Da]=t,t.stateNode=r}return Gr(t),null;case 13:if(Mn(Fn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rn&&ti!==null&&t.mode&1&&!(t.flags&128))aC(),nh(),t.flags|=98560,a=!1;else if(a=Mg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ze(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ze(317));a[Da]=t}else nh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gr(t),a=!1}else ea!==null&&(nw(ea),ea=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fn.current&1?xr===0&&(xr=3):Zb())),t.updateQueue!==null&&(t.flags|=4),Gr(t),null);case 4:return sh(),Y2(e,t),e===null&&dm(t.stateNode.containerInfo),Gr(t),null;case 10:return Db(t.type._context),Gr(t),null;case 17:return Fs(t.type)&&Iv(),Gr(t),null;case 19:if(Mn(Fn),a=t.memoizedState,a===null)return Gr(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)yf(a,!1);else{if(xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qv(e),o!==null){for(t.flags|=128,yf(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pn(Fn,Fn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Qn()>ah&&(t.flags|=128,r=!0,yf(a,!1),t.lanes=4194304)}else{if(!r)if(e=qv(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Rn)return Gr(t),null}else 2*Qn()-a.renderingStartTime>ah&&n!==1073741824&&(t.flags|=128,r=!0,yf(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qn(),t.sibling=null,n=Fn.current,Pn(Fn,r?n&1|2:n&1),t):(Gr(t),null);case 22:case 23:return Xb(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zs&1073741824&&(Gr(t),t.subtreeFlags&6&&(t.flags|=8192)):Gr(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function ND(e,t){switch(Lb(t),t.tag){case 1:return Fs(t.type)&&Iv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sh(),Mn(Os),Mn(is),Bb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zb(t),null;case 13:if(Mn(Fn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));nh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mn(Fn),null;case 4:return sh(),null;case 10:return Db(t.type._context),null;case 22:case 23:return Xb(),null;case 24:return null;default:return null}}var Ig=!1,ts=!1,_D=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Nd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gn(e,t,r)}else n.current=null}function K2(e,t,n){try{n()}catch(r){Gn(e,t,r)}}var o4=!1;function SD(e,t){if(T2=Tv,e=GS(),Ab(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=o),m===a&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(M2={focusedElem:e,selectionRange:n},Tv=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,N=w.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Yi(t.type,v),N);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(k){Gn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return w=o4,o4=!1,w}function Wf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&K2(t,n,a)}s=s.next}while(s!==r)}}function $0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function J2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qC(e){var t=e.alternate;t!==null&&(e.alternate=null,qC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Da],delete t[fm],delete t[I2],delete t[oD],delete t[lD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VC(e){return e.tag===5||e.tag===3||e.tag===4}function l4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function X2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dv));else if(r!==4&&(e=e.child,e!==null))for(X2(e,t,n),e=e.sibling;e!==null;)X2(e,t,n),e=e.sibling}function Z2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Z2(e,t,n),e=e.sibling;e!==null;)Z2(e,t,n),e=e.sibling}var Mr=null,Zi=!1;function al(e,t,n){for(n=n.child;n!==null;)WC(e,t,n),n=n.sibling}function WC(e,t,n){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(M0,n)}catch{}switch(n.tag){case 5:ts||Nd(n,t);case 6:var r=Mr,s=Zi;Mr=null,al(e,t,n),Mr=r,Zi=s,Mr!==null&&(Zi?(e=Mr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Mr.removeChild(n.stateNode));break;case 18:Mr!==null&&(Zi?(e=Mr,n=n.stateNode,e.nodeType===8?iy(e.parentNode,n):e.nodeType===1&&iy(e,n),lm(e)):iy(Mr,n.stateNode));break;case 4:r=Mr,s=Zi,Mr=n.stateNode.containerInfo,Zi=!0,al(e,t,n),Mr=r,Zi=s;break;case 0:case 11:case 14:case 15:if(!ts&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&K2(n,t,o),s=s.next}while(s!==r)}al(e,t,n);break;case 1:if(!ts&&(Nd(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Gn(n,t,l)}al(e,t,n);break;case 21:al(e,t,n);break;case 22:n.mode&1?(ts=(r=ts)||n.memoizedState!==null,al(e,t,n),ts=r):al(e,t,n);break;default:al(e,t,n)}}function c4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _D),t.forEach(function(r){var s=RD.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Vi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Mr=l.stateNode,Zi=!1;break e;case 3:Mr=l.stateNode.containerInfo,Zi=!0;break e;case 4:Mr=l.stateNode.containerInfo,Zi=!0;break e}l=l.return}if(Mr===null)throw Error(ze(160));WC(a,o,s),Mr=null,Zi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Gn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HC(t,e),t=t.sibling}function HC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vi(t,e),Pa(e),r&4){try{Wf(3,e,e.return),$0(3,e)}catch(v){Gn(e,e.return,v)}try{Wf(5,e,e.return)}catch(v){Gn(e,e.return,v)}}break;case 1:Vi(t,e),Pa(e),r&512&&n!==null&&Nd(n,n.return);break;case 5:if(Vi(t,e),Pa(e),r&512&&n!==null&&Nd(n,n.return),e.flags&32){var s=e.stateNode;try{sm(s,"")}catch(v){Gn(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&mS(s,a),j2(l,o);var u=j2(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?yS(s,h):d==="dangerouslySetInnerHTML"?vS(s,h):d==="children"?sm(s,h):gb(s,d,h,u)}switch(l){case"input":v2(s,a);break;case"textarea":pS(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Pd(s,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?Pd(s,!!a.multiple,a.defaultValue,!0):Pd(s,!!a.multiple,a.multiple?[]:"",!1))}s[fm]=a}catch(v){Gn(e,e.return,v)}}break;case 6:if(Vi(t,e),Pa(e),r&4){if(e.stateNode===null)throw Error(ze(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){Gn(e,e.return,v)}}break;case 3:if(Vi(t,e),Pa(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lm(t.containerInfo)}catch(v){Gn(e,e.return,v)}break;case 4:Vi(t,e),Pa(e);break;case 13:Vi(t,e),Pa(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Kb=Qn())),r&4&&c4(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ts=(u=ts)||d,Vi(t,e),ts=u):Vi(t,e),Pa(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ot=e,d=e.child;d!==null;){for(h=ot=d;ot!==null;){switch(m=ot,p=m.child,m.tag){case 0:case 11:case 14:case 15:Wf(4,m,m.return);break;case 1:Nd(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Gn(r,n,v)}}break;case 5:Nd(m,m.return);break;case 22:if(m.memoizedState!==null){d4(h);continue}}p!==null?(p.return=m,ot=p):d4(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=xS("display",o))}catch(v){Gn(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Gn(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vi(t,e),Pa(e),r&4&&c4(e);break;case 21:break;default:Vi(t,e),Pa(e)}}function Pa(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(VC(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(sm(s,""),r.flags&=-33);var a=l4(e);Z2(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=l4(e);X2(e,l,o);break;default:throw Error(ze(161))}}catch(c){Gn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CD(e,t,n){ot=e,GC(e)}function GC(e,t,n){for(var r=(e.mode&1)!==0;ot!==null;){var s=ot,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ig;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ts;l=Ig;var u=ts;if(Ig=o,(ts=c)&&!u)for(ot=s;ot!==null;)o=ot,c=o.child,o.tag===22&&o.memoizedState!==null?h4(s):c!==null?(c.return=o,ot=c):h4(s);for(;a!==null;)ot=a,GC(a),a=a.sibling;ot=s,Ig=l,ts=u}u4(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ot=a):u4(e)}}function u4(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ts||$0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ts)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Yi(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&YN(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}YN(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&lm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}ts||t.flags&512&&J2(t)}catch(m){Gn(t,t.return,m)}}if(t===e){ot=null;break}if(n=t.sibling,n!==null){n.return=t.return,ot=n;break}ot=t.return}}function d4(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ot=n;break}ot=t.return}}function h4(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$0(4,t)}catch(c){Gn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Gn(t,s,c)}}var a=t.return;try{J2(t)}catch(c){Gn(t,a,c)}break;case 5:var o=t.return;try{J2(t)}catch(c){Gn(t,o,c)}}}catch(c){Gn(t,t.return,c)}if(t===e){ot=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ot=l;break}ot=t.return}}var kD=Math.ceil,Hv=$o.ReactCurrentDispatcher,Gb=$o.ReactCurrentOwner,ki=$o.ReactCurrentBatchConfig,nn=0,Pr=null,dr=null,Fr=0,Zs=0,_d=sc(0),xr=0,ym=null,Qc=0,U0=0,Yb=0,Hf=null,Ts=null,Kb=0,ah=1/0,bo=null,Gv=!1,Q2=null,Fl=null,Og=!1,El=null,Yv=0,Gf=0,ew=null,hv=-1,fv=0;function vs(){return nn&6?Qn():hv!==-1?hv:hv=Qn()}function zl(e){return e.mode&1?nn&2&&Fr!==0?Fr&-Fr:uD.transition!==null?(fv===0&&(fv=LS()),fv):(e=vn,e!==0||(e=window.event,e=e===void 0?16:FS(e.type)),e):1}function aa(e,t,n,r){if(50<Gf)throw Gf=0,ew=null,Error(ze(185));Km(e,n,r),(!(nn&2)||e!==Pr)&&(e===Pr&&(!(nn&2)&&(U0|=n),xr===4&&wl(e,Fr)),zs(e,r),n===1&&nn===0&&!(t.mode&1)&&(ah=Qn()+500,F0&&ic()))}function zs(e,t){var n=e.callbackNode;uR(e,t);var r=Lv(e,e===Pr?Fr:0);if(r===0)n!==null&&bN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bN(n),t===1)e.tag===0?cD(f4.bind(null,e)):rC(f4.bind(null,e)),iD(function(){!(nn&6)&&ic()}),n=null;else{switch(TS(r)){case 1:n=bb;break;case 4:n=AS;break;case 16:n=Ev;break;case 536870912:n=ES;break;default:n=Ev}n=tk(n,YC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function YC(e,t){if(hv=-1,fv=0,nn&6)throw Error(ze(327));var n=e.callbackNode;if(Md()&&e.callbackNode!==n)return null;var r=Lv(e,e===Pr?Fr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kv(e,r);else{t=r;var s=nn;nn|=2;var a=JC();(Pr!==e||Fr!==t)&&(bo=null,ah=Qn()+500,Wc(e,t));do try{ED();break}catch(l){KC(e,l)}while(!0);Rb(),Hv.current=a,nn=s,dr!==null?t=0:(Pr=null,Fr=0,t=xr)}if(t!==0){if(t===2&&(s=k2(e),s!==0&&(r=s,t=tw(e,s))),t===1)throw n=ym,Wc(e,0),wl(e,r),zs(e,Qn()),n;if(t===6)wl(e,r);else{if(s=e.current.alternate,!(r&30)&&!PD(s)&&(t=Kv(e,r),t===2&&(a=k2(e),a!==0&&(r=a,t=tw(e,a))),t===1))throw n=ym,Wc(e,0),wl(e,r),zs(e,Qn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:Ec(e,Ts,bo);break;case 3:if(wl(e,r),(r&130023424)===r&&(t=Kb+500-Qn(),10<t)){if(Lv(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){vs(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=D2(Ec.bind(null,e,Ts,bo),t);break}Ec(e,Ts,bo);break;case 4:if(wl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ia(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=Qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kD(r/1960))-r,10<r){e.timeoutHandle=D2(Ec.bind(null,e,Ts,bo),r);break}Ec(e,Ts,bo);break;case 5:Ec(e,Ts,bo);break;default:throw Error(ze(329))}}}return zs(e,Qn()),e.callbackNode===n?YC.bind(null,e):null}function tw(e,t){var n=Hf;return e.current.memoizedState.isDehydrated&&(Wc(e,t).flags|=256),e=Kv(e,t),e!==2&&(t=Ts,Ts=n,t!==null&&nw(t)),e}function nw(e){Ts===null?Ts=e:Ts.push.apply(Ts,e)}function PD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ca(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wl(e,t){for(t&=~Yb,t&=~U0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ia(t),r=1<<n;e[n]=-1,t&=~r}}function f4(e){if(nn&6)throw Error(ze(327));Md();var t=Lv(e,0);if(!(t&1))return zs(e,Qn()),null;var n=Kv(e,t);if(e.tag!==0&&n===2){var r=k2(e);r!==0&&(t=r,n=tw(e,r))}if(n===1)throw n=ym,Wc(e,0),wl(e,t),zs(e,Qn()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Ts,bo),zs(e,Qn()),null}function Jb(e,t){var n=nn;nn|=1;try{return e(t)}finally{nn=n,nn===0&&(ah=Qn()+500,F0&&ic())}}function eu(e){El!==null&&El.tag===0&&!(nn&6)&&Md();var t=nn;nn|=1;var n=ki.transition,r=vn;try{if(ki.transition=null,vn=1,e)return e()}finally{vn=r,ki.transition=n,nn=t,!(nn&6)&&ic()}}function Xb(){Zs=_d.current,Mn(_d)}function Wc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sD(n)),dr!==null)for(n=dr.return;n!==null;){var r=n;switch(Lb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Iv();break;case 3:sh(),Mn(Os),Mn(is),Bb();break;case 5:zb(r);break;case 4:sh();break;case 13:Mn(Fn);break;case 19:Mn(Fn);break;case 10:Db(r.type._context);break;case 22:case 23:Xb()}n=n.return}if(Pr=e,dr=e=Bl(e.current,null),Fr=Zs=t,xr=0,ym=null,Yb=U0=Qc=0,Ts=Hf=null,Oc!==null){for(t=0;t<Oc.length;t++)if(n=Oc[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Oc=null}return e}function KC(e,t){do{var n=dr;try{if(Rb(),cv.current=Wv,Vv){for(var r=zn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vv=!1}if(Zc=0,Cr=vr=zn=null,Vf=!1,gm=0,Gb.current=null,n===null||n.return===null){xr=1,ym=t,dr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Fr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=e4(o);if(p!==null){p.flags&=-257,t4(p,o,l,a,t),p.mode&1&&QN(a,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){QN(a,u,t),Zb();break e}c=Error(ze(426))}}else if(Rn&&l.mode&1){var N=e4(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),t4(N,o,l,a,t),Tb(ih(c,l));break e}}a=c=ih(c,l),xr!==4&&(xr=2),Hf===null?Hf=[a]:Hf.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=TC(a,c,t);GN(a,y);break e;case 1:l=c;var x=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fl===null||!Fl.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=MC(a,l,t);GN(a,k);break e}}a=a.return}while(a!==null)}ZC(n)}catch(P){t=P,dr===n&&n!==null&&(dr=n=n.return);continue}break}while(!0)}function JC(){var e=Hv.current;return Hv.current=Wv,e===null?Wv:e}function Zb(){(xr===0||xr===3||xr===2)&&(xr=4),Pr===null||!(Qc&268435455)&&!(U0&268435455)||wl(Pr,Fr)}function Kv(e,t){var n=nn;nn|=2;var r=JC();(Pr!==e||Fr!==t)&&(bo=null,Wc(e,t));do try{AD();break}catch(s){KC(e,s)}while(!0);if(Rb(),nn=n,Hv.current=r,dr!==null)throw Error(ze(261));return Pr=null,Fr=0,xr}function AD(){for(;dr!==null;)XC(dr)}function ED(){for(;dr!==null&&!tR();)XC(dr)}function XC(e){var t=ek(e.alternate,e,Zs);e.memoizedProps=e.pendingProps,t===null?ZC(e):dr=t,Gb.current=null}function ZC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ND(n,t),n!==null){n.flags&=32767,dr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xr=6,dr=null;return}}else if(n=jD(n,t,Zs),n!==null){dr=n;return}if(t=t.sibling,t!==null){dr=t;return}dr=t=e}while(t!==null);xr===0&&(xr=5)}function Ec(e,t,n){var r=vn,s=ki.transition;try{ki.transition=null,vn=1,LD(e,t,n,r)}finally{ki.transition=s,vn=r}return null}function LD(e,t,n,r){do Md();while(El!==null);if(nn&6)throw Error(ze(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(dR(e,a),e===Pr&&(dr=Pr=null,Fr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Og||(Og=!0,tk(Ev,function(){return Md(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ki.transition,ki.transition=null;var o=vn;vn=1;var l=nn;nn|=4,Gb.current=null,SD(e,n),HC(n,e),XR(M2),Tv=!!T2,M2=T2=null,e.current=n,CD(n),nR(),nn=l,vn=o,ki.transition=a}else e.current=n;if(Og&&(Og=!1,El=e,Yv=s),a=e.pendingLanes,a===0&&(Fl=null),iR(n.stateNode),zs(e,Qn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gv)throw Gv=!1,e=Q2,Q2=null,e;return Yv&1&&e.tag!==0&&Md(),a=e.pendingLanes,a&1?e===ew?Gf++:(Gf=0,ew=e):Gf=0,ic(),null}function Md(){if(El!==null){var e=TS(Yv),t=ki.transition,n=vn;try{if(ki.transition=null,vn=16>e?16:e,El===null)var r=!1;else{if(e=El,El=null,Yv=0,nn&6)throw Error(ze(331));var s=nn;for(nn|=4,ot=e.current;ot!==null;){var a=ot,o=a.child;if(ot.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ot=u;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:Wf(8,d,a)}var h=d.child;if(h!==null)h.return=d,ot=h;else for(;ot!==null;){d=ot;var m=d.sibling,p=d.return;if(qC(d),d===u){ot=null;break}if(m!==null){m.return=p,ot=m;break}ot=p}}}var w=a.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}ot=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ot=o;else e:for(;ot!==null;){if(a=ot,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wf(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ot=y;break e}ot=a.return}}var x=e.current;for(ot=x;ot!==null;){o=ot;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ot=S;else e:for(o=x;ot!==null;){if(l=ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$0(9,l)}}catch(P){Gn(l,l.return,P)}if(l===o){ot=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ot=k;break e}ot=l.return}}if(nn=s,ic(),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(M0,e)}catch{}r=!0}return r}finally{vn=n,ki.transition=t}}return!1}function m4(e,t,n){t=ih(n,t),t=TC(e,t,1),e=Ol(e,t,1),t=vs(),e!==null&&(Km(e,1,t),zs(e,t))}function Gn(e,t,n){if(e.tag===3)m4(e,e,n);else for(;t!==null;){if(t.tag===3){m4(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fl===null||!Fl.has(r))){e=ih(n,e),e=MC(t,e,1),t=Ol(t,e,1),e=vs(),t!==null&&(Km(t,1,e),zs(t,e));break}}t=t.return}}function TD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vs(),e.pingedLanes|=e.suspendedLanes&n,Pr===e&&(Fr&n)===n&&(xr===4||xr===3&&(Fr&130023424)===Fr&&500>Qn()-Kb?Wc(e,0):Yb|=n),zs(e,t)}function QC(e,t){t===0&&(e.mode&1?(t=kg,kg<<=1,!(kg&130023424)&&(kg=4194304)):t=1);var n=vs();e=To(e,t),e!==null&&(Km(e,t,n),zs(e,n))}function MD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),QC(e,n)}function RD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),QC(e,n)}var ek;ek=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Os.current)Rs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Rs=!1,bD(e,t,n);Rs=!!(e.flags&131072)}else Rs=!1,Rn&&t.flags&1048576&&sC(t,zv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dv(e,t),e=t.pendingProps;var s=th(t,is.current);Td(t,n),s=Ub(null,t,r,e,s,n);var a=qb();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fs(r)?(a=!0,Ov(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ob(t),s.updater=B0,t.stateNode=s,s._reactInternals=t,U2(t,r,e,n),t=W2(null,t,r,!0,a,n)):(t.tag=0,Rn&&a&&Eb(t),hs(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dv(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ID(r),e=Yi(r,e),s){case 0:t=V2(null,t,r,e,n);break e;case 1:t=s4(null,t,r,e,n);break e;case 11:t=n4(null,t,r,e,n);break e;case 14:t=r4(null,t,r,Yi(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yi(r,s),V2(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yi(r,s),s4(e,t,r,s,n);case 3:e:{if(OC(t),e===null)throw Error(ze(387));r=t.pendingProps,a=t.memoizedState,s=a.element,uC(e,t),Uv(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ih(Error(ze(423)),t),t=i4(e,t,r,n,s);break e}else if(r!==s){s=ih(Error(ze(424)),t),t=i4(e,t,r,n,s);break e}else for(ti=Il(t.stateNode.containerInfo.firstChild),ri=t,Rn=!0,ea=null,n=lC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nh(),r===s){t=Mo(e,t,n);break e}hs(e,t,r,n)}t=t.child}return t;case 5:return dC(t),e===null&&z2(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,R2(r,s)?o=null:a!==null&&R2(r,a)&&(t.flags|=32),IC(e,t),hs(e,t,o,n),t.child;case 6:return e===null&&z2(t),null;case 13:return FC(e,t,n);case 4:return Fb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rh(t,null,r,n):hs(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yi(r,s),n4(e,t,r,s,n);case 7:return hs(e,t,t.pendingProps,n),t.child;case 8:return hs(e,t,t.pendingProps.children,n),t.child;case 12:return hs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Pn(Bv,r._currentValue),r._currentValue=o,a!==null)if(ca(a.value,o)){if(a.children===s.children&&!Os.current){t=Mo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ao(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),B2(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ze(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),B2(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}hs(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Td(t,n),s=Li(s),r=r(s),t.flags|=1,hs(e,t,r,n),t.child;case 14:return r=t.type,s=Yi(r,t.pendingProps),s=Yi(r.type,s),r4(e,t,r,s,n);case 15:return RC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yi(r,s),dv(e,t),t.tag=1,Fs(r)?(e=!0,Ov(t)):e=!1,Td(t,n),LC(t,r,s),U2(t,r,s,n),W2(null,t,r,!0,e,n);case 19:return zC(e,t,n);case 22:return DC(e,t,n)}throw Error(ze(156,t.tag))};function tk(e,t){return PS(e,t)}function DD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(e,t,n,r){return new DD(e,t,n,r)}function Qb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ID(e){if(typeof e=="function")return Qb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xb)return 11;if(e===yb)return 14}return 2}function Bl(e,t){var n=e.alternate;return n===null?(n=Ci(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function mv(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")Qb(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case md:return Hc(n.children,s,a,t);case vb:o=8,s|=8;break;case h2:return e=Ci(12,n,t,s|2),e.elementType=h2,e.lanes=a,e;case f2:return e=Ci(13,n,t,s),e.elementType=f2,e.lanes=a,e;case m2:return e=Ci(19,n,t,s),e.elementType=m2,e.lanes=a,e;case dS:return q0(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cS:o=10;break e;case uS:o=9;break e;case xb:o=11;break e;case yb:o=14;break e;case gl:o=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=Ci(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Hc(e,t,n,r){return e=Ci(7,e,r,t),e.lanes=n,e}function q0(e,t,n,r){return e=Ci(22,e,r,t),e.elementType=dS,e.lanes=n,e.stateNode={isHidden:!1},e}function fy(e,t,n){return e=Ci(6,e,null,t),e.lanes=n,e}function my(e,t,n){return t=Ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OD(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Y1(0),this.expirationTimes=Y1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function e5(e,t,n,r,s,a,o,l,c){return e=new OD(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ci(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ob(a),e}function FD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fd,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nk(e){if(!e)return Vl;e=e._reactInternals;e:{if(du(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(Fs(n))return nC(e,n,t)}return t}function rk(e,t,n,r,s,a,o,l,c){return e=e5(n,r,!0,e,s,a,o,l,c),e.context=nk(null),n=e.current,r=vs(),s=zl(n),a=Ao(r,s),a.callback=t??null,Ol(n,a,s),e.current.lanes=s,Km(e,s,r),zs(e,r),e}function V0(e,t,n,r){var s=t.current,a=vs(),o=zl(s);return n=nk(n),t.context===null?t.context=n:t.pendingContext=n,t=Ao(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ol(s,t,o),e!==null&&(aa(e,s,o,a),lv(e,s,o)),o}function Jv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function p4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function t5(e,t){p4(e,t),(e=e.alternate)&&p4(e,t)}function zD(){return null}var sk=typeof reportError=="function"?reportError:function(e){console.error(e)};function n5(e){this._internalRoot=e}W0.prototype.render=n5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));V0(e,t,null,null)};W0.prototype.unmount=n5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eu(function(){V0(null,e,null,null)}),t[Lo]=null}};function W0(e){this._internalRoot=e}W0.prototype.unstable_scheduleHydration=function(e){if(e){var t=DS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yl.length&&t!==0&&t<yl[n].priority;n++);yl.splice(n,0,e),n===0&&OS(e)}};function r5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function H0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function g4(){}function BD(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Jv(o);a.call(u)}}var o=rk(t,r,e,0,null,!1,!1,"",g4);return e._reactRootContainer=o,e[Lo]=o.current,dm(e.nodeType===8?e.parentNode:e),eu(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Jv(c);l.call(u)}}var c=e5(e,0,!1,null,null,!1,!1,"",g4);return e._reactRootContainer=c,e[Lo]=c.current,dm(e.nodeType===8?e.parentNode:e),eu(function(){V0(t,c,n,r)}),c}function G0(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Jv(o);l.call(c)}}V0(t,o,e,s)}else o=BD(n,t,e,s,r);return Jv(o)}MS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lf(t.pendingLanes);n!==0&&(jb(t,n|1),zs(t,Qn()),!(nn&6)&&(ah=Qn()+500,ic()))}break;case 13:eu(function(){var r=To(e,1);if(r!==null){var s=vs();aa(r,e,1,s)}}),t5(e,1)}};Nb=function(e){if(e.tag===13){var t=To(e,134217728);if(t!==null){var n=vs();aa(t,e,134217728,n)}t5(e,134217728)}};RS=function(e){if(e.tag===13){var t=zl(e),n=To(e,t);if(n!==null){var r=vs();aa(n,e,t,r)}t5(e,t)}};DS=function(){return vn};IS=function(e,t){var n=vn;try{return vn=e,t()}finally{vn=n}};_2=function(e,t,n){switch(t){case"input":if(v2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=O0(r);if(!s)throw Error(ze(90));fS(r),v2(r,s)}}}break;case"textarea":pS(e,n);break;case"select":t=n.value,t!=null&&Pd(e,!!n.multiple,t,!1)}};jS=Jb;NS=eu;var $D={usingClientEntryPoint:!1,Events:[Xm,xd,O0,wS,bS,Jb]},wf={findFiberByHostInstance:Ic,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UD={bundleType:wf.bundleType,version:wf.version,rendererPackageName:wf.rendererPackageName,rendererConfig:wf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$o.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=CS(e),e===null?null:e.stateNode},findFiberByHostInstance:wf.findFiberByHostInstance||zD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fg.isDisabled&&Fg.supportsFiber)try{M0=Fg.inject(UD),qa=Fg}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$D;li.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r5(t))throw Error(ze(200));return FD(e,t,null,n)};li.createRoot=function(e,t){if(!r5(e))throw Error(ze(299));var n=!1,r="",s=sk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=e5(e,1,!1,null,null,n,!1,r,s),e[Lo]=t.current,dm(e.nodeType===8?e.parentNode:e),new n5(t)};li.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=CS(t),e=e===null?null:e.stateNode,e};li.flushSync=function(e){return eu(e)};li.hydrate=function(e,t,n){if(!H0(t))throw Error(ze(200));return G0(null,e,t,!0,n)};li.hydrateRoot=function(e,t,n){if(!r5(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=sk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=rk(t,null,e,1,n??null,s,!1,a,o),e[Lo]=t.current,dm(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new W0(t)};li.render=function(e,t,n){if(!H0(t))throw Error(ze(200));return G0(null,e,t,!1,n)};li.unmountComponentAtNode=function(e){if(!H0(e))throw Error(ze(40));return e._reactRootContainer?(eu(function(){G0(null,null,e,!1,function(){e._reactRootContainer=null,e[Lo]=null})}),!0):!1};li.unstable_batchedUpdates=Jb;li.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!H0(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return G0(e,t,n,!1,r)};li.version="18.3.1-next-f1338f8080-20240426";function ik(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ik)}catch(e){console.error(e)}}ik(),iS.exports=li;var hu=iS.exports;const ak=H3(hu);var ok,v4=hu;ok=v4.createRoot,v4.hydrateRoot;const qD=1,VD=1e6;let py=0;function WD(){return py=(py+1)%Number.MAX_SAFE_INTEGER,py.toString()}const gy=new Map,x4=e=>{if(gy.has(e))return;const t=setTimeout(()=>{gy.delete(e),Yf({type:"REMOVE_TOAST",toastId:e})},VD);gy.set(e,t)},HD=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,qD)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?x4(n):e.toasts.forEach(r=>{x4(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},pv=[];let gv={toasts:[]};function Yf(e){gv=HD(gv,e),pv.forEach(t=>{t(gv)})}function Ds({...e}){const t=WD(),n=s=>Yf({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Yf({type:"DISMISS_TOAST",toastId:t});return Yf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function dn(){const[e,t]=b.useState(gv);return b.useEffect(()=>(pv.push(t),()=>{const n=pv.indexOf(t);n>-1&&pv.splice(n,1)}),[e]),{...e,toast:Ds,dismiss:n=>Yf({type:"DISMISS_TOAST",toastId:n})}}function qe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function GD(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Y0(...e){return t=>e.forEach(n=>GD(n,t))}function zt(...e){return b.useCallback(Y0(...e),e)}function YD(e,t=[]){let n=[];function r(a,o){const l=b.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:m,children:p,...w}=h,v=(m==null?void 0:m[e][c])||l,N=b.useMemo(()=>w,Object.values(w));return i.jsx(v.Provider,{value:N,children:p})}function d(h,m){const p=(m==null?void 0:m[e][c])||l,w=b.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,KD(s,...t)]}function KD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Ga=b.forwardRef((e,t)=>{const{children:n,...r}=e,s=b.Children.toArray(n),a=s.find(JD);if(a){const o=a.props.children,l=s.map(c=>c===a?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:c);return i.jsx(rw,{...r,ref:t,children:b.isValidElement(o)?b.cloneElement(o,void 0,l):null})}return i.jsx(rw,{...r,ref:t,children:n})});Ga.displayName="Slot";var rw=b.forwardRef((e,t)=>{const{children:n,...r}=e;if(b.isValidElement(n)){const s=ZD(n);return b.cloneElement(n,{...XD(r,n.props),ref:t?Y0(t,s):s})}return b.Children.count(n)>1?b.Children.only(null):null});rw.displayName="SlotClone";var lk=({children:e})=>i.jsx(i.Fragment,{children:e});function JD(e){return b.isValidElement(e)&&e.type===lk}function XD(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function ZD(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function K0(e){const t=e+"CollectionProvider",[n,r]=YD(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:w,children:v}=p,N=Ae.useRef(null),y=Ae.useRef(new Map).current;return i.jsx(s,{scope:w,itemMap:y,collectionRef:N,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=Ae.forwardRef((p,w)=>{const{scope:v,children:N}=p,y=a(l,v),x=zt(w,y.collectionRef);return i.jsx(Ga,{ref:x,children:N})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=Ae.forwardRef((p,w)=>{const{scope:v,children:N,...y}=p,x=Ae.useRef(null),S=zt(w,x),k=a(u,v);return Ae.useEffect(()=>(k.itemMap.set(x,{ref:x,...y}),()=>void k.itemMap.delete(x))),i.jsx(Ga,{[d]:"",ref:S,children:N})});h.displayName=u;function m(p){const w=a(e+"CollectionConsumer",p);return Ae.useCallback(()=>{const N=w.collectionRef.current;if(!N)return[];const y=Array.from(N.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((k,P)=>y.indexOf(k.ref.current)-y.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},m,r]}function QD(e,t){const n=b.createContext(t),r=a=>{const{children:o,...l}=a,c=b.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=b.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function pa(e,t=[]){let n=[];function r(a,o){const l=b.createContext(o),c=n.length;n=[...n,o];const u=h=>{var y;const{scope:m,children:p,...w}=h,v=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,N=b.useMemo(()=>w,Object.values(w));return i.jsx(v.Provider,{value:N,children:p})};u.displayName=a+"Provider";function d(h,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,w=b.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,e7(s,...t)]}function e7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var t7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ut=t7.reduce((e,t)=>{const n=b.forwardRef((r,s)=>{const{asChild:a,...o}=r,l=a?Ga:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function s5(e,t){e&&hu.flushSync(()=>e.dispatchEvent(t))}function Dn(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function n7(e,t=globalThis==null?void 0:globalThis.document){const n=Dn(e);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var r7="DismissableLayer",sw="dismissableLayer.update",s7="dismissableLayer.pointerDownOutside",i7="dismissableLayer.focusOutside",y4,ck=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fu=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=b.useContext(ck),[d,h]=b.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),w=zt(t,B=>h(B)),v=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(N),x=d?v.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=x>=y,P=o7(B=>{const R=B.target,K=[...u.branches].some(ee=>ee.contains(R));!k||K||(s==null||s(B),o==null||o(B),B.defaultPrevented||l==null||l())},m),z=l7(B=>{const R=B.target;[...u.branches].some(ee=>ee.contains(R))||(a==null||a(B),o==null||o(B),B.defaultPrevented||l==null||l())},m);return n7(B=>{x===u.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},m),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(y4=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),w4(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=y4)}},[d,m,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),w4())},[d,u]),b.useEffect(()=>{const B=()=>p({});return document.addEventListener(sw,B),()=>document.removeEventListener(sw,B)},[]),i.jsx(ut.div,{...c,ref:w,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,z.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,z.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,P.onPointerDownCapture)})});fu.displayName=r7;var a7="DismissableLayerBranch",uk=b.forwardRef((e,t)=>{const n=b.useContext(ck),r=b.useRef(null),s=zt(t,r);return b.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(ut.div,{...e,ref:s})});uk.displayName=a7;function o7(e,t=globalThis==null?void 0:globalThis.document){const n=Dn(e),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){dk(s7,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function l7(e,t=globalThis==null?void 0:globalThis.document){const n=Dn(e),r=b.useRef(!1);return b.useEffect(()=>{const s=a=>{a.target&&!r.current&&dk(i7,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w4(){const e=new CustomEvent(sw);document.dispatchEvent(e)}function dk(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?s5(s,a):s.dispatchEvent(a)}var c7=fu,u7=uk,wr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},d7="Portal",Sh=b.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=b.useState(!1);wr(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?ak.createPortal(i.jsx(ut.div,{...r,ref:t}),o):null});Sh.displayName=d7;function h7(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var $r=e=>{const{present:t,children:n}=e,r=f7(t),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),a=zt(r.ref,m7(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:a}):null};$r.displayName="Presence";function f7(e){const[t,n]=b.useState(),r=b.useRef({}),s=b.useRef(e),a=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=h7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=zg(r.current);a.current=l==="mounted"?u:"none"},[l]),wr(()=>{const u=r.current,d=s.current;if(d!==e){const m=a.current,p=zg(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),wr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const v=zg(r.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},m=p=>{p.target===t&&(a.current=zg(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function zg(e){return(e==null?void 0:e.animationName)||"none"}function m7(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ya({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=p7({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=Dn(n),c=b.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[a,e,s,l]);return[o,c]}function p7({defaultProp:e,onChange:t}){const n=b.useState(e),[r]=n,s=b.useRef(r),a=Dn(t);return b.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var g7="VisuallyHidden",Qm=b.forwardRef((e,t)=>i.jsx(ut.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Qm.displayName=g7;var v7=Qm,i5="ToastProvider",[a5,x7,y7]=K0("Toast"),[hk,Jte]=pa("Toast",[y7]),[w7,J0]=hk(i5),fk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=b.useState(null),[u,d]=b.useState(0),h=b.useRef(!1),m=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${i5}\`. Expected non-empty \`string\`.`),i.jsx(a5.Provider,{scope:t,children:i.jsx(w7,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};fk.displayName=i5;var mk="ToastViewport",b7=["F8"],iw="toast.viewportPause",aw="toast.viewportResume",pk=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=b7,label:s="Notifications ({hotkey})",...a}=e,o=J0(mk,n),l=x7(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),m=zt(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;b.useEffect(()=>{const N=y=>{var S;r.length!==0&&r.every(k=>y[k]||y.code===k)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[r]),b.useEffect(()=>{const N=c.current,y=h.current;if(w&&N&&y){const x=()=>{if(!o.isClosePausedRef.current){const z=new CustomEvent(iw);y.dispatchEvent(z),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const z=new CustomEvent(aw);y.dispatchEvent(z),o.isClosePausedRef.current=!1}},k=z=>{!N.contains(z.relatedTarget)&&S()},P=()=>{N.contains(document.activeElement)||S()};return N.addEventListener("focusin",x),N.addEventListener("focusout",k),N.addEventListener("pointermove",x),N.addEventListener("pointerleave",P),window.addEventListener("blur",x),window.addEventListener("focus",S),()=>{N.removeEventListener("focusin",x),N.removeEventListener("focusout",k),N.removeEventListener("pointermove",x),N.removeEventListener("pointerleave",P),window.removeEventListener("blur",x),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const v=b.useCallback(({tabbingDirection:N})=>{const x=l().map(S=>{const k=S.ref.current,P=[k,...R7(k)];return N==="forwards"?P:P.reverse()});return(N==="forwards"?x.reverse():x).flat()},[l]);return b.useEffect(()=>{const N=h.current;if(N){const y=x=>{var P,z,B;const S=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!S){const R=document.activeElement,K=x.shiftKey;if(x.target===N&&K){(P=u.current)==null||P.focus();return}const T=v({tabbingDirection:K?"backwards":"forwards"}),V=T.findIndex(U=>U===R);vy(T.slice(V+1))?x.preventDefault():K?(z=u.current)==null||z.focus():(B=d.current)==null||B.focus()}};return N.addEventListener("keydown",y),()=>N.removeEventListener("keydown",y)}},[l,v]),i.jsxs(u7,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&i.jsx(ow,{ref:u,onFocusFromOutsideViewport:()=>{const N=v({tabbingDirection:"forwards"});vy(N)}}),i.jsx(a5.Slot,{scope:n,children:i.jsx(ut.ol,{tabIndex:-1,...a,ref:m})}),w&&i.jsx(ow,{ref:d,onFocusFromOutsideViewport:()=>{const N=v({tabbingDirection:"backwards"});vy(N)}})]})});pk.displayName=mk;var gk="ToastFocusProxy",ow=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=J0(gk,n);return i.jsx(Qm,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});ow.displayName=gk;var X0="Toast",j7="toast.swipeStart",N7="toast.swipeMove",_7="toast.swipeCancel",S7="toast.swipeEnd",vk=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Ya({prop:r,defaultProp:s,onChange:a});return i.jsx($r,{present:n||l,children:i.jsx(P7,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Dn(e.onPause),onResume:Dn(e.onResume),onSwipeStart:qe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:qe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});vk.displayName=X0;var[C7,k7]=hk(X0,{onClose(){}}),P7=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...w}=e,v=J0(X0,n),[N,y]=b.useState(null),x=zt(t,U=>y(U)),S=b.useRef(null),k=b.useRef(null),P=s||v.duration,z=b.useRef(0),B=b.useRef(P),R=b.useRef(0),{onToastAdd:K,onToastRemove:ee}=v,M=Dn(()=>{var oe;(N==null?void 0:N.contains(document.activeElement))&&((oe=v.viewport)==null||oe.focus()),o()}),T=b.useCallback(U=>{!U||U===1/0||(window.clearTimeout(R.current),z.current=new Date().getTime(),R.current=window.setTimeout(M,U))},[M]);b.useEffect(()=>{const U=v.viewport;if(U){const oe=()=>{T(B.current),u==null||u()},te=()=>{const Q=new Date().getTime()-z.current;B.current=B.current-Q,window.clearTimeout(R.current),c==null||c()};return U.addEventListener(iw,te),U.addEventListener(aw,oe),()=>{U.removeEventListener(iw,te),U.removeEventListener(aw,oe)}}},[v.viewport,P,c,u,T]),b.useEffect(()=>{a&&!v.isClosePausedRef.current&&T(P)},[a,P,v.isClosePausedRef,T]),b.useEffect(()=>(K(),()=>ee()),[K,ee]);const V=b.useMemo(()=>N?_k(N):null,[N]);return v.viewport?i.jsxs(i.Fragment,{children:[V&&i.jsx(A7,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),i.jsx(C7,{scope:n,onClose:M,children:hu.createPortal(i.jsx(a5.ItemSlot,{scope:n,children:i.jsx(c7,{asChild:!0,onEscapeKeyDown:qe(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ut.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qe(e.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:qe(e.onPointerDown,U=>{U.button===0&&(S.current={x:U.clientX,y:U.clientY})}),onPointerMove:qe(e.onPointerMove,U=>{if(!S.current)return;const oe=U.clientX-S.current.x,te=U.clientY-S.current.y,Q=!!k.current,I=["left","right"].includes(v.swipeDirection),G=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ie=I?G(0,oe):0,ve=I?0:G(0,te),A=U.pointerType==="touch"?10:2,q={x:ie,y:ve},H={originalEvent:U,delta:q};Q?(k.current=q,Bg(N7,h,H,{discrete:!1})):b4(q,v.swipeDirection,A)?(k.current=q,Bg(j7,d,H,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(oe)>A||Math.abs(te)>A)&&(S.current=null)}),onPointerUp:qe(e.onPointerUp,U=>{const oe=k.current,te=U.target;if(te.hasPointerCapture(U.pointerId)&&te.releasePointerCapture(U.pointerId),k.current=null,S.current=null,oe){const Q=U.currentTarget,I={originalEvent:U,delta:oe};b4(oe,v.swipeDirection,v.swipeThreshold)?Bg(S7,p,I,{discrete:!0}):Bg(_7,m,I,{discrete:!0}),Q.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),A7=e=>{const{__scopeToast:t,children:n,...r}=e,s=J0(X0,t),[a,o]=b.useState(!1),[l,c]=b.useState(!1);return T7(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Sh,{asChild:!0,children:i.jsx(Qm,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},E7="ToastTitle",xk=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(ut.div,{...r,ref:t})});xk.displayName=E7;var L7="ToastDescription",yk=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(ut.div,{...r,ref:t})});yk.displayName=L7;var wk="ToastAction",bk=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(Nk,{altText:n,asChild:!0,children:i.jsx(o5,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${wk}\`. Expected non-empty \`string\`.`),null)});bk.displayName=wk;var jk="ToastClose",o5=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=k7(jk,n);return i.jsx(Nk,{asChild:!0,children:i.jsx(ut.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,s.onClose)})})});o5.displayName=jk;var Nk=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(ut.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function _k(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),M7(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(..._k(r))}}),t}function Bg(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?s5(s,a):s.dispatchEvent(a)}var b4=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function T7(e=()=>{}){const t=Dn(e);wr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function M7(e){return e.nodeType===e.ELEMENT_NODE}function R7(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vy(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var D7=fk,Sk=pk,Ck=vk,kk=xk,Pk=yk,Ak=bk,Ek=o5;function Lk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Lk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Tk(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Lk(e))&&(r&&(r+=" "),r+=t);return r}const j4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,N4=Tk,ep=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return N4(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const m=j4(d)||j4(h);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...p}=d;return Object.entries(p).every(w=>{let[v,N]=w;return Array.isArray(N)?N.includes({...a,...l}[v]):{...a,...l}[v]===N})?[...u,h,m]:u},[]);return N4(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...O7,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Mk("lucide",s),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(e,t)=>{const n=b.forwardRef(({className:r,...s},a)=>b.createElement(F7,{ref:a,iconNode:t,className:Mk(`lucide-${I7(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=We("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=We("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=We("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=We("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=We("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=We("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=We("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=We("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=We("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=We("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=We("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=We("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=We("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=We("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=We("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=We("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=We("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=We("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=We("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=We("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=We("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=We("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=We("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=We("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=We("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=We("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=We("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=We("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=We("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=We("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=We("FileChartPie",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3.5",key:"13ddob"}],["path",{d:"M4.017 11.512a6 6 0 1 0 8.466 8.475",key:"s6vs5t"}],["path",{d:"M9 16a1 1 0 0 1-1-1v-4c0-.552.45-1.008.995-.917a6 6 0 0 1 4.922 4.922c.091.544-.365.995-.917.995z",key:"1dl6s6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=We("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=We("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=We("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=We("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=We("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=We("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=We("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=We("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=We("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=We("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=We("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=We("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=We("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=We("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=We("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=We("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=We("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=We("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=We("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=We("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=We("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=We("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=We("TicketCheck",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=We("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=We("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=We("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),f5="-",fI=e=>{const t=pI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(f5);return l[0]===""&&l.length!==1&&l.shift(),Hk(l,t)||mI(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Hk=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Hk(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(f5);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},C4=/^\[(.+)\]$/,mI=e=>{if(C4.test(e)){const t=C4.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},pI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return vI(Object.entries(e.classGroups),n).forEach(([a,o])=>{dw(o,r,a,t)}),r},dw=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:k4(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(gI(s)){dw(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{dw(o,k4(t,a),n,r)})})},k4=(e,t)=>{let n=e;return t.split(f5).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gI=e=>e.isThemeGetter,vI=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,xI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},Gk="!",yI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let N=0;N<l.length;N++){let y=l[N];if(u===0){if(y===s&&(r||l.slice(N,N+a)===t)){c.push(l.slice(d,N)),d=N+a;continue}if(y==="/"){h=N;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(Gk),w=p?m.substring(1):m,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},wI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},bI=e=>({cache:xI(e.cacheSize),parseClassName:yI(e),...fI(e)}),jI=/\s+/,NI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(jI);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let w=!!p,v=r(w?m.substring(0,p):m);if(!v){if(!w){l=u+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=u+(l.length>0?" "+l:l);continue}w=!1}const N=wI(d).join(":"),y=h?N+Gk:N,x=y+v;if(a.includes(x))continue;a.push(x);const S=s(v,w);for(let k=0;k<S.length;++k){const P=S[k];a.push(y+P)}l=u+(l.length>0?" "+l:l)}return l};function _I(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Yk(t))&&(r&&(r+=" "),r+=n);return r}const Yk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Yk(e[r]))&&(n&&(n+=" "),n+=t);return n};function SI(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=bI(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=NI(c,n);return s(c,d),d}return function(){return a(_I.apply(null,arguments))}}const En=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Kk=/^\[(?:([a-z-]+):)?(.+)\]$/i,CI=/^\d+\/\d+$/,kI=new Set(["px","full","screen"]),PI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,po=e=>Rd(e)||kI.has(e)||CI.test(e),ol=e=>Ch(e,"length",BI),Rd=e=>!!e&&!Number.isNaN(Number(e)),xy=e=>Ch(e,"number",Rd),bf=e=>!!e&&Number.isInteger(Number(e)),MI=e=>e.endsWith("%")&&Rd(e.slice(0,-1)),Mt=e=>Kk.test(e),ll=e=>PI.test(e),RI=new Set(["length","size","percentage"]),DI=e=>Ch(e,RI,Jk),II=e=>Ch(e,"position",Jk),OI=new Set(["image","url"]),FI=e=>Ch(e,OI,UI),zI=e=>Ch(e,"",$I),jf=()=>!0,Ch=(e,t,n)=>{const r=Kk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},BI=e=>AI.test(e)&&!EI.test(e),Jk=()=>!1,$I=e=>LI.test(e),UI=e=>TI.test(e),qI=()=>{const e=En("colors"),t=En("spacing"),n=En("blur"),r=En("brightness"),s=En("borderColor"),a=En("borderRadius"),o=En("borderSpacing"),l=En("borderWidth"),c=En("contrast"),u=En("grayscale"),d=En("hueRotate"),h=En("invert"),m=En("gap"),p=En("gradientColorStops"),w=En("gradientColorStopPositions"),v=En("inset"),N=En("margin"),y=En("opacity"),x=En("padding"),S=En("saturate"),k=En("scale"),P=En("sepia"),z=En("skew"),B=En("space"),R=En("translate"),K=()=>["auto","contain","none"],ee=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Mt,t],T=()=>[Mt,t],V=()=>["",po,ol],U=()=>["auto",Rd,Mt],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Mt],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ve=()=>[Rd,Mt];return{cacheSize:500,separator:":",theme:{colors:[jf],spacing:[po,ol],blur:["none","",ll,Mt],brightness:ve(),borderColor:[e],borderRadius:["none","","full",ll,Mt],borderSpacing:T(),borderWidth:V(),contrast:ve(),grayscale:G(),hueRotate:ve(),invert:G(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[MI,ol],inset:M(),margin:M(),opacity:ve(),padding:T(),saturate:ve(),scale:ve(),sepia:G(),skew:ve(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Mt]}],container:["container"],columns:[{columns:[ll]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),Mt]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bf,Mt]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",bf,Mt]}],"grid-cols":[{"grid-cols":[jf]}],"col-start-end":[{col:["auto",{span:["full",bf,Mt]},Mt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[jf]}],"row-start-end":[{row:["auto",{span:[bf,Mt]},Mt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Mt,t]}],"min-w":[{"min-w":[Mt,t,"min","max","fit"]}],"max-w":[{"max-w":[Mt,t,"none","full","min","max","fit","prose",{screen:[ll]},ll]}],h:[{h:[Mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ll,ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xy]}],"font-family":[{font:[jf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mt]}],"line-clamp":[{"line-clamp":["none",Rd,xy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",po,Mt]}],"list-image":[{"list-image":["none",Mt]}],"list-style-type":[{list:["none","disc","decimal",Mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",po,ol]}],"underline-offset":[{"underline-offset":["auto",po,Mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),II]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[po,Mt]}],"outline-w":[{outline:[po,ol]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[po,ol]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ll,zI]}],"shadow-color":[{shadow:[jf]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ll,Mt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mt]}],duration:[{duration:ve()}],ease:[{ease:["linear","in","out","in-out",Mt]}],delay:[{delay:ve()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[bf,Mt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[po,ol,xy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VI=SI(qI);function et(...e){return VI(Tk(e))}const WI=D7,Xk=b.forwardRef(({className:e,...t},n)=>i.jsx(Sk,{ref:n,className:et("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Xk.displayName=Sk.displayName;const HI=ep("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zk=b.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(Ck,{ref:r,className:et(HI({variant:t}),e),...n}));Zk.displayName=Ck.displayName;const GI=b.forwardRef(({className:e,...t},n)=>i.jsx(Ak,{ref:n,className:et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));GI.displayName=Ak.displayName;const Qk=b.forwardRef(({className:e,...t},n)=>i.jsx(Ek,{ref:n,className:et("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(za,{className:"h-4 w-4"})}));Qk.displayName=Ek.displayName;const e6=b.forwardRef(({className:e,...t},n)=>i.jsx(kk,{ref:n,className:et("text-sm font-semibold",e),...t}));e6.displayName=kk.displayName;const t6=b.forwardRef(({className:e,...t},n)=>i.jsx(Pk,{ref:n,className:et("text-sm opacity-90",e),...t}));t6.displayName=Pk.displayName;function YI(){const{toasts:e}=dn();return i.jsxs(WI,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return i.jsxs(Zk,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(e6,{children:n}),r&&i.jsx(t6,{children:r})]}),s,i.jsx(Qk,{})]},t)}),i.jsx(Xk,{})]})}var P4=["light","dark"],KI="(prefers-color-scheme: dark)",JI=b.createContext(void 0),XI={setTheme:e=>{},themes:[]},ZI=()=>{var e;return(e=b.useContext(JI))!=null?e:XI};b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?P4.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,v=!1,N=!0)=>{let y=o?o[w]:w,x=v?w+"|| ''":`'${y}'`,S="";return s&&N&&!v&&P4.includes(w)&&(S+=`d.style.colorScheme = '${w}';`),n==="class"?v||y?S+=`c.add(${x})`:S+="null":y&&(S+=`d[s](n,${x})`),S},p=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${KI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var QI=e=>{switch(e){case"success":return nO;case"info":return sO;case"warning":return rO;case"error":return iO;default:return null}},eO=Array(12).fill(0),tO=({visible:e})=>Ae.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Ae.createElement("div",{className:"sonner-spinner"},eO.map((t,n)=>Ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nO=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rO=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sO=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iO=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aO=()=>{let[e,t]=Ae.useState(document.hidden);return Ae.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},hw=1,oO=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:hw++,o=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:r}),{...c,...t,id:a,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:a}),a},this.dismiss=t=>(t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),a=r!==void 0;return s.then(async o=>{if(cO(o)&&!o.ok){a=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){a=!1;let l=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async o=>{if(n.error!==void 0){a=!1;let l=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var o;a&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||hw++;return this.create({jsx:t(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Xs=new oO,lO=(e,t)=>{let n=(t==null?void 0:t.id)||hw++;return Xs.addToast({title:e,...t,id:n}),n},cO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",uO=lO,dO=()=>Xs.toasts;Object.assign(uO,{success:Xs.success,info:Xs.info,warning:Xs.warning,error:Xs.error,custom:Xs.custom,message:Xs.message,promise:Xs.promise,dismiss:Xs.dismiss,loading:Xs.loading},{getHistory:dO});function hO(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}hO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $g(e){return e.label!==void 0}var fO=3,mO="32px",pO=4e3,gO=356,vO=14,xO=20,yO=200;function wO(...e){return e.filter(Boolean).join(" ")}var bO=e=>{var t,n,r,s,a,o,l,c,u,d;let{invert:h,toast:m,unstyled:p,interacting:w,setHeights:v,visibleToasts:N,heights:y,index:x,toasts:S,expanded:k,removeToast:P,defaultRichColors:z,closeButton:B,style:R,cancelButtonStyle:K,actionButtonStyle:ee,className:M="",descriptionClassName:T="",duration:V,position:U,gap:oe,loadingIcon:te,expandByDefault:Q,classNames:I,icons:G,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ve,cn:A}=e,[q,H]=Ae.useState(!1),[ne,re]=Ae.useState(!1),[se,de]=Ae.useState(!1),[me,Ce]=Ae.useState(!1),[ke,Me]=Ae.useState(0),[Fe,at]=Ae.useState(0),Ne=Ae.useRef(null),Z=Ae.useRef(null),pt=x===0,Y=x+1<=N,X=m.type,le=m.dismissible!==!1,je=m.className||"",we=m.descriptionClassName||"",be=Ae.useMemo(()=>y.findIndex(Ze=>Ze.toastId===m.id)||0,[y,m.id]),Ie=Ae.useMemo(()=>{var Ze;return(Ze=m.closeButton)!=null?Ze:B},[m.closeButton,B]),He=Ae.useMemo(()=>m.duration||V||pO,[m.duration,V]),ct=Ae.useRef(0),dt=Ae.useRef(0),Bt=Ae.useRef(0),ft=Ae.useRef(null),[kt,Je]=U.split("-"),Kn=Ae.useMemo(()=>y.reduce((Ze,en,xt)=>xt>=be?Ze:Ze+en.height,0),[y,be]),Vt=aO(),os=m.invert||h,Jt=X==="loading";dt.current=Ae.useMemo(()=>be*oe+Kn,[be,Kn]),Ae.useEffect(()=>{H(!0)},[]),Ae.useLayoutEffect(()=>{if(!q)return;let Ze=Z.current,en=Ze.style.height;Ze.style.height="auto";let xt=Ze.getBoundingClientRect().height;Ze.style.height=en,at(xt),v(Un=>Un.find(ar=>ar.toastId===m.id)?Un.map(ar=>ar.toastId===m.id?{...ar,height:xt}:ar):[{toastId:m.id,height:xt,position:m.position},...Un])},[q,m.title,m.description,v,m.id]);let Qt=Ae.useCallback(()=>{re(!0),Me(dt.current),v(Ze=>Ze.filter(en=>en.toastId!==m.id)),setTimeout(()=>{P(m)},yO)},[m,P,v,dt]);Ae.useEffect(()=>{if(m.promise&&X==="loading"||m.duration===1/0||m.type==="loading")return;let Ze,en=He;return k||w||ve&&Vt?(()=>{if(Bt.current<ct.current){let xt=new Date().getTime()-ct.current;en=en-xt}Bt.current=new Date().getTime()})():en!==1/0&&(ct.current=new Date().getTime(),Ze=setTimeout(()=>{var xt;(xt=m.onAutoClose)==null||xt.call(m,m),Qt()},en)),()=>clearTimeout(Ze)},[k,w,Q,m,He,Qt,m.promise,X,ve,Vt]),Ae.useEffect(()=>{let Ze=Z.current;if(Ze){let en=Ze.getBoundingClientRect().height;return at(en),v(xt=>[{toastId:m.id,height:en,position:m.position},...xt]),()=>v(xt=>xt.filter(Un=>Un.toastId!==m.id))}},[v,m.id]),Ae.useEffect(()=>{m.delete&&Qt()},[Qt,m.delete]);function ui(){return G!=null&&G.loading?Ae.createElement("div",{className:"sonner-loader","data-visible":X==="loading"},G.loading):te?Ae.createElement("div",{className:"sonner-loader","data-visible":X==="loading"},te):Ae.createElement(tO,{visible:X==="loading"})}return Ae.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Z,className:A(M,je,I==null?void 0:I.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[X],(n=m==null?void 0:m.classNames)==null?void 0:n[X]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:z,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":q,"data-promise":!!m.promise,"data-removed":ne,"data-visible":Y,"data-y-position":kt,"data-x-position":Je,"data-index":x,"data-front":pt,"data-swiping":se,"data-dismissible":le,"data-type":X,"data-invert":os,"data-swipe-out":me,"data-expanded":!!(k||Q&&q),style:{"--index":x,"--toasts-before":x,"--z-index":S.length-x,"--offset":`${ne?ke:dt.current}px`,"--initial-height":Q?"auto":`${Fe}px`,...R,...m.style},onPointerDown:Ze=>{Jt||!le||(Ne.current=new Date,Me(dt.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(de(!0),ft.current={x:Ze.clientX,y:Ze.clientY}))},onPointerUp:()=>{var Ze,en,xt,Un;if(me||!le)return;ft.current=null;let ar=Number(((Ze=Z.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount").replace("px",""))||0),bn=new Date().getTime()-((en=Ne.current)==null?void 0:en.getTime()),_t=Math.abs(ar)/bn;if(Math.abs(ar)>=xO||_t>.11){Me(dt.current),(xt=m.onDismiss)==null||xt.call(m,m),Qt(),Ce(!0);return}(Un=Z.current)==null||Un.style.setProperty("--swipe-amount","0px"),de(!1)},onPointerMove:Ze=>{var en;if(!ft.current||!le)return;let xt=Ze.clientY-ft.current.y,Un=Ze.clientX-ft.current.x,ar=(kt==="top"?Math.min:Math.max)(0,xt),bn=Ze.pointerType==="touch"?10:2;Math.abs(ar)>bn?(en=Z.current)==null||en.style.setProperty("--swipe-amount",`${xt}px`):Math.abs(Un)>bn&&(ft.current=null)}},Ie&&!m.jsx?Ae.createElement("button",{"aria-label":ie,"data-disabled":Jt,"data-close-button":!0,onClick:Jt||!le?()=>{}:()=>{var Ze;Qt(),(Ze=m.onDismiss)==null||Ze.call(m,m)},className:A(I==null?void 0:I.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||Ae.isValidElement(m.title)?m.jsx||m.title:Ae.createElement(Ae.Fragment,null,X||m.icon||m.promise?Ae.createElement("div",{"data-icon":"",className:A(I==null?void 0:I.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ui():null,m.type!=="loading"?m.icon||(G==null?void 0:G[X])||QI(X):null):null,Ae.createElement("div",{"data-content":"",className:A(I==null?void 0:I.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},Ae.createElement("div",{"data-title":"",className:A(I==null?void 0:I.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?Ae.createElement("div",{"data-description":"",className:A(T,we,I==null?void 0:I.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),Ae.isValidElement(m.cancel)?m.cancel:m.cancel&&$g(m.cancel)?Ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||K,onClick:Ze=>{var en,xt;$g(m.cancel)&&le&&((xt=(en=m.cancel).onClick)==null||xt.call(en,Ze),Qt())},className:A(I==null?void 0:I.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,Ae.isValidElement(m.action)?m.action:m.action&&$g(m.action)?Ae.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||ee,onClick:Ze=>{var en,xt;$g(m.action)&&(Ze.defaultPrevented||((xt=(en=m.action).onClick)==null||xt.call(en,Ze),Qt()))},className:A(I==null?void 0:I.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function A4(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var jO=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:m=fO,toastOptions:p,dir:w=A4(),gap:v=vO,loadingIcon:N,icons:y,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:S,cn:k=wO}=e,[P,z]=Ae.useState([]),B=Ae.useMemo(()=>Array.from(new Set([n].concat(P.filter(ve=>ve.position).map(ve=>ve.position)))),[P,n]),[R,K]=Ae.useState([]),[ee,M]=Ae.useState(!1),[T,V]=Ae.useState(!1),[U,oe]=Ae.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=Ae.useRef(null),Q=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=Ae.useRef(null),G=Ae.useRef(!1),ie=Ae.useCallback(ve=>{var A;(A=P.find(q=>q.id===ve.id))!=null&&A.delete||Xs.dismiss(ve.id),z(q=>q.filter(({id:H})=>H!==ve.id))},[P]);return Ae.useEffect(()=>Xs.subscribe(ve=>{if(ve.dismiss){z(A=>A.map(q=>q.id===ve.id?{...q,delete:!0}:q));return}setTimeout(()=>{ak.flushSync(()=>{z(A=>{let q=A.findIndex(H=>H.id===ve.id);return q!==-1?[...A.slice(0,q),{...A[q],...ve},...A.slice(q+1)]:[ve,...A]})})})}),[]),Ae.useEffect(()=>{if(c!=="system"){oe(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ve})=>{oe(ve?"dark":"light")})},[c]),Ae.useEffect(()=>{P.length<=1&&M(!1)},[P]),Ae.useEffect(()=>{let ve=A=>{var q,H;r.every(ne=>A[ne]||A.code===ne)&&(M(!0),(q=te.current)==null||q.focus()),A.code==="Escape"&&(document.activeElement===te.current||(H=te.current)!=null&&H.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",ve),()=>document.removeEventListener("keydown",ve)},[r]),Ae.useEffect(()=>{if(te.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,G.current=!1)}},[te.current]),P.length?Ae.createElement("section",{"aria-label":`${x} ${Q}`,tabIndex:-1},B.map((ve,A)=>{var q;let[H,ne]=ve.split("-");return Ae.createElement("ol",{key:ve,dir:w==="auto"?A4():w,tabIndex:-1,ref:te,className:o,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":H,"data-x-position":ne,style:{"--front-toast-height":`${((q=R[0])==null?void 0:q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||mO,"--width":`${gO}px`,"--gap":`${v}px`,...h},onBlur:re=>{G.current&&!re.currentTarget.contains(re.relatedTarget)&&(G.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||G.current||(G.current=!0,I.current=re.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{T||M(!1)},onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},P.filter(re=>!re.position&&A===0||re.position===ve).map((re,se)=>{var de,me;return Ae.createElement(bO,{key:re.id,icons:y,index:se,toast:re,defaultRichColors:u,duration:(de=p==null?void 0:p.duration)!=null?de:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:m,closeButton:(me=p==null?void 0:p.closeButton)!=null?me:a,interacting:T,position:ve,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ie,toasts:P.filter(Ce=>Ce.position==re.position),heights:R.filter(Ce=>Ce.position==re.position),setHeights:K,expandByDefault:s,gap:v,loadingIcon:N,expanded:ee,pauseWhenPageIsHidden:S,cn:k})}))})):null};const NO=({...e})=>{const{theme:t="system"}=ZI();return i.jsx(jO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var _O=rS.useId||(()=>{}),SO=0;function Pi(e){const[t,n]=b.useState(_O());return wr(()=>{e||n(r=>r??String(SO++))},[e]),e||(t?`radix-${t}`:"")}const CO=["top","right","bottom","left"],Gl=Math.min,Qs=Math.max,Xv=Math.round,Ug=Math.floor,Yl=e=>({x:e,y:e}),kO={left:"right",right:"left",bottom:"top",top:"bottom"},PO={start:"end",end:"start"};function fw(e,t,n){return Qs(e,Gl(t,n))}function Do(e,t){return typeof e=="function"?e(t):e}function Io(e){return e.split("-")[0]}function kh(e){return e.split("-")[1]}function m5(e){return e==="x"?"y":"x"}function p5(e){return e==="y"?"height":"width"}function Kl(e){return["top","bottom"].includes(Io(e))?"y":"x"}function g5(e){return m5(Kl(e))}function AO(e,t,n){n===void 0&&(n=!1);const r=kh(e),s=g5(e),a=p5(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Zv(o)),[o,Zv(o)]}function EO(e){const t=Zv(e);return[mw(e),t,mw(t)]}function mw(e){return e.replace(/start|end/g,t=>PO[t])}function LO(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:o;default:return[]}}function TO(e,t,n,r){const s=kh(e);let a=LO(Io(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(mw)))),a}function Zv(e){return e.replace(/left|right|bottom|top/g,t=>kO[t])}function MO(e){return{top:0,right:0,bottom:0,left:0,...e}}function n6(e){return typeof e!="number"?MO(e):{top:e,right:e,bottom:e,left:e}}function Qv(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function E4(e,t,n){let{reference:r,floating:s}=e;const a=Kl(t),o=g5(t),l=p5(o),c=Io(t),u=a==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(kh(t)){case"start":p[o]-=m*(n&&u?-1:1);break;case"end":p[o]+=m*(n&&u?-1:1);break}return p}const RO=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=E4(u,r,c),m=r,p={},w=0;for(let v=0;v<l.length;v++){const{name:N,fn:y}=l[v],{x,y:S,data:k,reset:P}=await y({x:d,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,h=S??h,p={...p,[N]:{...p[N],...k}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:d,y:h}=E4(u,m,c)),v=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:p}};async function bm(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=Do(t,e),w=n6(p),N=l[m?h==="floating"?"reference":"floating":h],y=Qv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(N)))==null||n?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),k=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},P=Qv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:S,strategy:c}):x);return{top:(y.top-P.top+w.top)/k.y,bottom:(P.bottom-y.bottom+w.bottom)/k.y,left:(y.left-P.left+w.left)/k.x,right:(P.right-y.right+w.right)/k.x}}const DO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Do(e,t)||{};if(u==null)return{};const h=n6(d),m={x:n,y:r},p=g5(s),w=p5(p),v=await o.getDimensions(u),N=p==="y",y=N?"top":"left",x=N?"bottom":"right",S=N?"clientHeight":"clientWidth",k=a.reference[w]+a.reference[p]-m[p]-a.floating[w],P=m[p]-a.reference[p],z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let B=z?z[S]:0;(!B||!await(o.isElement==null?void 0:o.isElement(z)))&&(B=l.floating[S]||a.floating[w]);const R=k/2-P/2,K=B/2-v[w]/2-1,ee=Gl(h[y],K),M=Gl(h[x],K),T=ee,V=B-v[w]-M,U=B/2-v[w]/2+R,oe=fw(T,U,V),te=!c.arrow&&kh(s)!=null&&U!==oe&&a.reference[w]/2-(U<T?ee:M)-v[w]/2<0,Q=te?U<T?U-T:U-V:0;return{[p]:m[p]+Q,data:{[p]:oe,centerOffset:U-oe-Q,...te&&{alignmentOffset:Q}},reset:te}}}),IO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...N}=Do(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Io(s),x=Kl(l),S=Io(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=m||(S||!v?[Zv(l)]:EO(l)),z=w!=="none";!m&&z&&P.push(...TO(l,v,w,k));const B=[l,...P],R=await bm(t,N),K=[];let ee=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&K.push(R[y]),h){const U=AO(s,o,k);K.push(R[U[0]],R[U[1]])}if(ee=[...ee,{placement:s,overflows:K}],!K.every(U=>U<=0)){var M,T;const U=(((M=a.flip)==null?void 0:M.index)||0)+1,oe=B[U];if(oe)return{data:{index:U,overflows:ee},reset:{placement:oe}};let te=(T=ee.filter(Q=>Q.overflows[0]<=0).sort((Q,I)=>Q.overflows[1]-I.overflows[1])[0])==null?void 0:T.placement;if(!te)switch(p){case"bestFit":{var V;const Q=(V=ee.filter(I=>{if(z){const G=Kl(I.placement);return G===x||G==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(G=>G>0).reduce((G,ie)=>G+ie,0)]).sort((I,G)=>I[1]-G[1])[0])==null?void 0:V[0];Q&&(te=Q);break}case"initialPlacement":te=l;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function L4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function T4(e){return CO.some(t=>e[t]>=0)}const OO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Do(e,t);switch(r){case"referenceHidden":{const a=await bm(t,{...s,elementContext:"reference"}),o=L4(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:T4(o)}}}case"escaped":{const a=await bm(t,{...s,altBoundary:!0}),o=L4(a,n.floating);return{data:{escapedOffsets:o,escaped:T4(o)}}}default:return{}}}}};async function FO(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Io(n),l=kh(n),c=Kl(n)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,h=Do(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const zO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await FO(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},BO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:y,y:x}=N;return{x:y,y:x}}},...c}=Do(e,t),u={x:n,y:r},d=await bm(t,c),h=Kl(Io(s)),m=m5(h);let p=u[m],w=u[h];if(a){const N=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=p+d[N],S=p-d[y];p=fw(x,p,S)}if(o){const N=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=w+d[N],S=w-d[y];w=fw(x,w,S)}const v=l.fn({...t,[m]:p,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:a,[h]:o}}}}}},$O=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Do(e,t),d={x:n,y:r},h=Kl(s),m=m5(h);let p=d[m],w=d[h];const v=Do(l,t),N=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const S=m==="y"?"height":"width",k=a.reference[m]-a.floating[S]+N.mainAxis,P=a.reference[m]+a.reference[S]-N.mainAxis;p<k?p=k:p>P&&(p=P)}if(u){var y,x;const S=m==="y"?"width":"height",k=["top","left"].includes(Io(s)),P=a.reference[h]-a.floating[S]+(k&&((y=o.offset)==null?void 0:y[h])||0)+(k?0:N.crossAxis),z=a.reference[h]+a.reference[S]+(k?0:((x=o.offset)==null?void 0:x[h])||0)-(k?N.crossAxis:0);w<P?w=P:w>z&&(w=z)}return{[m]:p,[h]:w}}}},UO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Do(e,t),d=await bm(t,u),h=Io(s),m=kh(s),p=Kl(s)==="y",{width:w,height:v}=a.floating;let N,y;h==="top"||h==="bottom"?(N=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,N=m==="end"?"top":"bottom");const x=v-d.top-d.bottom,S=w-d.left-d.right,k=Gl(v-d[N],x),P=Gl(w-d[y],S),z=!t.middlewareData.shift;let B=k,R=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=x),z&&!m){const ee=Qs(d.left,0),M=Qs(d.right,0),T=Qs(d.top,0),V=Qs(d.bottom,0);p?R=w-2*(ee!==0||M!==0?ee+M:Qs(d.left,d.right)):B=v-2*(T!==0||V!==0?T+V:Qs(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:B});const K=await o.getDimensions(l.floating);return w!==K.width||v!==K.height?{reset:{rects:!0}}:{}}}};function ox(){return typeof window<"u"}function Ph(e){return r6(e)?(e.nodeName||"").toLowerCase():"#document"}function si(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function to(e){var t;return(t=(r6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function r6(e){return ox()?e instanceof Node||e instanceof si(e).Node:!1}function ua(e){return ox()?e instanceof Element||e instanceof si(e).Element:!1}function Ka(e){return ox()?e instanceof HTMLElement||e instanceof si(e).HTMLElement:!1}function M4(e){return!ox()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof si(e).ShadowRoot}function lp(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=da(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function qO(e){return["table","td","th"].includes(Ph(e))}function lx(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function v5(e){const t=x5(),n=ua(e)?da(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function VO(e){let t=Jl(e);for(;Ka(t)&&!ch(t);){if(v5(t))return t;if(lx(t))return null;t=Jl(t)}return null}function x5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ch(e){return["html","body","#document"].includes(Ph(e))}function da(e){return si(e).getComputedStyle(e)}function cx(e){return ua(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jl(e){if(Ph(e)==="html")return e;const t=e.assignedSlot||e.parentNode||M4(e)&&e.host||to(e);return M4(t)?t.host:t}function s6(e){const t=Jl(e);return ch(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ka(t)&&lp(t)?t:s6(t)}function jm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=s6(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=si(s);if(a){const l=pw(o);return t.concat(o,o.visualViewport||[],lp(s)?s:[],l&&n?jm(l):[])}return t.concat(s,jm(s,[],n))}function pw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function i6(e){const t=da(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ka(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=Xv(n)!==a||Xv(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function y5(e){return ua(e)?e:e.contextElement}function Dd(e){const t=y5(e);if(!Ka(t))return Yl(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=i6(t);let o=(a?Xv(n.width):n.width)/r,l=(a?Xv(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const WO=Yl(0);function a6(e){const t=si(e);return!x5()||!t.visualViewport?WO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function HO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==si(e)?!1:t}function tu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=y5(e);let o=Yl(1);t&&(r?ua(r)&&(o=Dd(r)):o=Dd(e));const l=HO(a,n,r)?a6(a):Yl(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const m=si(a),p=r&&ua(r)?si(r):r;let w=m,v=pw(w);for(;v&&r&&p!==w;){const N=Dd(v),y=v.getBoundingClientRect(),x=da(v),S=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*N.x,k=y.top+(v.clientTop+parseFloat(x.paddingTop))*N.y;c*=N.x,u*=N.y,d*=N.x,h*=N.y,c+=S,u+=k,w=si(v),v=pw(w)}}return Qv({width:d,height:h,x:c,y:u})}function GO(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=to(r),l=t?lx(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Yl(1);const d=Yl(0),h=Ka(r);if((h||!h&&!a)&&((Ph(r)!=="body"||lp(o))&&(c=cx(r)),Ka(r))){const m=tu(r);u=Dd(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function YO(e){return Array.from(e.getClientRects())}function gw(e,t){const n=cx(e).scrollLeft;return t?t.left+n:tu(to(e)).left+n}function KO(e){const t=to(e),n=cx(e),r=e.ownerDocument.body,s=Qs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Qs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+gw(e);const l=-n.scrollTop;return da(r).direction==="rtl"&&(o+=Qs(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function JO(e,t){const n=si(e),r=to(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=x5();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function XO(e,t){const n=tu(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Ka(e)?Dd(e):Yl(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function R4(e,t,n){let r;if(t==="viewport")r=JO(e,n);else if(t==="document")r=KO(to(e));else if(ua(t))r=XO(t,n);else{const s=a6(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Qv(r)}function o6(e,t){const n=Jl(e);return n===t||!ua(n)||ch(n)?!1:da(n).position==="fixed"||o6(n,t)}function ZO(e,t){const n=t.get(e);if(n)return n;let r=jm(e,[],!1).filter(l=>ua(l)&&Ph(l)!=="body"),s=null;const a=da(e).position==="fixed";let o=a?Jl(e):e;for(;ua(o)&&!ch(o);){const l=da(o),c=v5(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||lp(o)&&!c&&o6(e,o))?r=r.filter(d=>d!==o):s=l,o=Jl(o)}return t.set(e,r),r}function QO(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?lx(t)?[]:ZO(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=R4(t,d,s);return u.top=Qs(h.top,u.top),u.right=Gl(h.right,u.right),u.bottom=Gl(h.bottom,u.bottom),u.left=Qs(h.left,u.left),u},R4(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eF(e){const{width:t,height:n}=i6(e);return{width:t,height:n}}function tF(e,t,n){const r=Ka(t),s=to(t),a=n==="fixed",o=tu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Yl(0);if(r||!r&&!a)if((Ph(t)!=="body"||lp(s))&&(l=cx(t)),r){const p=tu(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=gw(s));let u=0,d=0;if(s&&!r&&!a){const p=s.getBoundingClientRect();d=p.top+l.scrollTop,u=p.left+l.scrollLeft-gw(s,p)}const h=o.left+l.scrollLeft-c.x-u,m=o.top+l.scrollTop-c.y-d;return{x:h,y:m,width:o.width,height:o.height}}function yy(e){return da(e).position==="static"}function D4(e,t){if(!Ka(e)||da(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return to(e)===n&&(n=n.ownerDocument.body),n}function l6(e,t){const n=si(e);if(lx(e))return n;if(!Ka(e)){let s=Jl(e);for(;s&&!ch(s);){if(ua(s)&&!yy(s))return s;s=Jl(s)}return n}let r=D4(e,t);for(;r&&qO(r)&&yy(r);)r=D4(r,t);return r&&ch(r)&&yy(r)&&!v5(r)?n:r||VO(e)||n}const nF=async function(e){const t=this.getOffsetParent||l6,n=this.getDimensions,r=await n(e.floating);return{reference:tF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rF(e){return da(e).direction==="rtl"}const sF={convertOffsetParentRelativeRectToViewportRelativeRect:GO,getDocumentElement:to,getClippingRect:QO,getOffsetParent:l6,getElementRects:nF,getClientRects:YO,getDimensions:eF,getScale:Dd,isElement:ua,isRTL:rF};function iF(e,t){let n=null,r;const s=to(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:m}=e.getBoundingClientRect();if(l||t(),!h||!m)return;const p=Ug(d),w=Ug(s.clientWidth-(u+h)),v=Ug(s.clientHeight-(d+m)),N=Ug(u),x={rootMargin:-p+"px "+-w+"px "+-v+"px "+-N+"px",threshold:Qs(0,Gl(1,c))||1};let S=!0;function k(P){const z=P[0].intersectionRatio;if(z!==c){if(!S)return o();z?o(!1,z):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(k,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(e)}return o(!0),a}function aF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=y5(e),d=s||a?[...u?jm(u):[],...jm(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const h=u&&l?iF(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,v=c?tu(e):null;c&&N();function N(){const y=tu(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&n(),v=y,w=requestAnimationFrame(N)}return n(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const oF=zO,lF=BO,cF=IO,uF=UO,dF=OO,I4=DO,hF=$O,fF=(e,t,n)=>{const r=new Map,s={platform:sF,...n},a={...s.platform,_c:r};return RO(e,t,{...s,platform:a})};var vv=typeof document<"u"?b.useLayoutEffect:b.useEffect;function e0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!e0(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!e0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function c6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function O4(e,t){const n=c6(e);return Math.round(t*n)/n}function wy(e){const t=b.useRef(e);return vv(()=>{t.current=e}),t}function mF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=b.useState(r);e0(m,r)||p(r);const[w,v]=b.useState(null),[N,y]=b.useState(null),x=b.useCallback(I=>{I!==z.current&&(z.current=I,v(I))},[]),S=b.useCallback(I=>{I!==B.current&&(B.current=I,y(I))},[]),k=a||w,P=o||N,z=b.useRef(null),B=b.useRef(null),R=b.useRef(d),K=c!=null,ee=wy(c),M=wy(s),T=wy(u),V=b.useCallback(()=>{if(!z.current||!B.current)return;const I={placement:t,strategy:n,middleware:m};M.current&&(I.platform=M.current),fF(z.current,B.current,I).then(G=>{const ie={...G,isPositioned:T.current!==!1};U.current&&!e0(R.current,ie)&&(R.current=ie,hu.flushSync(()=>{h(ie)}))})},[m,t,n,M,T]);vv(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const U=b.useRef(!1);vv(()=>(U.current=!0,()=>{U.current=!1}),[]),vv(()=>{if(k&&(z.current=k),P&&(B.current=P),k&&P){if(ee.current)return ee.current(k,P,V);V()}},[k,P,V,ee,K]);const oe=b.useMemo(()=>({reference:z,floating:B,setReference:x,setFloating:S}),[x,S]),te=b.useMemo(()=>({reference:k,floating:P}),[k,P]),Q=b.useMemo(()=>{const I={position:n,left:0,top:0};if(!te.floating)return I;const G=O4(te.floating,d.x),ie=O4(te.floating,d.y);return l?{...I,transform:"translate("+G+"px, "+ie+"px)",...c6(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:ie}},[n,l,te.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:V,refs:oe,elements:te,floatingStyles:Q}),[d,V,oe,te,Q])}const pF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?I4({element:r.current,padding:s}).fn(n):{}:r?I4({element:r,padding:s}).fn(n):{}}}},gF=(e,t)=>({...oF(e),options:[e,t]}),vF=(e,t)=>({...lF(e),options:[e,t]}),xF=(e,t)=>({...hF(e),options:[e,t]}),yF=(e,t)=>({...cF(e),options:[e,t]}),wF=(e,t)=>({...uF(e),options:[e,t]}),bF=(e,t)=>({...dF(e),options:[e,t]}),jF=(e,t)=>({...pF(e),options:[e,t]});var NF="Arrow",u6=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(ut.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});u6.displayName=NF;var _F=u6;function SF(e,t=[]){let n=[];function r(a,o){const l=b.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:m,children:p,...w}=h,v=(m==null?void 0:m[e][c])||l,N=b.useMemo(()=>w,Object.values(w));return i.jsx(v.Provider,{value:N,children:p})}function d(h,m){const p=(m==null?void 0:m[e][c])||l,w=b.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,CF(s,...t)]}function CF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function d6(e){const[t,n]=b.useState(void 0);return wr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var w5="Popper",[h6,ac]=SF(w5),[kF,f6]=h6(w5),m6=e=>{const{__scopePopper:t,children:n}=e,[r,s]=b.useState(null);return i.jsx(kF,{scope:t,anchor:r,onAnchorChange:s,children:n})};m6.displayName=w5;var p6="PopperAnchor",g6=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=f6(p6,n),o=b.useRef(null),l=zt(t,o);return b.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(ut.div,{...s,ref:l})});g6.displayName=p6;var b5="PopperContent",[PF,AF]=h6(b5),v6=b.forwardRef((e,t)=>{var se,de,me,Ce,ke,Me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...v}=e,N=f6(b5,n),[y,x]=b.useState(null),S=zt(t,Fe=>x(Fe)),[k,P]=b.useState(null),z=d6(k),B=(z==null?void 0:z.width)??0,R=(z==null?void 0:z.height)??0,K=r+(a!=="center"?"-"+a:""),ee=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],T=M.length>0,V={padding:ee,boundary:M.filter(LF),altBoundary:T},{refs:U,floatingStyles:oe,placement:te,isPositioned:Q,middlewareData:I}=mF({strategy:"fixed",placement:K,whileElementsMounted:(...Fe)=>aF(...Fe,{animationFrame:p==="always"}),elements:{reference:N.anchor},middleware:[gF({mainAxis:s+R,alignmentAxis:o}),c&&vF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xF():void 0,...V}),c&&yF({...V}),wF({...V,apply:({elements:Fe,rects:at,availableWidth:Ne,availableHeight:Z})=>{const{width:pt,height:Y}=at.reference,X=Fe.floating.style;X.setProperty("--radix-popper-available-width",`${Ne}px`),X.setProperty("--radix-popper-available-height",`${Z}px`),X.setProperty("--radix-popper-anchor-width",`${pt}px`),X.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),k&&jF({element:k,padding:l}),TF({arrowWidth:B,arrowHeight:R}),m&&bF({strategy:"referenceHidden",...V})]}),[G,ie]=w6(te),ve=Dn(w);wr(()=>{Q&&(ve==null||ve())},[Q,ve]);const A=(se=I.arrow)==null?void 0:se.x,q=(de=I.arrow)==null?void 0:de.y,H=((me=I.arrow)==null?void 0:me.centerOffset)!==0,[ne,re]=b.useState();return wr(()=>{y&&re(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:Q?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(Ce=I.transformOrigin)==null?void 0:Ce.x,(ke=I.transformOrigin)==null?void 0:ke.y].join(" "),...((Me=I.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(PF,{scope:n,placedSide:G,onArrowChange:P,arrowX:A,arrowY:q,shouldHideArrow:H,children:i.jsx(ut.div,{"data-side":G,"data-align":ie,...v,ref:S,style:{...v.style,animation:Q?void 0:"none"}})})})});v6.displayName=b5;var x6="PopperArrow",EF={top:"bottom",right:"left",bottom:"top",left:"right"},y6=b.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=AF(x6,r),o=EF[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(_F,{...s,ref:n,style:{...s.style,display:"block"}})})});y6.displayName=x6;function LF(e){return e!==null}var TF=e=>({name:"transformOrigin",options:e,fn(t){var N,y,x;const{placement:n,rects:r,middlewareData:s}=t,o=((N=s.arrow)==null?void 0:N.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=w6(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=o?h:`${m}px`,v=`${-c}px`):u==="top"?(w=o?h:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=o?h:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,v=o?h:`${p}px`),{data:{x:w,y:v}}}});function w6(e){const[t,n="center"]=e.split("-");return[t,n]}var ux=m6,cp=g6,dx=v6,hx=y6,[fx,Zte]=pa("Tooltip",[ac]),mx=ac(),b6="TooltipProvider",MF=700,vw="tooltip.open",[RF,j5]=fx(b6),j6=e=>{const{__scopeTooltip:t,delayDuration:n=MF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,[o,l]=b.useState(!0),c=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(RF,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:b.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};j6.displayName=b6;var px="Tooltip",[DF,gx]=fx(px),N6=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=j5(px,e.__scopeTooltip),u=mx(t),[d,h]=b.useState(null),m=Pi(),p=b.useRef(0),w=o??c.disableHoverableContent,v=l??c.delayDuration,N=b.useRef(!1),[y=!1,x]=Ya({prop:r,defaultProp:s,onChange:B=>{B?(c.onOpen(),document.dispatchEvent(new CustomEvent(vw))):c.onClose(),a==null||a(B)}}),S=b.useMemo(()=>y?N.current?"delayed-open":"instant-open":"closed",[y]),k=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,N.current=!1,x(!0)},[x]),P=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),z=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{N.current=!0,x(!0),p.current=0},v)},[v,x]);return b.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),i.jsx(ux,{...u,children:i.jsx(DF,{scope:t,contentId:m,open:y,stateAttribute:S,trigger:d,onTriggerChange:h,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayed?z():k()},[c.isOpenDelayed,z,k]),onTriggerLeave:b.useCallback(()=>{w?P():(window.clearTimeout(p.current),p.current=0)},[P,w]),onOpen:k,onClose:P,disableHoverableContent:w,children:n})})};N6.displayName=px;var xw="TooltipTrigger",_6=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=gx(xw,n),a=j5(xw,n),o=mx(n),l=b.useRef(null),c=zt(t,l,s.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),h=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(cp,{asChild:!0,...o,children:i.jsx(ut.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:qe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:qe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:qe(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:qe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:qe(e.onBlur,s.onClose),onClick:qe(e.onClick,s.onClose)})})});_6.displayName=xw;var IF="TooltipPortal",[Qte,OF]=fx(IF,{forceMount:void 0}),uh="TooltipContent",S6=b.forwardRef((e,t)=>{const n=OF(uh,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=gx(uh,e.__scopeTooltip);return i.jsx($r,{present:r||o.open,children:o.disableHoverableContent?i.jsx(C6,{side:s,...a,ref:t}):i.jsx(FF,{side:s,...a,ref:t})})}),FF=b.forwardRef((e,t)=>{const n=gx(uh,e.__scopeTooltip),r=j5(uh,e.__scopeTooltip),s=b.useRef(null),a=zt(t,s),[o,l]=b.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,m=b.useCallback(()=>{l(null),h(!1)},[h]),p=b.useCallback((w,v)=>{const N=w.currentTarget,y={x:w.clientX,y:w.clientY},x=UF(y,N.getBoundingClientRect()),S=qF(y,x),k=VF(v.getBoundingClientRect()),P=HF([...S,...k]);l(P),h(!0)},[h]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(c&&d){const w=N=>p(N,d),v=N=>p(N,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",v)}}},[c,d,p,m]),b.useEffect(()=>{if(o){const w=v=>{const N=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(N))||(d==null?void 0:d.contains(N)),S=!WF(y,o);x?m():S&&(m(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,o,u,m]),i.jsx(C6,{...e,ref:a})}),[zF,BF]=fx(px,{isInside:!1}),C6=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=gx(uh,n),u=mx(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(vw,d),()=>document.removeEventListener(vw,d)),[d]),b.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(fu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(dx,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(lk,{children:r}),i.jsx(zF,{scope:n,isInside:!0,children:i.jsx(v7,{id:c.contentId,role:"tooltip",children:s||r})})]})})});S6.displayName=uh;var k6="TooltipArrow",$F=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=mx(n);return BF(k6,n).isInside?null:i.jsx(hx,{...s,...r,ref:t})});$F.displayName=k6;function UF(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function qF(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function VF(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function WF(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function HF(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),GF(t)}function GF(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var YF=j6,KF=N6,JF=_6,P6=S6;const XF=YF,dh=KF,hh=JF,nu=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(P6,{ref:r,sideOffset:t,className:et("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));nu.displayName=P6.displayName;var vx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xx=typeof window>"u"||"Deno"in globalThis;function Ki(){}function ZF(e,t){return typeof e=="function"?e(t):e}function QF(e){return typeof e=="number"&&e>=0&&e!==1/0}function e9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function F4(e,t){return typeof e=="function"?e(t):e}function t9(e,t){return typeof e=="function"?e(t):e}function z4(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==N5(o,t.options))return!1}else if(!_m(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function B4(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Nm(t.options.mutationKey)!==Nm(a))return!1}else if(!_m(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function N5(e,t){return((t==null?void 0:t.queryKeyHashFn)||Nm)(e)}function Nm(e){return JSON.stringify(e,(t,n)=>yw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function _m(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!_m(e[n],t[n])):!1}function A6(e,t){if(e===t)return e;const n=$4(e)&&$4(t);if(n||yw(e)&&yw(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=A6(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function $4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yw(e){if(!U4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!U4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function U4(e){return Object.prototype.toString.call(e)==="[object Object]"}function n9(e){return new Promise(t=>{setTimeout(t,e)})}function r9(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?A6(e,t):t}function s9(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function i9(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var _5=Symbol();function E6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===_5?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $c,_l,Wd,F3,a9=(F3=class extends vx{constructor(){super();on(this,$c);on(this,_l);on(this,Wd);It(this,Wd,t=>{if(!xx&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Te(this,_l)||this.setEventListener(Te(this,Wd))}onUnsubscribe(){var t;this.hasListeners()||((t=Te(this,_l))==null||t.call(this),It(this,_l,void 0))}setEventListener(t){var n;It(this,Wd,t),(n=Te(this,_l))==null||n.call(this),It(this,_l,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Te(this,$c)!==t&&(It(this,$c,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Te(this,$c)=="boolean"?Te(this,$c):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$c=new WeakMap,_l=new WeakMap,Wd=new WeakMap,F3),L6=new a9,Hd,Sl,Gd,z3,o9=(z3=class extends vx{constructor(){super();on(this,Hd,!0);on(this,Sl);on(this,Gd);It(this,Gd,t=>{if(!xx&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Te(this,Sl)||this.setEventListener(Te(this,Gd))}onUnsubscribe(){var t;this.hasListeners()||((t=Te(this,Sl))==null||t.call(this),It(this,Sl,void 0))}setEventListener(t){var n;It(this,Gd,t),(n=Te(this,Sl))==null||n.call(this),It(this,Sl,t(this.setOnline.bind(this)))}setOnline(t){Te(this,Hd)!==t&&(It(this,Hd,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Te(this,Hd)}},Hd=new WeakMap,Sl=new WeakMap,Gd=new WeakMap,z3),t0=new o9;function l9(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function c9(e){return Math.min(1e3*2**e,3e4)}function T6(e){return(e??"online")==="online"?t0.isOnline():!0}var M6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function by(e){return e instanceof M6}function R6(e){let t=!1,n=0,r=!1,s;const a=l9(),o=v=>{var N;r||(m(new M6(v)),(N=e.abort)==null||N.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>L6.isFocused()&&(e.networkMode==="always"||t0.isOnline())&&e.canRun(),d=()=>T6(e.networkMode)&&e.canRun(),h=v=>{var N;r||(r=!0,(N=e.onSuccess)==null||N.call(e,v),s==null||s(),a.resolve(v))},m=v=>{var N;r||(r=!0,(N=e.onError)==null||N.call(e,v),s==null||s(),a.reject(v))},p=()=>new Promise(v=>{var N;s=y=>{(r||u())&&v(y)},(N=e.onPause)==null||N.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(r)return;let v;const N=n===0?e.initialPromise:void 0;try{v=N??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var z;if(r)return;const x=e.retry??(xx?0:3),S=e.retryDelay??c9,k=typeof S=="function"?S(n,y):S,P=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!P){m(y);return}n++,(z=e.onFail)==null||z.call(e,n,y),n9(k).then(()=>u()?void 0:p()).then(()=>{t?m(y):w()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():p().then(w),a)}}function u9(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var ps=u9(),Uc,B3,D6=(B3=class{constructor(){on(this,Uc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QF(this.gcTime)&&It(this,Uc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xx?1/0:5*60*1e3))}clearGcTimeout(){Te(this,Uc)&&(clearTimeout(Te(this,Uc)),It(this,Uc,void 0))}},Uc=new WeakMap,B3),Yd,Kd,bi,Zr,Hm,qc,Xi,yo,$3,d9=($3=class extends D6{constructor(t){super();on(this,Xi);on(this,Yd);on(this,Kd);on(this,bi);on(this,Zr);on(this,Hm);on(this,qc);It(this,qc,!1),It(this,Hm,t.defaultOptions),this.setOptions(t.options),this.observers=[],It(this,bi,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,It(this,Yd,f9(this.options)),this.state=t.state??Te(this,Yd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Te(this,Zr))==null?void 0:t.promise}setOptions(t){this.options={...Te(this,Hm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Te(this,bi).remove(this)}setData(t,n){const r=r9(this.state.data,t,this.options);return Wr(this,Xi,yo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Wr(this,Xi,yo).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=Te(this,Zr))==null?void 0:r.promise;return(s=Te(this,Zr))==null||s.cancel(t),n?n.then(Ki).catch(Ki):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Te(this,Yd))}isActive(){return this.observers.some(t=>t9(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_5||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!e9(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Te(this,Zr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Te(this,Zr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Te(this,bi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Te(this,Zr)&&(Te(this,qc)?Te(this,Zr).cancel({revert:!0}):Te(this,Zr).cancelRetry()),this.scheduleGc()),Te(this,bi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wr(this,Xi,yo).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Te(this,Zr))return Te(this,Zr).continueRetry(),Te(this,Zr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(It(this,qc,!0),r.signal)})},a=()=>{const h=E6(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return s(m),It(this,qc,!1),this.options.persister?this.options.persister(h,m,this):h(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),It(this,Kd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Wr(this,Xi,yo).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var m,p,w,v;by(h)&&h.silent||Wr(this,Xi,yo).call(this,{type:"error",error:h}),by(h)||((p=(m=Te(this,bi).config).onError)==null||p.call(m,h,this),(v=(w=Te(this,bi).config).onSettled)==null||v.call(w,this.state.data,h,this)),this.scheduleGc()};return It(this,Zr,R6({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,p,w,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(N){l(N);return}(p=(m=Te(this,bi).config).onSuccess)==null||p.call(m,h,this),(v=(w=Te(this,bi).config).onSettled)==null||v.call(w,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Wr(this,Xi,yo).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Wr(this,Xi,yo).call(this,{type:"pause"})},onContinue:()=>{Wr(this,Xi,yo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Te(this,Zr).start()}},Yd=new WeakMap,Kd=new WeakMap,bi=new WeakMap,Zr=new WeakMap,Hm=new WeakMap,qc=new WeakMap,Xi=new WeakSet,yo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...h9(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return by(s)&&s.revert&&Te(this,Kd)?{...Te(this,Kd),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ps.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Te(this,bi).notify({query:this,type:"updated",action:t})})},$3);function h9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function f9(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ta,U3,m9=(U3=class extends vx{constructor(t={}){super();on(this,Ta);this.config=t,It(this,Ta,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??N5(s,n);let o=this.get(a);return o||(o=new d9({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Te(this,Ta).has(t.queryHash)||(Te(this,Ta).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Te(this,Ta).get(t.queryHash);n&&(t.destroy(),n===t&&Te(this,Ta).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ps.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Te(this,Ta).get(t)}getAll(){return[...Te(this,Ta).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>z4(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>z4(t,r)):n}notify(t){ps.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ps.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ps.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ta=new WeakMap,U3),Ma,ds,Vc,Ra,hl,q3,p9=(q3=class extends D6{constructor(t){super();on(this,Ra);on(this,Ma);on(this,ds);on(this,Vc);this.mutationId=t.mutationId,It(this,ds,t.mutationCache),It(this,Ma,[]),this.state=t.state||g9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Te(this,Ma).includes(t)||(Te(this,Ma).push(t),this.clearGcTimeout(),Te(this,ds).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){It(this,Ma,Te(this,Ma).filter(n=>n!==t)),this.scheduleGc(),Te(this,ds).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Te(this,Ma).length||(this.state.status==="pending"?this.scheduleGc():Te(this,ds).remove(this))}continue(){var t;return((t=Te(this,Vc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,u,d,h,m,p,w,v,N,y,x,S,k,P,z,B;It(this,Vc,R6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,K)=>{Wr(this,Ra,hl).call(this,{type:"failed",failureCount:R,error:K})},onPause:()=>{Wr(this,Ra,hl).call(this,{type:"pause"})},onContinue:()=>{Wr(this,Ra,hl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Te(this,ds).canRun(this)}));const n=this.state.status==="pending",r=!Te(this,Vc).canStart();try{if(!n){Wr(this,Ra,hl).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(s=Te(this,ds).config).onMutate)==null?void 0:a.call(s,t,this));const K=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));K!==this.state.context&&Wr(this,Ra,hl).call(this,{type:"pending",context:K,variables:t,isPaused:r})}const R=await Te(this,Vc).start();return await((u=(c=Te(this,ds).config).onSuccess)==null?void 0:u.call(c,R,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,R,t,this.state.context)),await((p=(m=Te(this,ds).config).onSettled)==null?void 0:p.call(m,R,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,R,null,t,this.state.context)),Wr(this,Ra,hl).call(this,{type:"success",data:R}),R}catch(R){try{throw await((y=(N=Te(this,ds).config).onError)==null?void 0:y.call(N,R,t,this.state.context,this)),await((S=(x=this.options).onError)==null?void 0:S.call(x,R,t,this.state.context)),await((P=(k=Te(this,ds).config).onSettled)==null?void 0:P.call(k,void 0,R,this.state.variables,this.state.context,this)),await((B=(z=this.options).onSettled)==null?void 0:B.call(z,void 0,R,t,this.state.context)),R}finally{Wr(this,Ra,hl).call(this,{type:"error",error:R})}}finally{Te(this,ds).runNext(this)}}},Ma=new WeakMap,ds=new WeakMap,Vc=new WeakMap,Ra=new WeakSet,hl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ps.batch(()=>{Te(this,Ma).forEach(r=>{r.onMutationUpdate(t)}),Te(this,ds).notify({mutation:this,type:"updated",action:t})})},q3);function g9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Js,Gm,V3,v9=(V3=class extends vx{constructor(t={}){super();on(this,Js);on(this,Gm);this.config=t,It(this,Js,new Map),It(this,Gm,Date.now())}build(t,n,r){const s=new p9({mutationCache:this,mutationId:++bg(this,Gm)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=qg(t),r=Te(this,Js).get(n)??[];r.push(t),Te(this,Js).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=qg(t);if(Te(this,Js).has(n)){const s=(r=Te(this,Js).get(n))==null?void 0:r.filter(a=>a!==t);s&&(s.length===0?Te(this,Js).delete(n):Te(this,Js).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=Te(this,Js).get(qg(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=Te(this,Js).get(qg(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ps.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Te(this,Js).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>B4(n,r))}findAll(t={}){return this.getAll().filter(n=>B4(t,n))}notify(t){ps.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ps.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ki))))}},Js=new WeakMap,Gm=new WeakMap,V3);function qg(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function q4(e){return{onFetch:(t,n)=>{var d,h,m,p,w;const r=t.options,s=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const N=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=E6(t.options,t.fetchOptions),x=async(S,k,P)=>{if(v)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const z={queryKey:t.queryKey,pageParam:k,direction:P?"backward":"forward",meta:t.options.meta};N(z);const B=await y(z),{maxPages:R}=t.options,K=P?i9:s9;return{pages:K(S.pages,B,R),pageParams:K(S.pageParams,k,R)}};if(s&&a.length){const S=s==="backward",k=S?x9:V4,P={pages:a,pageParams:o},z=k(r,P);l=await x(P,z,S)}else{const S=e??a.length;do{const k=c===0?o[0]??r.initialPageParam:V4(r,l);if(c>0&&k==null)break;l=await x(l,k),c++}while(c<S)}return l};t.options.persister?t.fetchFn=()=>{var v,N;return(N=(v=t.options).persister)==null?void 0:N.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function V4(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function x9(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Wn,Cl,kl,Jd,Xd,Pl,Zd,Qd,W3,y9=(W3=class{constructor(e={}){on(this,Wn);on(this,Cl);on(this,kl);on(this,Jd);on(this,Xd);on(this,Pl);on(this,Zd);on(this,Qd);It(this,Wn,e.queryCache||new m9),It(this,Cl,e.mutationCache||new v9),It(this,kl,e.defaultOptions||{}),It(this,Jd,new Map),It(this,Xd,new Map),It(this,Pl,0)}mount(){bg(this,Pl)._++,Te(this,Pl)===1&&(It(this,Zd,L6.subscribe(async e=>{e&&(await this.resumePausedMutations(),Te(this,Wn).onFocus())})),It(this,Qd,t0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Te(this,Wn).onOnline())})))}unmount(){var e,t;bg(this,Pl)._--,Te(this,Pl)===0&&((e=Te(this,Zd))==null||e.call(this),It(this,Zd,void 0),(t=Te(this,Qd))==null||t.call(this),It(this,Qd,void 0))}isFetching(e){return Te(this,Wn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Te(this,Cl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Te(this,Wn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=Te(this,Wn).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(F4(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Te(this,Wn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Te(this,Wn).get(r.queryHash),a=s==null?void 0:s.state.data,o=ZF(t,a);if(o!==void 0)return Te(this,Wn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ps.batch(()=>Te(this,Wn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Te(this,Wn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Te(this,Wn);ps.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Te(this,Wn),r={type:"active",...e};return ps.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=ps.batch(()=>Te(this,Wn).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Ki).catch(Ki)}invalidateQueries(e={},t={}){return ps.batch(()=>{if(Te(this,Wn).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=ps.batch(()=>Te(this,Wn).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ki)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Ki)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Te(this,Wn).build(this,t);return n.isStaleByTime(F4(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ki).catch(Ki)}fetchInfiniteQuery(e){return e.behavior=q4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ki).catch(Ki)}ensureInfiniteQueryData(e){return e.behavior=q4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return t0.isOnline()?Te(this,Cl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Te(this,Wn)}getMutationCache(){return Te(this,Cl)}getDefaultOptions(){return Te(this,kl)}setDefaultOptions(e){It(this,kl,e)}setQueryDefaults(e,t){Te(this,Jd).set(Nm(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Te(this,Jd).values()];let n={};return t.forEach(r=>{_m(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){Te(this,Xd).set(Nm(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Te(this,Xd).values()];let n={};return t.forEach(r=>{_m(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Te(this,kl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=N5(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===_5&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Te(this,kl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Te(this,Wn).clear(),Te(this,Cl).clear()}},Wn=new WeakMap,Cl=new WeakMap,kl=new WeakMap,Jd=new WeakMap,Xd=new WeakMap,Pl=new WeakMap,Zd=new WeakMap,Qd=new WeakMap,W3),w9=b.createContext(void 0),b9=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(w9.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sm.apply(this,arguments)}var Ll;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ll||(Ll={}));const W4="popstate";function j9(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return ww("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:n0(s)}return _9(t,n,null,e)}function Bn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function I6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N9(){return Math.random().toString(36).substr(2,8)}function H4(e,t){return{usr:e.state,key:e.key,idx:t}}function ww(e,t,n,r){return n===void 0&&(n=null),Sm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ah(t):t,{state:n,key:t&&t.key||r||N9()})}function n0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ah(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _9(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Ll.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Sm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ll.Pop;let N=d(),y=N==null?null:N-u;u=N,c&&c({action:l,location:v.location,delta:y})}function m(N,y){l=Ll.Push;let x=ww(v.location,N,y);u=d()+1;let S=H4(x,u),k=v.createHref(x);try{o.pushState(S,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(k)}a&&c&&c({action:l,location:v.location,delta:1})}function p(N,y){l=Ll.Replace;let x=ww(v.location,N,y);u=d();let S=H4(x,u),k=v.createHref(x);o.replaceState(S,"",k),a&&c&&c({action:l,location:v.location,delta:0})}function w(N){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof N=="string"?N:n0(N);return x=x.replace(/ $/,"%20"),Bn(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(s,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(W4,h),c=N,()=>{s.removeEventListener(W4,h),c=null}},createHref(N){return t(s,N)},createURL:w,encodeLocation(N){let y=w(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(N){return o.go(N)}};return v}var G4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(G4||(G4={}));function S9(e,t,n){return n===void 0&&(n="/"),C9(e,t,n,!1)}function C9(e,t,n,r){let s=typeof t=="string"?Ah(t):t,a=fh(s.pathname||"/",n);if(a==null)return null;let o=O6(e);k9(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=F9(a);l=I9(o[c],u,r)}return l}function O6(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Bn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=$l([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Bn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),O6(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:R9(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of F6(a.path))s(a,o,c)}),t}function F6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=F6(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function k9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const P9=/^:[\w-]+$/,A9=3,E9=2,L9=1,T9=10,M9=-2,Y4=e=>e==="*";function R9(e,t){let n=e.split("/"),r=n.length;return n.some(Y4)&&(r+=M9),t&&(r+=E9),n.filter(s=>!Y4(s)).reduce((s,a)=>s+(P9.test(a)?A9:a===""?L9:T9),r)}function D9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function I9(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=r0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=r0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:$l([a,h.pathname]),pathnameBase:U9($l([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=$l([a,h.pathnameBase]))}return o}function r0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=O9(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=l[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function O9(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),I6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function F9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return I6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function z9(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ah(e):e;return{pathname:n?n.startsWith("/")?n:B9(n,t):t,search:q9(r),hash:V9(s)}}function B9(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jy(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $9(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function S5(e,t){let n=$9(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function C5(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ah(e):(s=Sm({},e),Bn(!s.pathname||!s.pathname.includes("?"),jy("?","pathname","search",s)),Bn(!s.pathname||!s.pathname.includes("#"),jy("#","pathname","hash",s)),Bn(!s.search||!s.search.includes("#"),jy("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=z9(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const $l=e=>e.join("/").replace(/\/\/+/g,"/"),U9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,V9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const z6=["post","put","patch","delete"];new Set(z6);const H9=["get",...z6];new Set(H9);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm.apply(this,arguments)}const yx=b.createContext(null),B6=b.createContext(null),Uo=b.createContext(null),wx=b.createContext(null),qo=b.createContext({outlet:null,matches:[],isDataRoute:!1}),$6=b.createContext(null);function G9(e,t){let{relative:n}=t===void 0?{}:t;Eh()||Bn(!1);let{basename:r,navigator:s}=b.useContext(Uo),{hash:a,pathname:o,search:l}=bx(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:$l([r,o])),s.createHref({pathname:c,search:l,hash:a})}function Eh(){return b.useContext(wx)!=null}function oc(){return Eh()||Bn(!1),b.useContext(wx).location}function U6(e){b.useContext(Uo).static||b.useLayoutEffect(e)}function br(){let{isDataRoute:e}=b.useContext(qo);return e?az():Y9()}function Y9(){Eh()||Bn(!1);let e=b.useContext(yx),{basename:t,future:n,navigator:r}=b.useContext(Uo),{matches:s}=b.useContext(qo),{pathname:a}=oc(),o=JSON.stringify(S5(s,n.v7_relativeSplatPath)),l=b.useRef(!1);return U6(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=C5(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:$l([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,a,e])}function q6(){let{matches:e}=b.useContext(qo),t=e[e.length-1];return t?t.params:{}}function bx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(Uo),{matches:s}=b.useContext(qo),{pathname:a}=oc(),o=JSON.stringify(S5(s,r.v7_relativeSplatPath));return b.useMemo(()=>C5(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function K9(e,t){return J9(e,t)}function J9(e,t,n,r){Eh()||Bn(!1);let{navigator:s}=b.useContext(Uo),{matches:a}=b.useContext(qo),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=oc(),d;if(t){var h;let N=typeof t=="string"?Ah(t):t;c==="/"||(h=N.pathname)!=null&&h.startsWith(c)||Bn(!1),d=N}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let N=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=S9(e,{pathname:p}),v=tz(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:$l([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:$l([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r);return t&&v?b.createElement(wx.Provider,{value:{location:Cm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ll.Pop}},v):v}function X9(){let e=iz(),t=W9(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const Z9=b.createElement(X9,null);class Q9 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(qo.Provider,{value:this.props.routeContext},b.createElement($6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ez(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(yx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(qo.Provider,{value:t},r)}function tz(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Bn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=n,w=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let p,w=!1,v=null,N=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Z9,c&&(u<0&&m===0?(w=!0,N=null):u===m&&(w=!0,N=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),x=()=>{let S;return p?S=v:w?S=N:h.route.Component?S=b.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,b.createElement(ez,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(Q9,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var V6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(V6||{}),s0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(s0||{});function nz(e){let t=b.useContext(yx);return t||Bn(!1),t}function rz(e){let t=b.useContext(B6);return t||Bn(!1),t}function sz(e){let t=b.useContext(qo);return t||Bn(!1),t}function W6(e){let t=sz(),n=t.matches[t.matches.length-1];return n.route.id||Bn(!1),n.route.id}function iz(){var e;let t=b.useContext($6),n=rz(s0.UseRouteError),r=W6(s0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function az(){let{router:e}=nz(V6.UseNavigateStable),t=W6(s0.UseNavigateStable),n=b.useRef(!1);return U6(()=>{n.current=!0}),b.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Cm({fromRouteId:t},a)))},[e,t])}function od(e){let{to:t,replace:n,state:r,relative:s}=e;Eh()||Bn(!1);let{future:a,static:o}=b.useContext(Uo),{matches:l}=b.useContext(qo),{pathname:c}=oc(),u=br(),d=C5(t,S5(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Rt(e){Bn(!1)}function oz(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ll.Pop,navigator:a,static:o=!1,future:l}=e;Eh()&&Bn(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:a,static:o,future:Cm({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Ah(r));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:w="default"}=r,v=b.useMemo(()=>{let N=fh(d,c);return N==null?null:{location:{pathname:N,search:h,hash:m,state:p,key:w},navigationType:s}},[c,d,h,m,p,w,s]);return v==null?null:b.createElement(Uo.Provider,{value:u},b.createElement(wx.Provider,{children:n,value:v}))}function lz(e){let{children:t,location:n}=e;return K9(bw(t),n)}new Promise(()=>{});function bw(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let a=[...t,s];if(r.type===b.Fragment){n.push.apply(n,bw(r.props.children,a));return}r.type!==Rt&&Bn(!1),!r.props.index||!r.props.children||Bn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bw(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(this,arguments)}function H6(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function cz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uz(e,t){return e.button===0&&(!t||t==="_self")&&!cz(e)}const dz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fz="6";try{window.__reactRouterVersion=fz}catch{}const mz=b.createContext({isTransitioning:!1}),pz="startTransition",K4=rS[pz];function gz(e){let{basename:t,children:n,future:r,window:s}=e,a=b.useRef();a.current==null&&(a.current=j9({window:s,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&K4?K4(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(oz,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const vz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=b.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=H6(t,dz),{basename:p}=b.useContext(Uo),w,v=!1;if(typeof u=="string"&&xz.test(u)&&(w=u,vz))try{let S=new URL(window.location.href),k=u.startsWith("//")?new URL(S.protocol+u):new URL(u),P=fh(k.pathname,p);k.origin===S.origin&&P!=null?u=P+k.search+k.hash:v=!0}catch{}let N=G9(u,{relative:s}),y=wz(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(S){r&&r(S),S.defaultPrevented||y(S)}return b.createElement("a",i0({},m,{href:w||N,onClick:v||a?r:x,ref:n,target:c}))}),G6=b.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=H6(t,hz),m=bx(c,{relative:h.relative}),p=oc(),w=b.useContext(B6),{navigator:v,basename:N}=b.useContext(Uo),y=w!=null&&bz(m)&&u===!0,x=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,S=p.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(S=S.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&N&&(k=fh(k,N)||k);const P=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let z=S===x||!o&&S.startsWith(x)&&S.charAt(P)==="/",B=k!=null&&(k===x||!o&&k.startsWith(x)&&k.charAt(x.length)==="/"),R={isActive:z,isPending:B,isTransitioning:y},K=z?r:void 0,ee;typeof a=="function"?ee=a(R):ee=[a,z?"active":null,B?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(R):l;return b.createElement(es,i0({},h,{"aria-current":K,className:ee,ref:n,style:M,to:c,viewTransition:u}),typeof d=="function"?d(R):d)});var jw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jw||(jw={}));var J4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(J4||(J4={}));function yz(e){let t=b.useContext(yx);return t||Bn(!1),t}function wz(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=br(),u=oc(),d=bx(e,{relative:o});return b.useCallback(h=>{if(uz(h,n)){h.preventDefault();let m=r!==void 0?r:n0(u)===n0(d);c(e,{replace:m,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}function bz(e,t){t===void 0&&(t={});let n=b.useContext(mz);n==null&&Bn(!1);let{basename:r}=yz(jw.useViewTransitionState),s=bx(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=fh(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=fh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return r0(s.pathname,o)!=null||r0(s.pathname,a)!=null}const jz="modulepreload",Nz=function(e){return"/"+e},X4={},Oo=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Nz(c),c in X4)return;X4[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":jz,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},_z=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Oo(async()=>{const{default:r}=await Promise.resolve().then(()=>Lh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class k5 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Sz extends k5{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cz extends k5{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kz extends k5{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Nw||(Nw={}));var Pz=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Az{constructor(t,{headers:n={},customFetch:r,region:s=Nw.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=_z(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Pz(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new Sz(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Cz(d);if(!d.ok)throw new kz(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield d.json():m==="application/octet-stream"?p=yield d.blob():m==="text/event-stream"?p=d:m==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Ms={},P5={},jx={},up={},Nx={},_x={},Ez=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mh=Ez();const Lz=mh.fetch,Y6=mh.fetch.bind(mh),K6=mh.Headers,Tz=mh.Request,Mz=mh.Response,Lh=Object.freeze(Object.defineProperty({__proto__:null,Headers:K6,Request:Tz,Response:Mz,default:Y6,fetch:Lz},Symbol.toStringTag,{value:"Module"})),Rz=vM(Lh);var Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});let Dz=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sx.default=Dz;var J6=Ei&&Ei.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_x,"__esModule",{value:!0});const Iz=J6(Rz),Oz=J6(Sx);let Fz=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Iz.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,h=null,m=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),N=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&N&&N.length>1&&(h=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(d=[],u=null,m=200,p="OK")}catch{a.status===404&&v===""?(m=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new Oz.default(u)}return{error:u,data:d,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};_x.default=Fz;var zz=Ei&&Ei.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nx,"__esModule",{value:!0});const Bz=zz(_x);let $z=class extends Bz.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Nx.default=$z;var Uz=Ei&&Ei.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(up,"__esModule",{value:!0});const qz=Uz(Nx);let Vz=class extends qz.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};up.default=Vz;var Wz=Ei&&Ei.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jx,"__esModule",{value:!0});const Nf=Wz(up);let Hz=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Nf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Nf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Nf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Nf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Nf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};jx.default=Hz;var Cx={},kx={};Object.defineProperty(kx,"__esModule",{value:!0});kx.version=void 0;kx.version="0.0.0-automated";Object.defineProperty(Cx,"__esModule",{value:!0});Cx.DEFAULT_HEADERS=void 0;const Gz=kx;Cx.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Gz.version}`};var X6=Ei&&Ei.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(P5,"__esModule",{value:!0});const Yz=X6(jx),Kz=X6(up),Jz=Cx;let Xz=class Z6{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Jz.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Yz.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Z6(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new Kz.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};P5.default=Xz;var Th=Ei&&Ei.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.PostgrestError=Ms.PostgrestBuilder=Ms.PostgrestTransformBuilder=Ms.PostgrestFilterBuilder=Ms.PostgrestQueryBuilder=Ms.PostgrestClient=void 0;const Q6=Th(P5);Ms.PostgrestClient=Q6.default;const eP=Th(jx);Ms.PostgrestQueryBuilder=eP.default;const tP=Th(up);Ms.PostgrestFilterBuilder=tP.default;const nP=Th(Nx);Ms.PostgrestTransformBuilder=nP.default;const rP=Th(_x);Ms.PostgrestBuilder=rP.default;const sP=Th(Sx);Ms.PostgrestError=sP.default;var Zz=Ms.default={PostgrestClient:Q6.default,PostgrestQueryBuilder:eP.default,PostgrestFilterBuilder:tP.default,PostgrestTransformBuilder:nP.default,PostgrestBuilder:rP.default,PostgrestError:sP.default};const{PostgrestClient:Qz,PostgrestQueryBuilder:ine,PostgrestFilterBuilder:ane,PostgrestTransformBuilder:one,PostgrestBuilder:lne,PostgrestError:cne}=Zz,eB="2.11.2",tB={"X-Client-Info":`realtime-js/${eB}`},nB="1.0.0",iP=1e4,rB=1e3;var Id;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Id||(Id={}));var Ks;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ks||(Ks={}));var Qi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qi||(Qi={}));var _w;(function(e){e.websocket="websocket"})(_w||(_w={}));var Rc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rc||(Rc={}));class sB{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class aP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kn||(kn={}));const Z4=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=iB(o,e,t,s),a),{})},iB=(e,t,n,r)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=n[e];return a&&!r.includes(a)?oP(a,o):Sw(o)},oP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return cB(t,n)}switch(e){case kn.bool:return aB(t);case kn.float4:case kn.float8:case kn.int2:case kn.int4:case kn.int8:case kn.numeric:case kn.oid:return oB(t);case kn.json:case kn.jsonb:return lB(t);case kn.timestamp:return uB(t);case kn.abstime:case kn.date:case kn.daterange:case kn.int4range:case kn.int8range:case kn.money:case kn.reltime:case kn.text:case kn.time:case kn.timestamptz:case kn.timetz:case kn.tsrange:case kn.tstzrange:return Sw(t);default:return Sw(t)}},Sw=e=>e,aB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cB=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>oP(t,l))}return e},uB=e=>typeof e=="string"?e.replace(" ","T"):e,lP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ny{constructor(t,n,r={},s=iP){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Q4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Q4||(Q4={}));class Jf{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jf.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Jf.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jf.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const m=d.map(N=>N.presence_ref),p=h.map(N=>N.presence_ref),w=d.filter(N=>p.indexOf(N.presence_ref)<0),v=h.filter(N=>m.indexOf(N.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var e_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(e_||(e_={}));var t_;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(t_||(t_={}));var jo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jo||(jo={}));class A5{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ks.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ny(this,Qi.join,this.params,this.timeout),this.rejoinTimer=new aP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ks.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ks.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ks.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ks.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qi.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Jf(this),this.broadcastEndpointURL=lP(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(jo.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(jo.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(jo.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,w=[];for(let v=0;v<p;v++){const N=m[v],{filter:{event:y,schema:x,table:S,filter:k}}=N,P=d&&d[v];if(P&&P.event===y&&P.schema===x&&P.table===S&&P.filter===k)w.push(Object.assign(Object.assign({},N),{id:P.id}));else{this.unsubscribe(),t==null||t(jo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(jo.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(jo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(jo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ks.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Ny(this,Qi.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ny(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Qi;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,v,N;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((N=(v=p.filter)===null||v===void 0?void 0:v.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(p=>p.callback(m,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var w,v,N,y,x,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,P=(w=p.filter)===null||w===void 0?void 0:w.event;return k&&((v=n.ids)===null||v===void 0?void 0:v.includes(k))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const k=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return k==="*"||k===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:v,table:N,commit_timestamp:y,type:x,errors:S}=w;m=Object.assign(Object.assign({},{schema:v,table:N,commit_timestamp:y,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(w))}p.callback(m,r)})}_isClosed(){return this.state===Ks.closed}_isJoined(){return this.state===Ks.joined}_isJoining(){return this.state===Ks.joining}_isLeaving(){return this.state===Ks.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&A5.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qi.close,{},t)}_onError(t){this._on(Qi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ks.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Z4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Z4(t.columns,t.old_record)),n}}const dB=()=>{},hB=typeof WebSocket<"u",fB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mB{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=tB,this.params={},this.timeout=iP,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=dB,this.conn=null,this.sendBuffer=[],this.serializer=new sB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Oo(async()=>{const{default:c}=await Promise.resolve().then(()=>Lh);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${_w.websocket}`,this.httpEndpoint=lP(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new aP(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(hB){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new pB(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Oo(async()=>{const{default:t}=await import("./browser-BCk0pjgm.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nB}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Id.connecting:return Rc.Connecting;case Id.open:return Rc.Open;case Id.closing:return Rc.Closing;default:return Rc.Closed}}isConnected(){return this.connectionState()===Rc.Open}channel(t,n={config:{}}){const r=new A5(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Qi.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(rB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:a,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,a),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([fB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class pB{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Id.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class E5 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gB extends E5{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cw extends E5{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var vB=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const cP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Oo(async()=>{const{default:r}=await Promise.resolve().then(()=>Lh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},xB=()=>vB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oo(()=>Promise.resolve().then(()=>Lh),void 0)).Response:Response}),kw=e=>{if(Array.isArray(e))return e.map(n=>kw(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=kw(r)}),t};var mu=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const _y=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yB=(e,t,n)=>mu(void 0,void 0,void 0,function*(){const r=yield xB();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new gB(_y(s),e.status||500))}).catch(s=>{t(new Cw(_y(s),s))}):t(new Cw(_y(e),e))}),wB=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function dp(e,t,n,r,s,a){return mu(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,wB(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>yB(c,l,r))})})}function a0(e,t,n,r){return mu(this,void 0,void 0,function*(){return dp(e,"GET",t,n,r)})}function xl(e,t,n,r,s){return mu(this,void 0,void 0,function*(){return dp(e,"POST",t,r,s,n)})}function bB(e,t,n,r,s){return mu(this,void 0,void 0,function*(){return dp(e,"PUT",t,r,s,n)})}function jB(e,t,n,r){return mu(this,void 0,void 0,function*(){return dp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uP(e,t,n,r,s){return mu(this,void 0,void 0,function*(){return dp(e,"DELETE",t,r,s,n)})}var Ps=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const NB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},n_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _B{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=cP(s)}uploadOrUpdate(t,n,r,s){return Ps(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},n_),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ps(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ps(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:n_.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Sr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ps(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield xl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new E5("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ps(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ps(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ps(this,void 0,void 0,function*(){try{return{data:{path:(yield xl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ps(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield xl(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ps(this,void 0,void 0,function*(){try{const s=yield xl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}download(t,n){return Ps(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield a0(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Sr(l))return{data:null,error:l};throw l}})}info(t){return Ps(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield a0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:kw(r),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}exists(t){return Ps(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield jB(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Sr(r)&&r instanceof Cw){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Ps(this,void 0,void 0,function*(){try{return{data:yield uP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ps(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},NB),n),{prefix:t||""});return{data:yield xl(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const SB="2.7.1",CB={"X-Client-Info":`storage-js/${SB}`};var Ku=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class kB{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},CB),n),this.fetch=cP(r)}listBuckets(){return Ku(this,void 0,void 0,function*(){try{return{data:yield a0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Sr(t))return{data:null,error:t};throw t}})}getBucket(t){return Ku(this,void 0,void 0,function*(){try{return{data:yield a0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ku(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ku(this,void 0,void 0,function*(){try{return{data:yield bB(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ku(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ku(this,void 0,void 0,function*(){try{return{data:yield uP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}}class PB extends kB{constructor(t,n={},r){super(t,n,r)}from(t){return new _B(this.url,this.headers,t,this.fetch)}}const AB="2.49.4";let Rf="";typeof Deno<"u"?Rf="deno":typeof document<"u"?Rf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rf="react-native":Rf="node";const EB={"X-Client-Info":`supabase-js-${Rf}/${AB}`},LB={headers:EB},TB={schema:"public"},MB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RB={};var DB=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const IB=e=>{let t;return e?t=e:typeof fetch>"u"?t=Y6:t=fetch,(...n)=>t(...n)},OB=()=>typeof Headers>"u"?K6:Headers,FB=(e,t,n)=>{const r=IB(n),s=OB();return(a,o)=>DB(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var zB=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function BB(e){return e.replace(/\/$/,"")}function $B(e,t){const{db:n,auth:r,realtime:s,global:a}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),a),accessToken:()=>zB(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const dP="2.69.1",ld=30*1e3,Pw=3,Sy=Pw*ld,UB="http://localhost:9999",qB="supabase.auth.token",VB={"X-Client-Info":`gotrue-js/${dP}`},Aw="X-Supabase-Api-Version",hP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HB=6e5;class L5 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Dt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GB extends L5{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YB(e){return Dt(e)&&e.name==="AuthApiError"}class fP extends L5{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class lc extends L5{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class fl extends lc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KB(e){return Dt(e)&&e.name==="AuthSessionMissingError"}class Cy extends lc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vg extends lc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wg extends lc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JB(e){return Dt(e)&&e.name==="AuthImplicitGrantRedirectError"}class r_ extends lc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ew extends lc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ky(e){return Dt(e)&&e.name==="AuthRetryableFetchError"}class s_ extends lc{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xf extends lc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const i_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),a_=` 	
\r=`.split(""),XB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<a_.length;t+=1)e[a_[t].charCodeAt(0)]=-2;for(let t=0;t<i_.length;t+=1)e[i_[t].charCodeAt(0)]=t;return e})();function mP(e,t,n){const r=XB[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function o_(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{e$(o,r,n)};for(let o=0;o<e.length;o+=1)mP(e.charCodeAt(o),s,a);return t.join("")}function ZB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function QB(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ZB(r,t)}}function e$(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function t$(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)mP(e.charCodeAt(s),n,r);return new Uint8Array(t)}function n$(e){const t=[];return QB(e,n=>t.push(n)),new Uint8Array(t)}function r$(e){return Math.round(Date.now()/1e3)+e}function s$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Aa=()=>typeof window<"u"&&typeof document<"u",kc={tested:!1,writable:!1},Zf=()=>{if(!Aa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kc.tested)return kc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),kc.tested=!0,kc.writable=!0}catch{kc.tested=!0,kc.writable=!1}return kc.writable};function i$(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const pP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Oo(async()=>{const{default:r}=await Promise.resolve().then(()=>Lh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},a$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gP=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hg=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gg=async(e,t)=>{await e.removeItem(t)};class Px{constructor(){this.promise=new Px.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Px.promiseConstructor=Promise;function Py(e){const t=e.split(".");if(t.length!==3)throw new Xf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!WB.test(t[r]))throw new Xf("JWT not in base64url format");return{header:JSON.parse(o_(t[0])),payload:JSON.parse(o_(t[1])),signature:t$(t[2]),raw:{header:t[0],payload:t[1]}}}async function o$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function l$(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function c$(e){return("0"+e.toString(16)).substr(-2)}function u$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,c$).join("")}async function d$(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function h$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await d$(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ju(e,t,n=!1){const r=u$();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gP(e,`${t}-code-verifier`,s);const a=await h$(r);return[a,r===a?"plain":"s256"]}const f$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function m$(e){const t=e.headers.get(Aw);if(!t||!t.match(f$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function p$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function g$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var v$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Lc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x$=[502,503,504];async function l_(e){var t;if(!a$(e))throw new Ew(Lc(e),0);if(x$.includes(e.status))throw new Ew(Lc(e),e.status);let n;try{n=await e.json()}catch(a){throw new fP(Lc(a),a)}let r;const s=m$(e);if(s&&s.getTime()>=hP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new s_(Lc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new fl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new s_(Lc(n),e.status,n.weak_password.reasons);throw new GB(Lc(n),e.status||500,r)}const y$=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Yt(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Aw]||(a[Aw]=hP["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await w$(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function w$(e,t,n,r,s,a){const o=y$(t,r,s,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Ew(Lc(c),0)}if(l.ok||await l_(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await l_(c)}}function ml(e){var t;let n=null;_$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=r$(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function c_(e){const t=ml(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function b$(e){return{data:e,error:null}}function j$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=v$(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function N$(e){return e}function _$(e){return e.access_token&&e.refresh_token&&e.expires_in}var S$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class C${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=pP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bl})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=S$(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:j$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Dt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bl})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:N$});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);u[`${N}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Dt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bl})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:bl})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:bl})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}}const k$={getItem:e=>Zf()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Zf()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Zf()&&globalThis.localStorage.removeItem(e)}};function u_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function P$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xu={debug:!!(globalThis&&Zf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class A$ extends vP{}async function E$(e,t,n){Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new A$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}P$();const L$={url:UB,storageKey:qB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function d_(e,t,n){return await n()}class km{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=km.nextInstanceID,km.nextInstanceID+=1,this.instanceID>0&&Aa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},L$),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new C$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=pP(s.fetch),this.lock=s.lock||d_,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Aa()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=E$:this.lock=d_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Zf()?this.storage=k$:(this.memoryStorage={},this.storage=u_(this.memoryStorage)):(this.memoryStorage={},this.storage=u_(this.memoryStorage)),Aa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=i$(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Aa()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),JB(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Dt(n)?{error:n}:{error:new fP("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ml}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Dt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:h,options:m}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Ju(this.storage,this.storageKey)),a=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:ml})}else if("phone"in t){const{phone:d,password:h,options:m}=t;a=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ml})}else throw new Vg("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Dt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:c_})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:c_})}else throw new Vg("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Cy}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Dt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Hg(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:o}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ml});if(await Gg(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Cy}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(Dt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:o}=t,l=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ml}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cy}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Dt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ju(this.storage,this.storageKey));const{error:h}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Vg("You must provide either an email or phone number.")}catch(l){if(Dt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ml});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ju(this.storage,this.storageKey)),await Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:b$})}catch(a){if(Dt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new fl;const{error:s}=await Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Dt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:o}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:o,error:l}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Vg("You must provide either an email or phone number and a type")}catch(n){if(Dt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Hg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Sy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bl}):await this._useSession(async n=>{var r,s,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fl}:await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:bl})})}catch(n){if(Dt(n))return KB(n)&&(await this._removeSession(),await Gg(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new fl;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ju(this.storage,this.storageKey));const{data:u,error:d}=await Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:bl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fl;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:o}=Py(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Dt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new fl;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Dt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Aa())throw new Wg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new r_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new r_("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Wg("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const p=m-d;p*1e3<=ld&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:v,error:N}=await this._getUser(a);if(N)throw N;const y={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(Dt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Hg(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(YB(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Gg(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=s$(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ju(this.storage,this.storageKey,!0));try{return await Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Dt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:m}=a;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Yt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Aa()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Dt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)throw o;return await Yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await l$(async s=>(s>0&&await o$(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ml})),(s,a)=>{const o=200*Math.pow(2,s);return a&&ky(a)&&Date.now()+o-r<ld})}catch(r){if(this._debug(n,"error",r),Dt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Aa()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Hg(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Sy;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Sy}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),ky(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new fl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Px;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new fl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Dt(a)){const o={session:null,error:a};return ky(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gP(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Gg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Aa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ld);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ld);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ld}ms, refresh threshold is ${Pw} ticks`),s<=Pw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Aa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ju(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Yt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Py(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+HB>Date.now()))return r;const{data:s,error:a}=await Yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Xf("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new Xf("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};r=p.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Py(r);if(p$(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:s,signature:o},error:null}}const u=g$(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,n$(`${l}.${c}`)))throw new Xf("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}}km.nextInstanceID=0;const T$=km;class M$ extends T${constructor(t){super(t)}}var R$=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class D${constructor(t,n,r){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=BB(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:TB,realtime:RB,auth:Object.assign(Object.assign({},MB),{storageKey:c}),global:LB},d=$B(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=FB(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Qz(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Az(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new PB(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return R$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M$({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new mB(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I$=(e,t,n)=>new D$(e,t,n),O$="https://lbomnbqqtuackhzsjrnf.supabase.co",F$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxib21uYnFxdHVhY2toenNqcm5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMzNjEwNzYsImV4cCI6MjA1ODkzNzA3Nn0.BO_AI-3sKVWfbnEsbUF7nKs0tb8mJVhG4WkH8zHQLxs",Kt=I$(O$,F$,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),h_=(e,t)=>{switch(e){case"manager":t("/manager");break;case"tenant":t("/tenant");break;case"owner":t("/owner");break;case"vendor":t("/vendor");break;default:t("/login")}},z$=()=>{Ds({title:"Connexion réussie",description:"Bienvenue sur ImmoSync Pro"})},B$=e=>{Ds({variant:"destructive",title:"Erreur de connexion",description:e})},$$=()=>{Ds({title:"Inscription réussie",description:"Votre compte a été créé avec succès"})},U$=e=>{Ds({variant:"destructive",title:"Erreur d'inscription",description:e})},q$=()=>{Ds({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès"})},V$=()=>{Ds({variant:"destructive",title:"Erreur de déconnexion",description:"Une erreur s'est produite lors de la déconnexion"})},xP=b.createContext(void 0),W$=({children:e})=>{var w,v,N,y;const[t,n]=b.useState(null),[r,s]=b.useState(null),[a,o]=b.useState(null),[l,c]=b.useState(!0),u=br();b.useEffect(()=>{const{data:{subscription:x}}=Kt.auth.onAuthStateChange(async(S,k)=>{if(o(k),k!=null&&k.user){const P={id:k.user.id,email:k.user.email??"",user_metadata:k.user.user_metadata||{}};n(P),setTimeout(async()=>{await d(k.user.id)},0)}else n(null),s(null)});return Kt.auth.getSession().then(({data:{session:S}})=>{if(o(S),S!=null&&S.user){const k={id:S.user.id,email:S.user.email??"",user_metadata:S.user.user_metadata||{}};n(k),d(S.user.id).finally(()=>{c(!1)})}else c(!1)}),()=>{x.unsubscribe()}},[]);const d=async x=>{try{const{data:S,error:k}=await Kt.from("profiles").select("*").eq("id",x).single();if(k){console.error("Error fetching user profile:",k);return}S&&s(S)}catch(S){console.error("Failed to fetch user profile:",S)}},h=async(x,S)=>{var k;try{const{data:P,error:z}=await Kt.auth.signInWithPassword({email:x,password:S});if(z)throw B$(z.message),z;P.user&&(z$(),h_((k=P.user.user_metadata)==null?void 0:k.role,u))}catch(P){throw console.error("Login error:",P),P}},m=async(x,S,k,P)=>{var z;try{const{data:B,error:R}=await Kt.auth.signUp({email:x,password:S,options:{data:{name:k||x.split("@")[0],role:P||"tenant"}}});if(R)throw U$(R.message),R;$$(),B.user&&h_((z=B.user.user_metadata)==null?void 0:z.role,u)}catch(B){throw console.error("Signup error:",B),B}},p=async()=>{try{const{error:x}=await Kt.auth.signOut();if(x)throw x;n(null),s(null),o(null),u("/login"),q$()}catch(x){console.error("Logout error:",x),V$()}};return i.jsx(xP.Provider,{value:{user:t,profile:r,session:a,isLoading:l,login:h,signup:m,logout:p,isAuthenticated:!!t,isManager:((w=t==null?void 0:t.user_metadata)==null?void 0:w.role)==="manager"||(r==null?void 0:r.role)==="manager",isTenant:((v=t==null?void 0:t.user_metadata)==null?void 0:v.role)==="tenant"||(r==null?void 0:r.role)==="tenant",isOwner:((N=t==null?void 0:t.user_metadata)==null?void 0:N.role)==="owner"||(r==null?void 0:r.role)==="owner",isVendor:((y=t==null?void 0:t.user_metadata)==null?void 0:y.role)==="vendor"||(r==null?void 0:r.role)==="vendor"},children:e})},sr=()=>{const e=b.useContext(xP);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var Zt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Zt||(Zt={}));var Lw;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Lw||(Lw={}));const rt=Zt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jl=e=>{switch(typeof e){case"undefined":return rt.undefined;case"string":return rt.string;case"number":return isNaN(e)?rt.nan:rt.number;case"boolean":return rt.boolean;case"function":return rt.function;case"bigint":return rt.bigint;case"symbol":return rt.symbol;case"object":return Array.isArray(e)?rt.array:e===null?rt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?rt.promise:typeof Map<"u"&&e instanceof Map?rt.map:typeof Set<"u"&&e instanceof Set?rt.set:typeof Date<"u"&&e instanceof Date?rt.date:rt.object;default:return rt.unknown}},Be=Zt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),H$=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ii extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof ii))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Zt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ii.create=e=>new ii(e);const ph=(e,t)=>{let n;switch(e.code){case Be.invalid_type:e.received===rt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Zt.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Zt.joinValues(e.keys,", ")}`;break;case Be.invalid_union:n="Invalid input";break;case Be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Zt.joinValues(e.options)}`;break;case Be.invalid_enum_value:n=`Invalid enum value. Expected ${Zt.joinValues(e.options)}, received '${e.received}'`;break;case Be.invalid_arguments:n="Invalid function arguments";break;case Be.invalid_return_type:n="Invalid function return type";break;case Be.invalid_date:n="Invalid date";break;case Be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Zt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Be.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Be.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Be.custom:n="Invalid input";break;case Be.invalid_intersection_types:n="Intersection results could not be merged";break;case Be.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Be.not_finite:n="Number must be finite";break;default:n=t.defaultError,Zt.assertNever(e)}return{message:n}};let yP=ph;function G$(e){yP=e}function o0(){return yP}const l0=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},Y$=[];function Qe(e,t){const n=o0(),r=l0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ph?void 0:ph].filter(s=>!!s)});e.common.issues.push(r)}class as{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Nt;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,o=await s.value;r.push({key:a,value:o})}return as.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Nt;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const Nt=Object.freeze({status:"aborted"}),Sd=e=>({status:"dirty",value:e}),xs=e=>({status:"valid",value:e}),Tw=e=>e.status==="aborted",Mw=e=>e.status==="dirty",Pm=e=>e.status==="valid",Am=e=>typeof Promise<"u"&&e instanceof Promise;function c0(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function wP(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var ht;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ht||(ht={}));var Df,If;class Ja{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const f_=(e,t)=>{if(Pm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ii(e.common.issues);return this._error=n,this._error}}};function Tt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Ft{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return jl(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:jl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new as,ctx:{common:t.parent.common,data:t.data,parsedType:jl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Am(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jl(t)},a=this._parseSync({data:t,path:s.path,parent:s});return f_(s,a)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jl(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(Am(s)?s:Promise.resolve(s));return f_(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:Be.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new ha({schema:this,typeName:bt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Wa.create(this,this._def)}nullable(){return ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oa.create(this,this._def)}promise(){return vh.create(this,this._def)}or(t){return Mm.create([this,t],this._def)}and(t){return Rm.create(this,t,this._def)}transform(t){return new ha({...Tt(this._def),schema:this,typeName:bt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new zm({...Tt(this._def),innerType:this,defaultValue:n,typeName:bt.ZodDefault})}brand(){return new T5({typeName:bt.ZodBranded,type:this,...Tt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Bm({...Tt(this._def),innerType:this,catchValue:n,typeName:bt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return hp.create(this,t)}readonly(){return $m.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const K$=/^c[^\s-]{8,}$/i,J$=/^[0-9a-z]+$/,X$=/^[0-9A-HJKMNP-TV-Z]{26}$/,Z$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Q$=/^[a-z0-9_-]{21}$/i,eU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ay;const rU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sU=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,iU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aU=new RegExp(`^${bP}$`);function jP(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function oU(e){return new RegExp(`^${jP(e)}$`)}function NP(e){let t=`${bP}T${jP(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function lU(e,t){return!!((t==="v4"||!t)&&rU.test(e)||(t==="v6"||!t)&&sU.test(e))}class ra extends Ft{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==rt.string){const a=this._getOrReturnCtx(t);return Qe(a,{code:Be.invalid_type,expected:rt.string,received:a.parsedType}),Nt}const r=new as;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Qe(s,{code:Be.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Qe(s,{code:Be.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")tU.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"email",code:Be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Ay||(Ay=new RegExp(nU,"u")),Ay.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"emoji",code:Be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Z$.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"uuid",code:Be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Q$.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"nanoid",code:Be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")K$.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"cuid",code:Be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")J$.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"cuid2",code:Be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")X$.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"ulid",code:Be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Qe(s,{validation:"url",code:Be.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"regex",code:Be.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?NP(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?aU.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?oU(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?eU.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"duration",code:Be.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?lU(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"ip",code:Be.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?iU.test(t.data)||(s=this._getOrReturnCtx(t,s),Qe(s,{validation:"base64",code:Be.invalid_string,message:a.message}),r.dirty()):Zt.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Be.invalid_string,...ht.errToObj(r)})}_addCheck(t){return new ra({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ht.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ht.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ht.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ht.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ht.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ht.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ht.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ht.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ht.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ht.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...ht.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ht.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ht.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ht.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ht.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ht.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ht.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ht.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ht.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ht.errToObj(n)})}nonempty(t){return this.min(1,ht.errToObj(t))}trim(){return new ra({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ra({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ra({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ra.create=e=>{var t;return new ra({checks:[],typeName:bt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Tt(e)})};function cU(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class Xl extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==rt.number){const a=this._getOrReturnCtx(t);return Qe(a,{code:Be.invalid_type,expected:rt.number,received:a.parsedType}),Nt}let r;const s=new as;for(const a of this._def.checks)a.kind==="int"?Zt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Qe(r,{code:Be.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Be.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Be.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?cU(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Be.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Qe(r,{code:Be.not_finite,message:a.message}),s.dirty()):Zt.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ht.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ht.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ht.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ht.toString(n))}setLimit(t,n,r,s){return new Xl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ht.toString(s)}]})}_addCheck(t){return new Xl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ht.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ht.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ht.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ht.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ht.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ht.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Zt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Xl.create=e=>new Xl({checks:[],typeName:bt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Tt(e)});class Zl extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==rt.bigint){const a=this._getOrReturnCtx(t);return Qe(a,{code:Be.invalid_type,expected:rt.bigint,received:a.parsedType}),Nt}let r;const s=new as;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Be.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Be.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Be.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Zt.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ht.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ht.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ht.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ht.toString(n))}setLimit(t,n,r,s){return new Zl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ht.toString(s)}]})}_addCheck(t){return new Zl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ht.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ht.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Zl.create=e=>{var t;return new Zl({checks:[],typeName:bt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Tt(e)})};class Em extends Ft{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==rt.boolean){const r=this._getOrReturnCtx(t);return Qe(r,{code:Be.invalid_type,expected:rt.boolean,received:r.parsedType}),Nt}return xs(t.data)}}Em.create=e=>new Em({typeName:bt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Tt(e)});class ru extends Ft{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==rt.date){const a=this._getOrReturnCtx(t);return Qe(a,{code:Be.invalid_type,expected:rt.date,received:a.parsedType}),Nt}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Qe(a,{code:Be.invalid_date}),Nt}const r=new as;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Qe(s,{code:Be.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Zt.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ru({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ht.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ht.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ru.create=e=>new ru({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:bt.ZodDate,...Tt(e)});class u0 extends Ft{_parse(t){if(this._getType(t)!==rt.symbol){const r=this._getOrReturnCtx(t);return Qe(r,{code:Be.invalid_type,expected:rt.symbol,received:r.parsedType}),Nt}return xs(t.data)}}u0.create=e=>new u0({typeName:bt.ZodSymbol,...Tt(e)});class Lm extends Ft{_parse(t){if(this._getType(t)!==rt.undefined){const r=this._getOrReturnCtx(t);return Qe(r,{code:Be.invalid_type,expected:rt.undefined,received:r.parsedType}),Nt}return xs(t.data)}}Lm.create=e=>new Lm({typeName:bt.ZodUndefined,...Tt(e)});class Tm extends Ft{_parse(t){if(this._getType(t)!==rt.null){const r=this._getOrReturnCtx(t);return Qe(r,{code:Be.invalid_type,expected:rt.null,received:r.parsedType}),Nt}return xs(t.data)}}Tm.create=e=>new Tm({typeName:bt.ZodNull,...Tt(e)});class gh extends Ft{constructor(){super(...arguments),this._any=!0}_parse(t){return xs(t.data)}}gh.create=e=>new gh({typeName:bt.ZodAny,...Tt(e)});class Gc extends Ft{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xs(t.data)}}Gc.create=e=>new Gc({typeName:bt.ZodUnknown,...Tt(e)});class Fo extends Ft{_parse(t){const n=this._getOrReturnCtx(t);return Qe(n,{code:Be.invalid_type,expected:rt.never,received:n.parsedType}),Nt}}Fo.create=e=>new Fo({typeName:bt.ZodNever,...Tt(e)});class d0 extends Ft{_parse(t){if(this._getType(t)!==rt.undefined){const r=this._getOrReturnCtx(t);return Qe(r,{code:Be.invalid_type,expected:rt.void,received:r.parsedType}),Nt}return xs(t.data)}}d0.create=e=>new d0({typeName:bt.ZodVoid,...Tt(e)});class oa extends Ft{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==rt.array)return Qe(n,{code:Be.invalid_type,expected:rt.array,received:n.parsedType}),Nt;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(Qe(n,{code:o?Be.too_big:Be.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Qe(n,{code:Be.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Qe(n,{code:Be.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new Ja(n,o,n.path,l)))).then(o=>as.mergeArray(r,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new Ja(n,o,n.path,l)));return as.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new oa({...this._def,minLength:{value:t,message:ht.toString(n)}})}max(t,n){return new oa({...this._def,maxLength:{value:t,message:ht.toString(n)}})}length(t,n){return new oa({...this._def,exactLength:{value:t,message:ht.toString(n)}})}nonempty(t){return this.min(1,t)}}oa.create=(e,t)=>new oa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:bt.ZodArray,...Tt(t)});function cd(e){if(e instanceof On){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Wa.create(cd(r))}return new On({...e._def,shape:()=>t})}else return e instanceof oa?new oa({...e._def,type:cd(e.element)}):e instanceof Wa?Wa.create(cd(e.unwrap())):e instanceof ec?ec.create(cd(e.unwrap())):e instanceof Xa?Xa.create(e.items.map(t=>cd(t))):e}class On extends Ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Zt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==rt.object){const u=this._getOrReturnCtx(t);return Qe(u,{code:Be.invalid_type,expected:rt.object,received:u.parsedType}),Nt}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ja(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Fo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Qe(s,{code:Be.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ja(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,m=await d.value;u.push({key:h,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>as.mergeObjectSync(r,u)):as.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return ht.errToObj,new On({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=ht.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new On({...this._def,unknownKeys:"strip"})}passthrough(){return new On({...this._def,unknownKeys:"passthrough"})}extend(t){return new On({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new On({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:bt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new On({...this._def,catchall:t})}pick(t){const n={};return Zt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new On({...this._def,shape:()=>n})}omit(t){const n={};return Zt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new On({...this._def,shape:()=>n})}deepPartial(){return cd(this)}partial(t){const n={};return Zt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new On({...this._def,shape:()=>n})}required(t){const n={};return Zt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Wa;)a=a._def.innerType;n[r]=a}}),new On({...this._def,shape:()=>n})}keyof(){return _P(Zt.objectKeys(this.shape))}}On.create=(e,t)=>new On({shape:()=>e,unknownKeys:"strip",catchall:Fo.create(),typeName:bt.ZodObject,...Tt(t)});On.strictCreate=(e,t)=>new On({shape:()=>e,unknownKeys:"strict",catchall:Fo.create(),typeName:bt.ZodObject,...Tt(t)});On.lazycreate=(e,t)=>new On({shape:e,unknownKeys:"strip",catchall:Fo.create(),typeName:bt.ZodObject,...Tt(t)});class Mm extends Ft{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new ii(l.ctx.common.issues));return Qe(n,{code:Be.invalid_union,unionErrors:o}),Nt}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new ii(c));return Qe(n,{code:Be.invalid_union,unionErrors:l}),Nt}}get options(){return this._def.options}}Mm.create=(e,t)=>new Mm({options:e,typeName:bt.ZodUnion,...Tt(t)});const wo=e=>e instanceof Im?wo(e.schema):e instanceof ha?wo(e.innerType()):e instanceof Om?[e.value]:e instanceof Ql?e.options:e instanceof Fm?Zt.objectValues(e.enum):e instanceof zm?wo(e._def.innerType):e instanceof Lm?[void 0]:e instanceof Tm?[null]:e instanceof Wa?[void 0,...wo(e.unwrap())]:e instanceof ec?[null,...wo(e.unwrap())]:e instanceof T5||e instanceof $m?wo(e.unwrap()):e instanceof Bm?wo(e._def.innerType):[];class Ax extends Ft{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==rt.object)return Qe(n,{code:Be.invalid_type,expected:rt.object,received:n.parsedType}),Nt;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Qe(n,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Nt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const o=wo(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new Ax({typeName:bt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Tt(r)})}}function Rw(e,t){const n=jl(e),r=jl(t);if(e===t)return{valid:!0,data:e};if(n===rt.object&&r===rt.object){const s=Zt.objectKeys(t),a=Zt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=Rw(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===rt.array&&r===rt.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=Rw(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===rt.date&&r===rt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Rm extends Ft{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,o)=>{if(Tw(a)||Tw(o))return Nt;const l=Rw(a.value,o.value);return l.valid?((Mw(a)||Mw(o))&&n.dirty(),{status:n.value,value:l.data}):(Qe(r,{code:Be.invalid_intersection_types}),Nt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Rm.create=(e,t,n)=>new Rm({left:e,right:t,typeName:bt.ZodIntersection,...Tt(n)});class Xa extends Ft{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.array)return Qe(r,{code:Be.invalid_type,expected:rt.array,received:r.parsedType}),Nt;if(r.data.length<this._def.items.length)return Qe(r,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Nt;!this._def.rest&&r.data.length>this._def.items.length&&(Qe(r,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ja(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>as.mergeArray(n,o)):as.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Xa({...this._def,rest:t})}}Xa.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xa({items:e,typeName:bt.ZodTuple,rest:null,...Tt(t)})};class Dm extends Ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.object)return Qe(r,{code:Be.invalid_type,expected:rt.object,received:r.parsedType}),Nt;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:a._parse(new Ja(r,l,r.path,l)),value:o._parse(new Ja(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?as.mergeObjectAsync(n,s):as.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Ft?new Dm({keyType:t,valueType:n,typeName:bt.ZodRecord,...Tt(r)}):new Dm({keyType:ra.create(),valueType:t,typeName:bt.ZodRecord,...Tt(n)})}}class h0 extends Ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.map)return Qe(r,{code:Be.invalid_type,expected:rt.map,received:r.parsedType}),Nt;const s=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Ja(r,l,r.path,[u,"key"])),value:a._parse(new Ja(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Nt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Nt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}h0.create=(e,t,n)=>new h0({valueType:t,keyType:e,typeName:bt.ZodMap,...Tt(n)});class su extends Ft{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.set)return Qe(r,{code:Be.invalid_type,expected:rt.set,received:r.parsedType}),Nt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Qe(r,{code:Be.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Qe(r,{code:Be.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Nt;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new Ja(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new su({...this._def,minSize:{value:t,message:ht.toString(n)}})}max(t,n){return new su({...this._def,maxSize:{value:t,message:ht.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}su.create=(e,t)=>new su({valueType:e,minSize:null,maxSize:null,typeName:bt.ZodSet,...Tt(t)});class Od extends Ft{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==rt.function)return Qe(n,{code:Be.invalid_type,expected:rt.function,received:n.parsedType}),Nt;function r(l,c){return l0({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,o0(),ph].filter(u=>!!u),issueData:{code:Be.invalid_arguments,argumentsError:c}})}function s(l,c){return l0({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,o0(),ph].filter(u=>!!u),issueData:{code:Be.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof vh){const l=this;return xs(async function(...c){const u=new ii([]),d=await l._def.args.parseAsync(c,a).catch(p=>{throw u.addIssue(r(c,p)),u}),h=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(h,a).catch(p=>{throw u.addIssue(s(h,p)),u})})}else{const l=this;return xs(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new ii([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),h=l._def.returns.safeParse(d,a);if(!h.success)throw new ii([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Od({...this._def,args:Xa.create(t).rest(Gc.create())})}returns(t){return new Od({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Od({args:t||Xa.create([]).rest(Gc.create()),returns:n||Gc.create(),typeName:bt.ZodFunction,...Tt(r)})}}class Im extends Ft{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Im.create=(e,t)=>new Im({getter:e,typeName:bt.ZodLazy,...Tt(t)});class Om extends Ft{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Qe(n,{received:n.data,code:Be.invalid_literal,expected:this._def.value}),Nt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Om.create=(e,t)=>new Om({value:e,typeName:bt.ZodLiteral,...Tt(t)});function _P(e,t){return new Ql({values:e,typeName:bt.ZodEnum,...Tt(t)})}class Ql extends Ft{constructor(){super(...arguments),Df.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Qe(n,{expected:Zt.joinValues(r),received:n.parsedType,code:Be.invalid_type}),Nt}if(c0(this,Df)||wP(this,Df,new Set(this._def.values)),!c0(this,Df).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Qe(n,{received:n.data,code:Be.invalid_enum_value,options:r}),Nt}return xs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ql.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ql.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Df=new WeakMap;Ql.create=_P;class Fm extends Ft{constructor(){super(...arguments),If.set(this,void 0)}_parse(t){const n=Zt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==rt.string&&r.parsedType!==rt.number){const s=Zt.objectValues(n);return Qe(r,{expected:Zt.joinValues(s),received:r.parsedType,code:Be.invalid_type}),Nt}if(c0(this,If)||wP(this,If,new Set(Zt.getValidEnumValues(this._def.values))),!c0(this,If).has(t.data)){const s=Zt.objectValues(n);return Qe(r,{received:r.data,code:Be.invalid_enum_value,options:s}),Nt}return xs(t.data)}get enum(){return this._def.values}}If=new WeakMap;Fm.create=(e,t)=>new Fm({values:e,typeName:bt.ZodNativeEnum,...Tt(t)});class vh extends Ft{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==rt.promise&&n.common.async===!1)return Qe(n,{code:Be.invalid_type,expected:rt.promise,received:n.parsedType}),Nt;const r=n.parsedType===rt.promise?n.data:Promise.resolve(n.data);return xs(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}vh.create=(e,t)=>new vh({type:e,typeName:bt.ZodPromise,...Tt(t)});class ha extends Ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{Qe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Nt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Nt:c.status==="dirty"||n.value==="dirty"?Sd(c.value):c});{if(n.value==="aborted")return Nt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Nt:l.status==="dirty"||n.value==="dirty"?Sd(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Nt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Nt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Pm(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Pm(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);Zt.assertNever(s)}}ha.create=(e,t,n)=>new ha({schema:e,typeName:bt.ZodEffects,effect:t,...Tt(n)});ha.createWithPreprocess=(e,t,n)=>new ha({schema:t,effect:{type:"preprocess",transform:e},typeName:bt.ZodEffects,...Tt(n)});class Wa extends Ft{_parse(t){return this._getType(t)===rt.undefined?xs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wa.create=(e,t)=>new Wa({innerType:e,typeName:bt.ZodOptional,...Tt(t)});class ec extends Ft{_parse(t){return this._getType(t)===rt.null?xs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ec.create=(e,t)=>new ec({innerType:e,typeName:bt.ZodNullable,...Tt(t)});class zm extends Ft{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===rt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zm.create=(e,t)=>new zm({innerType:e,typeName:bt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Tt(t)});class Bm extends Ft{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Am(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ii(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ii(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Bm.create=(e,t)=>new Bm({innerType:e,typeName:bt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Tt(t)});class f0 extends Ft{_parse(t){if(this._getType(t)!==rt.nan){const r=this._getOrReturnCtx(t);return Qe(r,{code:Be.invalid_type,expected:rt.nan,received:r.parsedType}),Nt}return{status:"valid",value:t.data}}}f0.create=e=>new f0({typeName:bt.ZodNaN,...Tt(e)});const uU=Symbol("zod_brand");class T5 extends Ft{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class hp extends Ft{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Nt:a.status==="dirty"?(n.dirty(),Sd(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Nt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new hp({in:t,out:n,typeName:bt.ZodPipeline})}}class $m extends Ft{_parse(t){const n=this._def.innerType._parse(t),r=s=>(Pm(s)&&(s.value=Object.freeze(s.value)),s);return Am(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}$m.create=(e,t)=>new $m({innerType:e,typeName:bt.ZodReadonly,...Tt(t)});function SP(e,t={},n){return e?gh.create().superRefine((r,s)=>{var a,o;if(!e(r)){const l=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,c=(o=(a=l.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):gh.create()}const dU={object:On.lazycreate};var bt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(bt||(bt={}));const hU=(e,t={message:`Input not instance of ${e.name}`})=>SP(n=>n instanceof e,t),Cd=ra.create,CP=Xl.create,fU=f0.create,mU=Zl.create,kP=Em.create,pU=ru.create,gU=u0.create,vU=Lm.create,xU=Tm.create,yU=gh.create,wU=Gc.create,bU=Fo.create,jU=d0.create,NU=oa.create,PP=On.create,_U=On.strictCreate,SU=Mm.create,CU=Ax.create,kU=Rm.create,PU=Xa.create,AU=Dm.create,EU=h0.create,LU=su.create,TU=Od.create,MU=Im.create,RU=Om.create,Dw=Ql.create,DU=Fm.create,IU=vh.create,m_=ha.create,OU=Wa.create,FU=ec.create,zU=ha.createWithPreprocess,BU=hp.create,$U=()=>Cd().optional(),UU=()=>CP().optional(),qU=()=>kP().optional(),ud={string:e=>ra.create({...e,coerce:!0}),number:e=>Xl.create({...e,coerce:!0}),boolean:e=>Em.create({...e,coerce:!0}),bigint:e=>Zl.create({...e,coerce:!0}),date:e=>ru.create({...e,coerce:!0})},VU=Nt;var Si=Object.freeze({__proto__:null,defaultErrorMap:ph,setErrorMap:G$,getErrorMap:o0,makeIssue:l0,EMPTY_PATH:Y$,addIssueToContext:Qe,ParseStatus:as,INVALID:Nt,DIRTY:Sd,OK:xs,isAborted:Tw,isDirty:Mw,isValid:Pm,isAsync:Am,get util(){return Zt},get objectUtil(){return Lw},ZodParsedType:rt,getParsedType:jl,ZodType:Ft,datetimeRegex:NP,ZodString:ra,ZodNumber:Xl,ZodBigInt:Zl,ZodBoolean:Em,ZodDate:ru,ZodSymbol:u0,ZodUndefined:Lm,ZodNull:Tm,ZodAny:gh,ZodUnknown:Gc,ZodNever:Fo,ZodVoid:d0,ZodArray:oa,ZodObject:On,ZodUnion:Mm,ZodDiscriminatedUnion:Ax,ZodIntersection:Rm,ZodTuple:Xa,ZodRecord:Dm,ZodMap:h0,ZodSet:su,ZodFunction:Od,ZodLazy:Im,ZodLiteral:Om,ZodEnum:Ql,ZodNativeEnum:Fm,ZodPromise:vh,ZodEffects:ha,ZodTransformer:ha,ZodOptional:Wa,ZodNullable:ec,ZodDefault:zm,ZodCatch:Bm,ZodNaN:f0,BRAND:uU,ZodBranded:T5,ZodPipeline:hp,ZodReadonly:$m,custom:SP,Schema:Ft,ZodSchema:Ft,late:dU,get ZodFirstPartyTypeKind(){return bt},coerce:ud,any:yU,array:NU,bigint:mU,boolean:kP,date:pU,discriminatedUnion:CU,effect:m_,enum:Dw,function:TU,instanceof:hU,intersection:kU,lazy:MU,literal:RU,map:EU,nan:fU,nativeEnum:DU,never:bU,null:xU,nullable:FU,number:CP,object:PP,oboolean:qU,onumber:UU,optional:OU,ostring:$U,pipeline:BU,preprocess:zU,promise:IU,record:AU,set:LU,strictObject:_U,string:Cd,symbol:gU,transformer:m_,tuple:PU,undefined:vU,union:SU,unknown:wU,void:jU,NEVER:VU,ZodIssueCode:Be,quotelessJson:H$,ZodError:ii});const WU=Si.object({enableRentReminders:Si.boolean(),enableChatbot:Si.boolean(),enableTenantScoring:Si.boolean(),enableSmartNotifications:Si.boolean(),enableCalendarReminders:Si.boolean()}),HU={enableRentReminders:!0,enableChatbot:!0,enableTenantScoring:!0,enableSmartNotifications:!0,enableCalendarReminders:!0},AP=b.createContext(void 0),M5=({children:e})=>{const[t,n]=b.useState(HU),[r,s]=b.useState(!0),{toast:a}=dn();b.useEffect(()=>{(async()=>{try{const{data:c,error:u}=await Kt.from("ai_settings").select("*").maybeSingle();if(u&&u.code!=="PGRST116")console.error("Error loading AI settings:",u),a({title:"Erreur",description:"Impossible de charger les paramètres d'IA.",variant:"destructive"});else if(c!=null&&c.settings){const d=WU.safeParse(c.settings);d.success?n(d.data):(console.error("Invalid AI settings format:",d.error),a({title:"Erreur",description:"Le format des paramètres d'IA est invalide.",variant:"destructive"}))}}catch(c){console.error("Error loading AI settings:",c)}finally{s(!1)}})()},[a]);const o=async l=>{var c;s(!0);try{const u={...t,...l};n(u);const{error:d}=await Kt.from("ai_settings").upsert({user_id:(c=(await Kt.auth.getUser()).data.user)==null?void 0:c.id,settings:u});if(d)throw d;a({title:"Paramètres mis à jour",description:"Les paramètres d'IA ont été mis à jour avec succès."})}catch(u){console.error("Error updating AI settings:",u),a({title:"Erreur",description:"Impossible de mettre à jour les paramètres d'IA.",variant:"destructive"})}finally{s(!1)}};return i.jsx(AP.Provider,{value:{settings:t,updateSettings:o,isLoading:r},children:e})},Mh=()=>{const e=b.useContext(AP);if(e===void 0)throw new Error("useAI must be used within an AIProvider");return e},GU=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement en cours..."})]})}),Gt=({children:e,allowedRoles:t})=>{var l;const{isAuthenticated:n,user:r,profile:s,isLoading:a}=sr();if(a)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan"})});if(!n)return i.jsx(od,{to:"/login",replace:!0});const o=((l=r==null?void 0:r.user_metadata)==null?void 0:l.role)||(s==null?void 0:s.role);if(!o||!t.includes(o))switch(o){case"manager":return i.jsx(od,{to:"/manager",replace:!0});case"tenant":return i.jsx(od,{to:"/tenant",replace:!0});case"owner":return i.jsx(od,{to:"/owner",replace:!0});default:return i.jsx(od,{to:"/login",replace:!0})}return i.jsx(i.Fragment,{children:e})};function YU(e,t=[]){let n=[];function r(a,o){const l=b.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:m,children:p,...w}=h,v=(m==null?void 0:m[e][c])||l,N=b.useMemo(()=>w,Object.values(w));return i.jsx(v.Provider,{value:N,children:p})}function d(h,m){const p=(m==null?void 0:m[e][c])||l,w=b.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,KU(s,...t)]}function KU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var JU=b.createContext(void 0);function fp(e){const t=b.useContext(JU);return e||t||"ltr"}var Ey="rovingFocusGroup.onEntryFocus",XU={bubbles:!1,cancelable:!0},Ex="RovingFocusGroup",[Iw,EP,ZU]=K0(Ex),[QU,Lx]=YU(Ex,[ZU]),[eq,tq]=QU(Ex),LP=b.forwardRef((e,t)=>i.jsx(Iw.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Iw.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(nq,{...e,ref:t})})}));LP.displayName=Ex;var nq=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=b.useRef(null),p=zt(t,m),w=fp(a),[v=null,N]=Ya({prop:o,defaultProp:l,onChange:c}),[y,x]=b.useState(!1),S=Dn(u),k=EP(n),P=b.useRef(!1),[z,B]=b.useState(0);return b.useEffect(()=>{const R=m.current;if(R)return R.addEventListener(Ey,S),()=>R.removeEventListener(Ey,S)},[S]),i.jsx(eq,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:b.useCallback(R=>N(R),[N]),onItemShiftTab:b.useCallback(()=>x(!0),[]),onFocusableItemAdd:b.useCallback(()=>B(R=>R+1),[]),onFocusableItemRemove:b.useCallback(()=>B(R=>R-1),[]),children:i.jsx(ut.div,{tabIndex:y||z===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:qe(e.onMouseDown,()=>{P.current=!0}),onFocus:qe(e.onFocus,R=>{const K=!P.current;if(R.target===R.currentTarget&&K&&!y){const ee=new CustomEvent(Ey,XU);if(R.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const M=k().filter(te=>te.focusable),T=M.find(te=>te.active),V=M.find(te=>te.id===v),oe=[T,V,...M].filter(Boolean).map(te=>te.ref.current);RP(oe,d)}}P.current=!1}),onBlur:qe(e.onBlur,()=>x(!1))})})}),TP="RovingFocusGroupItem",MP=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...o}=e,l=Pi(),c=a||l,u=tq(TP,n),d=u.currentTabStopId===c,h=EP(n),{onFocusableItemAdd:m,onFocusableItemRemove:p}=u;return b.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),i.jsx(Iw.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:i.jsx(ut.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:qe(e.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:qe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:qe(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=iq(w,u.orientation,u.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=h().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const x=y.indexOf(w.currentTarget);y=u.loop?aq(y,x+1):y.slice(x+1)}setTimeout(()=>RP(y))}})})})});MP.displayName=TP;var rq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sq(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iq(e,t,n){const r=sq(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rq[r]}function RP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function aq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var DP=LP,IP=MP,R5="Tabs",[oq,une]=pa(R5,[Lx]),OP=Lx(),[lq,D5]=oq(R5),FP=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=fp(l),[h,m]=Ya({prop:r,onChange:s,defaultProp:a});return i.jsx(lq,{scope:n,baseId:Pi(),value:h,onValueChange:m,orientation:o,dir:d,activationMode:c,children:i.jsx(ut.div,{dir:d,"data-orientation":o,...u,ref:t})})});FP.displayName=R5;var zP="TabsList",BP=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=D5(zP,n),o=OP(n);return i.jsx(DP,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(ut.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});BP.displayName=zP;var $P="TabsTrigger",UP=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=D5($P,n),l=OP(n),c=WP(o.baseId,r),u=HP(o.baseId,r),d=r===o.value;return i.jsx(IP,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(ut.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:qe(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:qe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:qe(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});UP.displayName=$P;var qP="TabsContent",VP=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=D5(qP,n),c=WP(l.baseId,r),u=HP(l.baseId,r),d=r===l.value,h=b.useRef(d);return b.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx($r,{present:s||d,children:({present:m})=>i.jsx(ut.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});VP.displayName=qP;function WP(e,t){return`${e}-trigger-${t}`}function HP(e,t){return`${e}-content-${t}`}var cq=FP,GP=BP,YP=UP,KP=VP;const fr=cq,ir=b.forwardRef(({className:e,...t},n)=>i.jsx(GP,{ref:n,className:et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ir.displayName=GP.displayName;const Ke=b.forwardRef(({className:e,...t},n)=>i.jsx(YP,{ref:n,className:et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ke.displayName=YP.displayName;const Ot=b.forwardRef(({className:e,...t},n)=>i.jsx(KP,{ref:n,className:et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ot.displayName=KP.displayName;const Ow=ep("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?Ga:"button";return i.jsx(o,{className:et(Ow({variant:t,size:n,className:e})),ref:a,...s})});fe.displayName="Button";const St=b.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:et("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));St.displayName="Input";var uq="Label",JP=b.forwardRef((e,t)=>i.jsx(ut.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));JP.displayName=uq;var XP=JP;const dq=ep("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$t=b.forwardRef(({className:e,...t},n)=>i.jsx(XP,{ref:n,className:et(dq(),e),...t}));$t.displayName=XP.displayName;const $e=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:et("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));$e.displayName="Card";const st=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:et("flex flex-col space-y-1.5 p-6",e),...t}));st.displayName="CardHeader";const it=b.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:et("text-2xl font-semibold leading-none tracking-tight",e),...t}));it.displayName="CardTitle";const qt=b.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:et("text-sm text-muted-foreground",e),...t}));qt.displayName="CardDescription";const Ue=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:et("p-6 pt-0",e),...t}));Ue.displayName="CardContent";const pn=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:et("flex items-center p-6 pt-0",e),...t}));pn.displayName="CardFooter";const hq=ep("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),I5=b.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:et(hq({variant:t}),e),...n}));I5.displayName="Alert";const fq=b.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:et("mb-1 font-medium leading-none tracking-tight",e),...t}));fq.displayName="AlertTitle";const O5=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:et("text-sm [&_p]:leading-relaxed",e),...t}));O5.displayName="AlertDescription";const mq=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(!1),[o,l]=b.useState(null),{login:c}=sr(),u=async d=>{d.preventDefault(),a(!0),l(null);try{await c(e,n)}catch(h){h instanceof Error?l(h.message):l("Erreur de connexion. Veuillez réessayer.")}finally{a(!1)}};return i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsx(it,{children:"Connexion"}),i.jsx(qt,{children:"Entrez vos identifiants pour accéder à votre espace"})]}),i.jsxs("form",{onSubmit:u,children:[i.jsxs(Ue,{className:"space-y-4",children:[o&&i.jsxs(I5,{variant:"destructive",children:[i.jsx(Qa,{className:"h-4 w-4"}),i.jsx(O5,{children:o})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"email",children:"Email"}),i.jsx(St,{id:"email",type:"email",placeholder:"votre@email.com",value:e,onChange:d=>t(d.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"password",children:"Mot de passe"}),i.jsx(St,{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),required:!0})]}),i.jsx("div",{className:"text-sm text-right",children:i.jsx("a",{href:"#",className:"text-cyan hover:underline",children:"Mot de passe oublié?"})})]}),i.jsx(pn,{children:i.jsx(fe,{type:"submit",className:"w-full bg-cyan hover:bg-cyan/90",disabled:s,children:s?"Connexion en cours...":"Se connecter"})})]})]})},pq=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(""),[o,l]=b.useState("tenant"),[c,u]=b.useState(!1),[d,h]=b.useState(null),{signup:m}=sr(),p=async w=>{w.preventDefault(),u(!0),h(null);try{await m(e,n,s,o)}catch(v){v instanceof Error?h(v.message):h("Erreur d'inscription. Veuillez réessayer.")}finally{u(!1)}};return i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsx(it,{children:"Inscription"}),i.jsx(qt,{children:"Créez votre compte ImmoSync Pro"})]}),i.jsxs("form",{onSubmit:p,children:[i.jsxs(Ue,{className:"space-y-4",children:[d&&i.jsxs(I5,{variant:"destructive",children:[i.jsx(Qa,{className:"h-4 w-4"}),i.jsx(O5,{children:d})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"signupName",children:"Nom complet"}),i.jsx(St,{id:"signupName",type:"text",placeholder:"Votre nom",value:s,onChange:w=>a(w.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"signupEmail",children:"Email"}),i.jsx(St,{id:"signupEmail",type:"email",placeholder:"votre@email.com",value:e,onChange:w=>t(w.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"signupPassword",children:"Mot de passe"}),i.jsx(St,{id:"signupPassword",type:"password",value:n,onChange:w=>r(w.target.value),required:!0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 caractères"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"signupRole",children:"Type d'utilisateur"}),i.jsxs("select",{id:"signupRole",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:o,onChange:w=>l(w.target.value),children:[i.jsx("option",{value:"tenant",children:"Locataire"}),i.jsx("option",{value:"owner",children:"Propriétaire"}),i.jsx("option",{value:"manager",children:"Gestionnaire"}),i.jsx("option",{value:"vendor",children:"Artisan"})]})]})]}),i.jsx(pn,{children:i.jsx(fe,{type:"submit",className:"w-full bg-cyan hover:bg-cyan/90",disabled:c,children:c?"Inscription en cours...":"S'inscrire"})})]})]})},gq=()=>i.jsxs("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:[i.jsx("p",{children:"Démo: Utilisez les identifiants suivants"}),i.jsxs("ul",{className:"mt-2 space-y-1",children:[i.jsx("li",{children:"Gestionnaire: manager@immosync.fr / manager123"}),i.jsx("li",{children:"Locataire: tenant@example.com / tenant123"}),i.jsx("li",{children:"Propriétaire: owner@example.com / owner123"})]})]}),vq=()=>{const{isAuthenticated:e,user:t}=sr(),n=br();Ae.useEffect(()=>{var s;if(e){const a=(s=t==null?void 0:t.user_metadata)==null?void 0:s.role;r(a)}},[e,t]);const r=s=>{switch(s){case"manager":n("/manager");break;case"tenant":n("/tenant");break;case"owner":n("/owner");break;case"vendor":n("/vendor");break;default:console.warn("No role found for user, redirecting to login"),n("/login")}};return i.jsx("div",{className:"min-h-screen bg-lightGray flex flex-col items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-navy mb-2",children:"ImmoSync Pro"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestion locative intelligente"})]}),i.jsxs(fr,{defaultValue:"login",className:"w-full",children:[i.jsxs(ir,{className:"grid w-full grid-cols-2 mb-4",children:[i.jsx(Ke,{value:"login",children:"Connexion"}),i.jsx(Ke,{value:"signup",children:"Inscription"})]}),i.jsx(Ot,{value:"login",children:i.jsx(mq,{})}),i.jsx(Ot,{value:"signup",children:i.jsx(pq,{})})]}),i.jsx(gq,{})]})})},xq=()=>i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-lightGray p-4",children:i.jsxs("div",{className:"text-center max-w-md mx-auto",children:[i.jsx("div",{className:"text-navy",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"m15 9-6 6"}),i.jsx("path",{d:"m9 9 6 6"})]})}),i.jsx("h1",{className:"text-4xl font-bold text-navy mb-2",children:"404"}),i.jsx("h2",{className:"text-xl font-semibold text-navy mb-4",children:"Page introuvable"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"La page que vous recherchez n'existe pas ou a été déplacée."}),i.jsx(fe,{asChild:!0,className:"btn-primary",children:i.jsx(es,{to:"/",children:"Retourner à l'accueil"})})]})}),yq=()=>{const e=br(),{logout:t}=sr();return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center p-6 max-w-md",children:[i.jsx("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Accès non autorisé"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas les autorisations nécessaires pour accéder à cette page."}),i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx(fe,{onClick:()=>e("/login"),className:"w-full",children:"Retour à la page de connexion"}),i.jsx(fe,{variant:"outline",onClick:()=>t(),className:"w-full",children:"Se déconnecter"})]})]})})},m0=({isDrawer:e=!1,onClose:t,navItems:n})=>{var l,c;const{user:r}=sr(),s=((l=r==null?void 0:r.user_metadata)==null?void 0:l.name)||"Utilisateur",a=(c=r==null?void 0:r.user_metadata)==null?void 0:c.role,o=a==="manager"?"Gestionnaire":a==="tenant"?"Locataire":a==="owner"?"Propriétaire":"";return i.jsx("aside",{className:`sidebar w-64 flex-shrink-0 ${e?"h-full":"hidden md:block"}`,children:i.jsxs("div",{className:"flex flex-col h-full",children:[e&&i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[i.jsx("h1",{className:"text-xl font-bold text-white",children:"ImmoSync Pro"}),i.jsx("button",{onClick:t,className:"text-white/70 hover:text-white","aria-label":"Fermer le menu",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[i.jsx("path",{d:"M18 6 6 18"}),i.jsx("path",{d:"m6 6 12 12"})]})})]}),!e&&i.jsxs("div",{className:"p-4 border-b border-white/10",children:[i.jsx("h1",{className:"text-xl font-bold text-white",children:"ImmoSync Pro"}),i.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Gestion locative intelligente"})]}),i.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:i.jsx("ul",{className:"space-y-1 px-2",children:n.map(u=>i.jsx("li",{children:i.jsxs(G6,{to:u.path,className:({isActive:d})=>`sidebar-item ${d?"active":""}`,onClick:e?t:void 0,children:[u.icon,i.jsx("span",{children:u.name})]})},u.path))})}),i.jsx("div",{className:"p-4 border-t border-white/10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-white/10 flex items-center justify-center text-white",children:(s==null?void 0:s.charAt(0))||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-white",children:s}),i.jsx("p",{className:"text-xs text-white/70",children:o})]})]})})]})})},ZP=({navItems:e})=>i.jsx("nav",{className:"mobile-nav",children:e.map(t=>i.jsxs(G6,{to:t.path,className:({isActive:n})=>`mobile-nav-item ${n?"active":""}`,children:[t.icon,i.jsx("span",{children:t.name})]},t.path))}),Ly=768;function Tx(){const[e,t]=b.useState(void 0);return b.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ly-1}px)`),r=()=>{t(window.innerWidth<Ly)};return n.addEventListener("change",r),t(window.innerWidth<Ly),()=>n.removeEventListener("change",r)},[]),!!e}const Ur=({children:e,title:t="Tableau de bord"})=>{var u;const[n,r]=b.useState(!1),s=Tx(),{user:a,logout:o}=sr();br();const l=((u=a==null?void 0:a.user_metadata)==null?void 0:u.name)||"Utilisateur",c=[{name:"Tableau de bord",path:"/manager",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-layout-dashboard",children:[i.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),i.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),i.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),i.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]})},{name:"Biens",path:"/manager/properties",icon:i.jsx(rs,{size:20})},{name:"Locataires",path:"/manager/tenants",icon:i.jsx(ax,{size:20})},{name:"Tickets",path:"/manager/tickets",icon:i.jsx(Wk,{size:20})},{name:"Documents",path:"/manager/documents",icon:i.jsx(Ut,{size:20})},{name:"Générateur de docs",path:"/manager/document-generator",icon:i.jsx(eI,{size:20})},{name:"Maintenance",path:"/manager/maintenance",icon:i.jsx(hI,{size:20})},{name:"États des lieux",path:"/manager/property-inspection",icon:i.jsx(Uk,{size:20})},{name:"Dossiers",path:"/manager/tenant-file/1",icon:i.jsx(rI,{size:20})},{name:"Diffusion d'annonces",path:"/manager/listing-center",icon:i.jsx(Ro,{size:20})},{name:"Comptabilité",path:"/manager/accounting",icon:i.jsx(Ik,{size:20})},{name:"Historique biens",path:"/manager/property-history",icon:i.jsx(Mi,{size:20})},{name:"Rapports",path:"/manager/owner-reports",icon:i.jsx(Fk,{size:20})},{name:"IA & Automations",path:"/manager/ai-dashboard",icon:i.jsx(U7,{size:20})},{name:"Centre d'aide",path:"/manager/help-center",icon:i.jsx(K7,{size:20})}];return i.jsxs("div",{className:"min-h-screen flex bg-lightGray",children:[!s&&i.jsx(m0,{navItems:c}),i.jsxs("div",{className:"flex flex-col flex-1",children:[i.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center px-4 md:px-6 sticky top-0 z-10",children:[s&&i.jsx("button",{onClick:()=>r(!0),className:"mr-4 text-navy","aria-label":"Ouvrir le menu",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-menu",children:[i.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),i.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),i.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})}),i.jsx("h1",{className:"text-lg md:text-xl font-semibold text-navy",children:t}),i.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[i.jsxs(dh,{children:[i.jsx(hh,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon","aria-label":"Notifications",className:"text-muted-foreground hover:text-navy",children:i.jsx(tp,{size:20})})}),i.jsx(nu,{children:"Notifications"})]}),i.jsxs(dh,{children:[i.jsx(hh,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon","aria-label":"Déconnexion",onClick:o,className:"text-muted-foreground hover:text-navy",children:i.jsx(ex,{size:20})})}),i.jsx(nu,{children:"Déconnexion"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-navy text-white flex items-center justify-center",children:(l==null?void 0:l.charAt(0))||"U"}),i.jsxs("div",{className:"hidden md:block",children:[i.jsx("p",{className:"text-sm font-medium text-navy",children:l}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Gestionnaire"})]})]})]})]}),i.jsx("main",{className:"flex-1 p-4 md:p-6 pb-16 md:pb-6 overflow-auto",children:e}),s&&i.jsx(ZP,{navItems:c.slice(0,5)}),s&&n&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20",onClick:()=>r(!1)}),i.jsx("div",{className:"fixed inset-y-0 left-0 max-w-[280px] w-full z-30",children:i.jsx(m0,{isDrawer:!0,onClose:()=>r(!1),navItems:c})})]})]})]})},Yg=({title:e,value:t,icon:n,trend:r,color:s="default"})=>{const a=()=>{switch(s){case"success":return"text-successGreen";case"warning":return"text-warningOrange";case"danger":return"text-destructive";default:return"text-navy"}};return i.jsxs("div",{className:"stat-card",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"card-title",children:e}),i.jsx("div",{className:`p-2 rounded-full ${s==="success"?"bg-successGreen/10":s==="warning"?"bg-warningOrange/10":s==="danger"?"bg-destructive/10":"bg-navy/10"}`,children:n})]}),i.jsxs("div",{className:"flex items-end justify-between",children:[i.jsx("p",{className:`text-2xl font-semibold ${a()}`,children:t}),r&&i.jsxs("div",{className:`flex items-center ${r.isPositive?"text-successGreen":"text-destructive"}`,children:[i.jsxs("span",{className:"text-xs",children:[r.isPositive?"+":"-",Math.abs(r.value),"%"]}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`ml-1 ${r.isPositive?"":"transform rotate-180"}`,children:i.jsx("polyline",{points:"18 15 12 9 6 15"})})]})]})]})},Ys={rentCollection:{collected:12450,total:15e3,percentCollected:83},tickets:{new:3,inProgress:2,total:5},properties:{total:12,occupied:10,vacant:1,maintenance:1},expiringLeases:[{id:"1",property:"123 Rue de Paris",tenant:"M. Martin",expiryDate:"2023-09-15"},{id:"2",property:"8 Avenue Victor Hugo",tenant:"Mme. Bernard",expiryDate:"2023-09-30"}],missingDocuments:[{id:"1",tenant:"M. Martin",property:"123 Rue de Paris",document:"Attestation d'assurance"},{id:"2",tenant:"Mme. Laurent",property:"45 Rue du Commerce",document:"Quittance de loyer signée"}],overduePayments:[{id:"1",tenant:"M. Dubois",property:"9 Rue Molière",amount:850,daysLate:5},{id:"2",tenant:"M. Rousseau",property:"17 Rue des Fleurs",amount:1200,daysLate:3}],recentActivity:[{id:"1",type:"payment",title:"Paiement reçu",description:"850€ de M. Martin",date:"2023-08-02"},{id:"2",type:"ticket",title:"Nouveau ticket",description:"Problème de plomberie - Mme. Laurent",date:"2023-08-01"},{id:"3",type:"document",title:"Document ajouté",description:"Bail signé - Appartement 3B",date:"2023-07-30"}]},wq=()=>i.jsx(Ur,{title:"Tableau de bord",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Yg,{title:"Loyers perçus ce mois",value:`${Ys.rentCollection.collected}€`,icon:i.jsx(Kf,{size:20,className:"text-cyan"}),trend:{value:Ys.rentCollection.percentCollected,isPositive:!0},color:"success"}),i.jsx(Yg,{title:"Loyers impayés",value:`${Ys.overduePayments.length}`,icon:i.jsx(Qa,{size:20,className:"text-warningOrange"}),color:"warning"}),i.jsx(Yg,{title:"Tickets en cours",value:Ys.tickets.total,icon:i.jsx(wm,{size:20,className:"text-cyan"})}),i.jsx(Yg,{title:"Baux expirant bientôt",value:Ys.expiringLeases.length,icon:i.jsx(Bs,{size:20,className:"text-warningOrange"}),color:"warning"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[i.jsxs($e,{children:[i.jsx(st,{className:"pb-3",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{className:"text-lg font-semibold",children:"Documents manquants"}),i.jsx(Ut,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsx("ul",{className:"space-y-3",children:Ys.missingDocuments.map(e=>i.jsxs("li",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-md",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:e.tenant}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e.document})]}),i.jsx(fe,{variant:"ghost",size:"sm",children:"Rappel"})]},e.id))})}),i.jsx(pn,{className:"pt-0",children:i.jsx(fe,{variant:"outline",className:"w-full",children:"Voir tous"})})]}),i.jsxs($e,{children:[i.jsx(st,{className:"pb-3",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{className:"text-lg font-semibold",children:"Loyers impayés"}),i.jsx(Kf,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsx("ul",{className:"space-y-3",children:Ys.overduePayments.map(e=>i.jsxs("li",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-md",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:e.tenant}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.amount,"€ - Retard: ",e.daysLate," jours"]})]}),i.jsx(fe,{variant:"ghost",size:"sm",children:"Relancer"})]},e.id))})}),i.jsx(pn,{className:"pt-0",children:i.jsx(fe,{variant:"outline",className:"w-full",children:"Voir tous"})})]}),i.jsxs($e,{children:[i.jsx(st,{className:"pb-3",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{className:"text-lg font-semibold",children:"Baux expirant"}),i.jsx(Bs,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsx("ul",{className:"space-y-3",children:Ys.expiringLeases.map(e=>i.jsxs("li",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-md",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:e.tenant}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expire le: ",e.expiryDate]})]}),i.jsx(fe,{variant:"ghost",size:"sm",children:"Action"})]},e.id))})}),i.jsx(pn,{className:"pt-0",children:i.jsx(fe,{variant:"outline",className:"w-full",children:"Voir tous"})})]})]}),i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Aperçu des biens"}),i.jsx(rs,{size:20,className:"text-gray-500"})]}),i.jsxs(qt,{children:["Total: ",Ys.properties.total," biens gérés"]})]}),i.jsx(Ue,{children:i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-semibold text-green-600",children:Ys.properties.occupied}),i.jsx("p",{className:"text-sm text-green-800",children:"Occupés"})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:Ys.properties.vacant}),i.jsx("p",{className:"text-sm text-blue-800",children:"Vacants"})]}),i.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-semibold text-orange-600",children:Ys.properties.maintenance}),i.jsx("p",{className:"text-sm text-orange-800",children:"En travaux"})]})]})}),i.jsx(pn,{children:i.jsx(fe,{className:"w-full bg-cyan",children:"Gérer les biens"})})]}),i.jsxs($e,{children:[i.jsx(st,{children:i.jsx(it,{children:"Activité récente"})}),i.jsx(Ue,{children:i.jsx("ul",{className:"space-y-4",children:Ys.recentActivity.map(e=>i.jsxs("li",{className:"flex gap-4 items-start",children:[i.jsx("div",{className:`rounded-full p-2 mt-1 ${e.type==="payment"?"bg-green-100 text-green-600":e.type==="ticket"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:e.type==="payment"?i.jsx(Kf,{size:16}):e.type==="ticket"?i.jsx(wm,{size:16}):i.jsx(Ut,{size:16})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:e.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e.description}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.date})]})]},e.id))})}),i.jsx(pn,{children:i.jsx(fe,{variant:"outline",className:"w-full",children:"Voir toute l'activité"})})]})]})}),cc=({children:e,title:t="Espace locataire"})=>{var u;const[n,r]=b.useState(!1),s=Tx(),{user:a,logout:o}=sr();br();const l=((u=a==null?void 0:a.user_metadata)==null?void 0:u.name)||"Locataire",c=[{name:"Tableau de bord",path:"/tenant",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-layout-dashboard",children:[i.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),i.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),i.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),i.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]})},{name:"Mon logement",path:"/tenant/property",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-home",children:[i.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),i.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})},{name:"Paiements",path:"/tenant/payments",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-credit-card",children:[i.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),i.jsx("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]})},{name:"Tickets",path:"/tenant/tickets",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-ticket",children:[i.jsx("path",{d:"M3 7v2a3 3 0 1 1 0 6v2c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-2a3 3 0 1 1 0-6V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"}),i.jsx("path",{d:"M13 5v14"})]})},{name:"Documents",path:"/tenant/documents",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text",children:[i.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",x2:"8",y1:"13",y2:"13"}),i.jsx("line",{x1:"16",x2:"8",y1:"17",y2:"17"}),i.jsx("line",{x1:"10",x2:"8",y1:"9",y2:"9"})]})},{name:"Assistant IA",path:"/tenant/ai-assistant",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-brain-circuit",children:[i.jsx("path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z"}),i.jsx("path",{d:"M16 8V5c0-1.1.9-2 2-2"}),i.jsx("path",{d:"M12 13h4"}),i.jsx("path",{d:"M12 18h6a2 2 0 0 1 2 2v1"}),i.jsx("path",{d:"M12 8h8"}),i.jsx("path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"}),i.jsx("path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"}),i.jsx("path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"}),i.jsx("path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"})]})}];return i.jsxs("div",{className:"min-h-screen flex bg-lightGray",children:[!s&&i.jsx(m0,{navItems:c}),i.jsxs("div",{className:"flex flex-col flex-1",children:[i.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center px-4 md:px-6 sticky top-0 z-10",children:[s&&i.jsx("button",{onClick:()=>r(!0),className:"mr-4 text-navy","aria-label":"Ouvrir le menu",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-menu",children:[i.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),i.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),i.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})}),i.jsx("h1",{className:"text-lg md:text-xl font-semibold text-navy",children:t}),i.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[i.jsxs(dh,{children:[i.jsx(hh,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon","aria-label":"Notifications",className:"text-muted-foreground hover:text-navy",children:i.jsx(tp,{size:20})})}),i.jsx(nu,{children:"Notifications"})]}),i.jsxs(dh,{children:[i.jsx(hh,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon","aria-label":"Déconnexion",onClick:o,className:"text-muted-foreground hover:text-navy",children:i.jsx(ex,{size:20})})}),i.jsx(nu,{children:"Déconnexion"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-cyan text-white flex items-center justify-center",children:(l==null?void 0:l.charAt(0))||"L"}),i.jsxs("div",{className:"hidden md:block",children:[i.jsx("p",{className:"text-sm font-medium text-navy",children:l}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Locataire"})]})]})]})]}),i.jsx("main",{className:"flex-1 p-4 md:p-6 pb-16 md:pb-6 overflow-auto",children:e}),s&&i.jsx(ZP,{navItems:c.slice(0,5)}),s&&n&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20",onClick:()=>r(!1)}),i.jsx("div",{className:"fixed inset-y-0 left-0 max-w-[280px] w-full z-30",children:i.jsx(m0,{isDrawer:!0,onClose:()=>r(!1),navItems:c})})]})]})]})},bq=ep("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ve({className:e,variant:t,...n}){return i.jsx("div",{className:et(bq({variant:t}),e),...n})}function jq(e,t=[]){let n=[];function r(a,o){const l=b.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:m,children:p,...w}=h,v=(m==null?void 0:m[e][c])||l,N=b.useMemo(()=>w,Object.values(w));return i.jsx(v.Provider,{value:N,children:p})}function d(h,m){const p=(m==null?void 0:m[e][c])||l,w=b.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Nq(s,...t)]}function Nq(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var F5="Progress",z5=100,[_q,dne]=jq(F5),[Sq,Cq]=_q(F5),QP=b.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=kq,...o}=e;(s||s===0)&&!p_(s)&&console.error(Pq(`${s}`,"Progress"));const l=p_(s)?s:z5;r!==null&&!g_(r,l)&&console.error(Aq(`${r}`,"Progress"));const c=g_(r,l)?r:null,u=p0(c)?a(c,l):void 0;return i.jsx(Sq,{scope:n,value:c,max:l,children:i.jsx(ut.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":p0(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":nA(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});QP.displayName=F5;var eA="ProgressIndicator",tA=b.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=Cq(eA,n);return i.jsx(ut.div,{"data-state":nA(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});tA.displayName=eA;function kq(e,t){return`${Math.round(e/t*100)}%`}function nA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function p0(e){return typeof e=="number"}function p_(e){return p0(e)&&!isNaN(e)&&e>0}function g_(e,t){return p0(e)&&!isNaN(e)&&e<=t&&e>=0}function Pq(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${z5}\`.`}function Aq(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${z5} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rA=QP,Eq=tA;const Co=b.forwardRef(({className:e,value:t,...n},r)=>i.jsx(rA,{ref:r,className:et("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx(Eq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Co.displayName=rA.displayName;const As={tenant:{name:"Jean Dupont",email:"tenant@example.com"},property:{address:"123 Rue de Paris",city:"Paris",postalCode:"75001",monthlyRent:850},leaseInfo:{startDate:"2022-10-01",endDate:"2025-10-01",securityDeposit:850*1,lastRentReceipt:"juillet 2023"},pendingTickets:[{id:"1",title:"Problème de plomberie - Salle de bain",status:"in_progress",createdAt:"2023-07-25",updates:[{date:"2023-07-25",message:"Ticket créé"},{date:"2023-07-26",message:"Plombier programmé pour le 30/07"}]}],requiredDocuments:[{id:"1",name:"Attestation d'assurance habitation",status:"missing"},{id:"2",name:"Quittance de loyer signée - Juillet",status:"uploaded"},{id:"3",name:"RIB pour prélèvement automatique",status:"uploaded"}],messages:[{id:"1",from:"Gestionnaire Pro",message:"Bonjour M. Dupont, n'oubliez pas de renouveler votre attestation d'assurance ce mois-ci.",date:"2023-07-30",read:!0},{id:"2",from:"Gestionnaire Pro",message:"La quittance de loyer pour juillet est disponible dans votre espace document.",date:"2023-07-01",read:!0}]},v_=e=>{const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("fr-FR",t)},Lq=()=>{const e=br(),t=As.requiredDocuments.filter(n=>n.status==="missing").length;return i.jsx(cc,{title:"Mon espace locataire",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Mon logement"}),i.jsx(rs,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-medium",children:As.property.address}),i.jsxs("p",{className:"text-muted-foreground",children:[As.property.postalCode," ",As.property.city]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Votre loyer mensuel"}),i.jsxs("p",{className:"text-2xl font-semibold",children:[As.property.monthlyRent,"€"]})]})]}),i.jsxs("div",{className:"border-l-0 md:border-l border-gray-100 pl-0 md:pl-6",children:[i.jsx("p",{className:"font-medium",children:"Informations du bail"}),i.jsxs("ul",{className:"mt-2 space-y-2 text-sm",children:[i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Date d'entrée:"}),i.jsx("span",{children:v_(As.leaseInfo.startDate)})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Fin du bail:"}),i.jsx("span",{children:v_(As.leaseInfo.endDate)})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Dépôt de garantie:"}),i.jsxs("span",{children:[As.leaseInfo.securityDeposit,"€"]})]})]})]})]})}),i.jsxs(pn,{className:"flex flex-wrap gap-3 justify-between",children:[i.jsxs(fe,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(Ut,{size:16}),"Voir mon bail"]}),i.jsxs(fe,{className:"flex items-center gap-2 bg-cyan",children:[i.jsx(zr,{size:16}),"Quittance ",As.leaseInfo.lastRentReceipt]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Signalements en cours"}),i.jsx(wm,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:As.pendingTickets.length>0?i.jsx("div",{className:"space-y-4",children:As.pendingTickets.map(n=>i.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h3",{className:"font-medium",children:n.title}),i.jsx(Ve,{variant:n.status==="in_progress"?"default":"secondary",children:n.status==="in_progress"?"En cours":"Nouveau"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Créé le ",n.createdAt]}),i.jsxs("div",{className:"mt-3",children:[i.jsx(Co,{value:50,className:"h-1"}),i.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[i.jsx("span",{children:"Ouvert"}),i.jsx("span",{children:"En attente"}),i.jsx("span",{children:"Résolu"})]})]}),i.jsxs("div",{className:"mt-4 border-t border-gray-100 pt-3",children:[i.jsx("p",{className:"text-xs font-medium mb-2",children:"Dernières mises à jour"}),i.jsx("ul",{className:"space-y-2",children:n.updates.map((r,s)=>i.jsxs("li",{className:"text-xs flex gap-2",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r.date,":"]}),i.jsx("span",{children:r.message})]},s))})]})]},n.id))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(wm,{size:32,className:"mx-auto mb-3 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"Aucun signalement en cours"})]})}),i.jsx(pn,{children:i.jsxs(fe,{className:"w-full bg-cyan",onClick:()=>e("/tenant/create-ticket"),children:[i.jsx(yr,{size:16,className:"mr-2"}),"Nouveau signalement"]})})]}),i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Documents"}),i.jsx(Ut,{size:20,className:"text-gray-500"})]}),i.jsx(qt,{children:t>0?i.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[i.jsx(Qa,{size:16}),i.jsxs("span",{children:[t," document(s) manquant(s)"]})]}):"Tous les documents sont à jour"})]}),i.jsx(Ue,{children:i.jsx("ul",{className:"divide-y",children:As.requiredDocuments.map(n=>i.jsxs("li",{className:"py-3 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`h-2 w-2 rounded-full ${n.status==="missing"?"bg-orange-500":"bg-green-500"}`}),i.jsx("span",{children:n.name})]}),i.jsx(fe,{variant:"ghost",size:"sm",children:n.status==="missing"?"Ajouter":"Voir"})]},n.id))})}),i.jsx(pn,{children:i.jsx(fe,{variant:"outline",className:"w-full",children:"Gérer mes documents"})})]})]}),i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Messages récents"}),i.jsx(Hl,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:As.messages.length>0?i.jsx("ul",{className:"divide-y",children:As.messages.map(n=>i.jsxs("li",{className:"py-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"font-medium",children:n.from}),i.jsx("span",{className:"text-xs text-muted-foreground",children:n.date})]}),i.jsx("p",{className:"text-sm mt-1",children:n.message})]},n.id))}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Hl,{size:32,className:"mx-auto mb-3 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"Aucun message récent"})]})}),i.jsx(pn,{children:i.jsx(fe,{className:"w-full bg-cyan",children:"Contacter mon gestionnaire"})})]})]})})},Rh=({children:e,title:t="Espace propriétaire"})=>{var a;const{user:n,logout:r}=sr();Tx();const s=((a=n==null?void 0:n.user_metadata)==null?void 0:a.name)||"Propriétaire";return i.jsxs("div",{className:"min-h-screen bg-lightGray flex flex-col",children:[i.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center px-4 md:px-6 sticky top-0 z-10",children:[i.jsx(es,{to:"/owner",className:"flex items-center mr-4",children:i.jsx("div",{className:"text-cyan font-bold text-lg md:text-xl",children:"ImmoSync"})}),i.jsx("h1",{className:"text-lg font-semibold text-navy",children:t}),i.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[i.jsx(fe,{variant:"ghost",size:"icon","aria-label":"Notifications",className:"text-muted-foreground hover:text-navy",children:i.jsx(tp,{size:20})}),i.jsx(fe,{variant:"ghost",size:"icon","aria-label":"Déconnexion",onClick:r,className:"text-muted-foreground hover:text-navy",children:i.jsx(ex,{size:20})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-navy text-white flex items-center justify-center",children:(s==null?void 0:s.charAt(0))||"P"}),i.jsxs("div",{className:"hidden md:block",children:[i.jsx("p",{className:"text-sm font-medium text-navy",children:s}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Propriétaire"})]})]})]})]}),i.jsxs("div",{className:"flex flex-1",children:[i.jsxs("aside",{className:"hidden md:block w-56 bg-white border-r border-gray-200 fixed top-16 bottom-0 left-0 overflow-y-auto",children:[i.jsxs("nav",{className:"flex flex-col space-y-1 p-4",children:[i.jsxs(es,{to:"/owner",className:"flex items-center gap-3 px-4 py-3 rounded-md text-navy hover:bg-gray-100",children:[i.jsx(rs,{size:20}),i.jsx("span",{children:"Tableau de bord"})]}),i.jsxs(es,{to:"/owner/properties",className:"flex items-center gap-3 px-4 py-3 rounded-md text-navy hover:bg-gray-100",children:[i.jsx(Ro,{size:20}),i.jsx("span",{children:"Mes biens"})]}),i.jsxs(es,{to:"/owner/reports",className:"flex items-center gap-3 px-4 py-3 rounded-md text-navy hover:bg-gray-100",children:[i.jsx(Wl,{size:20}),i.jsx("span",{children:"Rapports"})]}),i.jsxs(es,{to:"/owner/documents",className:"flex items-center gap-3 px-4 py-3 rounded-md text-navy hover:bg-gray-100",children:[i.jsx(Ut,{size:20}),i.jsx("span",{children:"Documents"})]}),i.jsxs(es,{to:"/owner/messages",className:"flex items-center gap-3 px-4 py-3 rounded-md text-navy hover:bg-gray-100",children:[i.jsx(Hl,{size:20}),i.jsx("span",{children:"Messages"})]})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 px-4",children:i.jsxs("div",{className:"bg-lightGray p-4 rounded-md",children:[i.jsx("h3",{className:"font-medium text-sm",children:"Besoin d'aide ?"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Contactez votre gestionnaire via la messagerie."})]})})]}),i.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-auto md:ml-56",children:e})]}),i.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center p-3 z-10",children:[i.jsxs(es,{to:"/owner",className:"flex flex-col items-center text-xs text-navy/70 hover:text-navy",children:[i.jsx(rs,{size:20}),i.jsx("span",{children:"Accueil"})]}),i.jsxs(es,{to:"/owner/properties",className:"flex flex-col items-center text-xs text-navy/70 hover:text-navy",children:[i.jsx(Ro,{size:20}),i.jsx("span",{children:"Mes biens"})]}),i.jsxs(es,{to:"/owner/reports",className:"flex flex-col items-center text-xs text-navy/70 hover:text-navy",children:[i.jsx(Wl,{size:20}),i.jsx("span",{children:"Rapports"})]}),i.jsxs(es,{to:"/owner/messages",className:"flex flex-col items-center text-xs text-navy/70 hover:text-navy",children:[i.jsx(Hl,{size:20}),i.jsx("span",{children:"Messages"})]})]})]})},yi={owner:{name:"Marie Durand",email:"owner@example.com"},properties:[{id:"1",address:"123 Rue de Paris",city:"Paris",postalCode:"75001",status:"occupied",tenant:"M. Dupont",rent:850,lastPayment:"2023-07-05"},{id:"2",address:"45 Avenue Victor Hugo",city:"Lyon",postalCode:"69001",status:"occupied",tenant:"Mme. Lenoir",rent:950,lastPayment:"2023-07-03"}],financials:{currentMonth:{expected:1800,received:1800,expenses:120,net:1680},yearly:{totalRent:21600,totalExpenses:1450,netIncome:20150}},recentMaintenance:[{id:"1",property:"123 Rue de Paris",issue:"Remplacement chauffe-eau",date:"2023-06-15",cost:350,status:"completed"},{id:"2",property:"45 Avenue Victor Hugo",issue:"Peinture entrée",date:"2023-07-10",cost:180,status:"in_progress"}],documents:[{id:"1",name:"Rapport de gestion - Juillet 2023",date:"2023-07-31"},{id:"2",name:"Compte-rendu de visite - 45 Avenue Victor Hugo",date:"2023-07-10"},{id:"3",name:"Déclaration fiscale 2023",date:"2023-04-15"}]},Tq=()=>(yi.properties.reduce((e,t)=>e+t.rent,0),i.jsx(Rh,{title:"Tableau de bord propriétaire",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Résumé financier"}),i.jsx(Kf,{size:20,className:"text-gray-500"})]}),i.jsx(qt,{children:"Aperçu des revenus pour le mois en cours"})]}),i.jsxs(Ue,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loyers attendus"}),i.jsxs("p",{className:"text-2xl font-semibold text-green-700",children:[yi.financials.currentMonth.expected,"€"]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loyers perçus"}),i.jsxs("p",{className:"text-2xl font-semibold text-blue-700",children:[yi.financials.currentMonth.received,"€"]})]}),i.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Charges"}),i.jsxs("p",{className:"text-2xl font-semibold text-orange-700",children:[yi.financials.currentMonth.expenses,"€"]})]}),i.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Net"}),i.jsxs("p",{className:"text-2xl font-semibold text-purple-700",children:[yi.financials.currentMonth.net,"€"]})]})]}),i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsxs(fe,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[i.jsx(zr,{size:16}),"Télécharger le rapport"]})})]})]}),i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Mes biens"}),i.jsx(Ro,{size:20,className:"text-gray-500"})]}),i.jsxs(qt,{children:[yi.properties.length," biens en gestion"]})]}),i.jsx(Ue,{children:i.jsx("div",{className:"space-y-4",children:yi.properties.map(e=>i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-50 p-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("h3",{className:"font-medium",children:e.address}),i.jsx(Ve,{children:e.status==="occupied"?"Occupé":e.status==="vacant"?"Vacant":"Travaux"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.postalCode," ",e.city]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Locataire"}),i.jsx("p",{children:e.tenant})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loyer mensuel"}),i.jsxs("p",{className:"font-semibold",children:[e.rent,"€"]})]})]}),i.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dernier paiement"}),i.jsx("p",{children:e.lastPayment})]}),i.jsxs(fe,{variant:"ghost",size:"sm",className:"flex items-center gap-1",children:["Détails",i.jsx(np,{size:16})]})]})]})]},e.id))})}),i.jsx(pn,{children:i.jsx(fe,{className:"w-full bg-cyan",children:"Gérer mes biens"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Entretien et travaux"}),i.jsx(wm,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsx("ul",{className:"divide-y",children:yi.recentMaintenance.map(e=>i.jsxs("li",{className:"py-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:e.issue}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.property})]}),i.jsx(Ve,{variant:e.status==="completed"?"outline":"default",children:e.status==="completed"?"Terminé":"En cours"})]}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:e.date}),i.jsxs("span",{className:"font-medium",children:[e.cost,"€"]})]})]},e.id))})}),i.jsx(pn,{children:i.jsx(fe,{variant:"outline",className:"w-full",children:"Historique complet"})})]}),i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Documents récents"}),i.jsx(Ut,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsx("ul",{className:"divide-y",children:yi.documents.map(e=>i.jsxs("li",{className:"py-3 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:e.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e.date})]}),i.jsxs(fe,{variant:"ghost",size:"sm",className:"flex items-center gap-1",children:[i.jsx(zr,{size:16}),"Télécharger"]})]},e.id))})}),i.jsx(pn,{children:i.jsx(fe,{variant:"outline",className:"w-full",children:"Tous les documents"})})]})]}),i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Bilan annuel"}),i.jsx(Wl,{size:20,className:"text-gray-500"})]}),i.jsx(qt,{children:"Revenus et charges pour l'année en cours"})]}),i.jsx(Ue,{children:i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loyers totaux"}),i.jsxs("p",{className:"text-2xl font-semibold",children:[yi.financials.yearly.totalRent,"€"]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Charges totales"}),i.jsxs("p",{className:"text-2xl font-semibold",children:[yi.financials.yearly.totalExpenses,"€"]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenu net"}),i.jsxs("p",{className:"text-2xl font-semibold",children:[yi.financials.yearly.netIncome,"€"]})]})]})}),i.jsx(pn,{className:"flex justify-end",children:i.jsxs(fe,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(zr,{size:16}),"Télécharger le bilan annuel"]})})]})]})}));var mp=e=>e.type==="checkbox",Bc=e=>e instanceof Date,fs=e=>e==null;const sA=e=>typeof e=="object";var rr=e=>!fs(e)&&!Array.isArray(e)&&sA(e)&&!Bc(e),iA=e=>rr(e)&&e.target?mp(e.target)?e.target.checked:e.target.value:e,Mq=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,aA=(e,t)=>e.has(Mq(t)),Rq=e=>{const t=e.constructor&&e.constructor.prototype;return rr(t)&&t.hasOwnProperty("isPrototypeOf")},B5=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Es(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(B5&&(e instanceof Blob||e instanceof FileList))&&(n||rr(e)))if(t=n?[]:{},!n&&!Rq(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=Es(e[r]));else return e;return t}var Mx=e=>Array.isArray(e)?e.filter(Boolean):[],Yn=e=>e===void 0,Ge=(e,t,n)=>{if(!t||!rr(e))return n;const r=Mx(t.split(/[,[\].]+?/)).reduce((s,a)=>fs(s)?s:s[a],e);return Yn(r)||r===e?Yn(e[t])?n:e[t]:r},ji=e=>typeof e=="boolean",$5=e=>/^\w*$/.test(e),oA=e=>Mx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ln=(e,t,n)=>{let r=-1;const s=$5(t)?[t]:oA(t),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==o){const u=e[l];c=rr(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const g0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ta={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},go={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lA=Ae.createContext(null),Rx=()=>Ae.useContext(lA),Dq=e=>{const{children:t,...n}=e;return Ae.createElement(lA.Provider,{value:n},t)};var cA=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==ta.all&&(t._proxyFormState[o]=!r||ta.all),n&&(n[o]=!0),e[o]}});return s},Ls=e=>rr(e)&&!Object.keys(e).length,uA=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return Ls(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||ta.all))},Qf=e=>Array.isArray(e)?e:[e],dA=(e,t,n)=>!e||!t||e===t||Qf(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function U5(e){const t=Ae.useRef(e);t.current=e,Ae.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function Iq(e){const t=Rx(),{control:n=t.control,disabled:r,name:s,exact:a}=e||{},[o,l]=Ae.useState(n._formState),c=Ae.useRef(!0),u=Ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Ae.useRef(s);return d.current=s,U5({disabled:r,next:h=>c.current&&dA(d.current,h.name,a)&&uA(h,u.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),Ae.useEffect(()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),cA(o,n,u.current,!1)}var Ba=e=>typeof e=="string",hA=(e,t,n,r,s)=>Ba(e)?(r&&t.watch.add(e),Ge(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Ge(n,a))):(r&&(t.watchAll=!0),n);function Oq(e){const t=Rx(),{control:n=t.control,name:r,defaultValue:s,disabled:a,exact:o}=e||{},l=Ae.useRef(r);l.current=r,U5({disabled:a,subject:n._subjects.values,next:d=>{dA(l.current,d.name,o)&&u(Es(hA(l.current,n._names,d.values||n._formValues,!1,s)))}});const[c,u]=Ae.useState(n._getWatch(r,s));return Ae.useEffect(()=>n._removeUnmounted()),c}function Fq(e){const t=Rx(),{name:n,disabled:r,control:s=t.control,shouldUnregister:a}=e,o=aA(s._names.array,n),l=Oq({control:s,name:n,defaultValue:Ge(s._formValues,n,Ge(s._defaultValues,n,e.defaultValue)),exact:!0}),c=Iq({control:s,name:n,exact:!0}),u=Ae.useRef(s.register(n,{...e.rules,value:l,...ji(e.disabled)?{disabled:e.disabled}:{}}));return Ae.useEffect(()=>{const d=s._options.shouldUnregister||a,h=(m,p)=>{const w=Ge(s._fields,m);w&&w._f&&(w._f.mount=p)};if(h(n,!0),d){const m=Es(Ge(s._options.defaultValues,n));ln(s._defaultValues,n,m),Yn(Ge(s._formValues,n))&&ln(s._formValues,n,m)}return()=>{(o?d&&!s._state.action:d)?s.unregister(n):h(n,!1)}},[n,s,o,a]),Ae.useEffect(()=>{Ge(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:Ge(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:l,...ji(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:Ae.useCallback(d=>u.current.onChange({target:{value:iA(d),name:n},type:g0.CHANGE}),[n]),onBlur:Ae.useCallback(()=>u.current.onBlur({target:{value:Ge(s._formValues,n),name:n},type:g0.BLUR}),[n,s]),ref:Ae.useCallback(d=>{const h=Ge(s._fields,n);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:m=>d.setCustomValidity(m),reportValidity:()=>d.reportValidity()})},[s._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ge(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ge(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ge(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ge(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ge(c.errors,n)}})}}const zq=e=>e.render(Fq(e));var fA=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},x_=e=>({isOnSubmit:!e||e===ta.onSubmit,isOnBlur:e===ta.onBlur,isOnChange:e===ta.onChange,isOnAll:e===ta.all,isOnTouch:e===ta.onTouched}),y_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const em=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=Ge(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(em(l,t))break}else if(rr(l)&&em(l,t))break}}};var Bq=(e,t,n)=>{const r=Qf(Ge(e,n));return ln(r,"root",t[n]),ln(e,n,r),e},q5=e=>e.type==="file",ko=e=>typeof e=="function",v0=e=>{if(!B5)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xv=e=>Ba(e),V5=e=>e.type==="radio",x0=e=>e instanceof RegExp;const w_={value:!1,isValid:!1},b_={value:!0,isValid:!0};var mA=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yn(e[0].attributes.value)?Yn(e[0].value)||e[0].value===""?b_:{value:e[0].value,isValid:!0}:b_:w_}return w_};const j_={isValid:!1,value:null};var pA=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,j_):j_;function N_(e,t,n="validate"){if(xv(e)||Array.isArray(e)&&e.every(xv)||ji(e)&&!e)return{type:n,message:xv(e)?e:"",ref:t}}var Zu=e=>rr(e)&&!x0(e)?e:{value:e,message:""},__=async(e,t,n,r,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:m,validate:p,name:w,valueAsNumber:v,mount:N,disabled:y}=e._f,x=Ge(t,w);if(!N||y)return{};const S=o?o[0]:a,k=T=>{r&&S.reportValidity&&(S.setCustomValidity(ji(T)?"":T||""),S.reportValidity())},P={},z=V5(a),B=mp(a),R=z||B,K=(v||q5(a))&&Yn(a.value)&&Yn(x)||v0(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,ee=fA.bind(null,w,n,P),M=(T,V,U,oe=go.maxLength,te=go.minLength)=>{const Q=T?V:U;P[w]={type:T?oe:te,message:Q,ref:a,...ee(T?oe:te,Q)}};if(s?!Array.isArray(x)||!x.length:l&&(!R&&(K||fs(x))||ji(x)&&!x||B&&!mA(o).isValid||z&&!pA(o).isValid)){const{value:T,message:V}=xv(l)?{value:!!l,message:l}:Zu(l);if(T&&(P[w]={type:go.required,message:V,ref:S,...ee(go.required,V)},!n))return k(V),P}if(!K&&(!fs(d)||!fs(h))){let T,V;const U=Zu(h),oe=Zu(d);if(!fs(x)&&!isNaN(x)){const te=a.valueAsNumber||x&&+x;fs(U.value)||(T=te>U.value),fs(oe.value)||(V=te<oe.value)}else{const te=a.valueAsDate||new Date(x),Q=ie=>new Date(new Date().toDateString()+" "+ie),I=a.type=="time",G=a.type=="week";Ba(U.value)&&x&&(T=I?Q(x)>Q(U.value):G?x>U.value:te>new Date(U.value)),Ba(oe.value)&&x&&(V=I?Q(x)<Q(oe.value):G?x<oe.value:te<new Date(oe.value))}if((T||V)&&(M(!!T,U.message,oe.message,go.max,go.min),!n))return k(P[w].message),P}if((c||u)&&!K&&(Ba(x)||s&&Array.isArray(x))){const T=Zu(c),V=Zu(u),U=!fs(T.value)&&x.length>+T.value,oe=!fs(V.value)&&x.length<+V.value;if((U||oe)&&(M(U,T.message,V.message),!n))return k(P[w].message),P}if(m&&!K&&Ba(x)){const{value:T,message:V}=Zu(m);if(x0(T)&&!x.match(T)&&(P[w]={type:go.pattern,message:V,ref:a,...ee(go.pattern,V)},!n))return k(V),P}if(p){if(ko(p)){const T=await p(x,t),V=N_(T,S);if(V&&(P[w]={...V,...ee(go.validate,V.message)},!n))return k(V.message),P}else if(rr(p)){let T={};for(const V in p){if(!Ls(T)&&!n)break;const U=N_(await p[V](x,t),S,V);U&&(T={...U,...ee(V,U.message)},k(U.message),n&&(P[w]=T))}if(!Ls(T)&&(P[w]={ref:S,...T},!n))return P}}return k(!0),P};function $q(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Yn(e)?r++:e[t[r++]];return e}function Uq(e){for(const t in e)if(e.hasOwnProperty(t)&&!Yn(e[t]))return!1;return!0}function gr(e,t){const n=Array.isArray(t)?t:$5(t)?[t]:oA(t),r=n.length===1?e:$q(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(rr(r)&&Ls(r)||Array.isArray(r)&&Uq(r))&&gr(e,n.slice(0,-1)),e}var Ty=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Fw=e=>fs(e)||!sA(e);function Nl(e,t){if(Fw(e)||Fw(t))return e===t;if(Bc(e)&&Bc(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const a=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Bc(a)&&Bc(o)||rr(a)&&rr(o)||Array.isArray(a)&&Array.isArray(o)?!Nl(a,o):a!==o)return!1}}return!0}var gA=e=>e.type==="select-multiple",qq=e=>V5(e)||mp(e),My=e=>v0(e)&&e.isConnected,vA=e=>{for(const t in e)if(ko(e[t]))return!0;return!1};function y0(e,t={}){const n=Array.isArray(e);if(rr(e)||n)for(const r in e)Array.isArray(e[r])||rr(e[r])&&!vA(e[r])?(t[r]=Array.isArray(e[r])?[]:{},y0(e[r],t[r])):fs(e[r])||(t[r]=!0);return t}function xA(e,t,n){const r=Array.isArray(e);if(rr(e)||r)for(const s in e)Array.isArray(e[s])||rr(e[s])&&!vA(e[s])?Yn(t)||Fw(n[s])?n[s]=Array.isArray(e[s])?y0(e[s],[]):{...y0(e[s])}:xA(e[s],fs(t)?{}:t[s],n[s]):n[s]=!Nl(e[s],t[s]);return n}var _f=(e,t)=>xA(e,t,y0(t)),yA=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Yn(e)?e:t?e===""?NaN:e&&+e:n&&Ba(e)?new Date(e):r?r(e):e;function Ry(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return q5(t)?t.files:V5(t)?pA(e.refs).value:gA(t)?[...t.selectedOptions].map(({value:n})=>n):mp(t)?mA(e.refs).value:yA(Yn(t.value)?e.ref.value:t.value,e)}var Vq=(e,t,n,r)=>{const s={};for(const a of e){const o=Ge(t,a);o&&ln(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Sf=e=>Yn(e)?e:x0(e)?e.source:rr(e)?x0(e.value)?e.value.source:e.value:e;const S_="AsyncFunction";var Wq=e=>(!e||!e.validate)&&!!(ko(e.validate)&&e.validate.constructor.name===S_||rr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===S_)),Hq=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function C_(e,t,n){const r=Ge(e,n);if(r||$5(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=Ge(t,a),l=Ge(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var Gq=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,Yq=(e,t)=>!Mx(Ge(e,t)).length&&gr(e,t);const Kq={mode:ta.onSubmit,reValidateMode:ta.onChange,shouldFocusError:!0};function Jq(e={}){let t={...Kq,...e},n={submitCount:0,isDirty:!1,isLoading:ko(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=rr(t.defaultValues)||rr(t.values)?Es(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Es(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ty(),array:Ty(),state:Ty()},m=x_(t.mode),p=x_(t.reValidateMode),w=t.criteriaMode===ta.all,v=Y=>X=>{clearTimeout(u),u=setTimeout(Y,X)},N=async Y=>{if(!e.disabled&&(d.isValid||Y)){const X=t.resolver?Ls((await R()).errors):await ee(r,!0);X!==n.isValid&&h.state.next({isValid:X})}},y=(Y,X)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((Y||Array.from(l.mount)).forEach(le=>{le&&(X?ln(n.validatingFields,le,X):gr(n.validatingFields,le))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Ls(n.validatingFields)}))},x=(Y,X=[],le,je,we=!0,be=!0)=>{if(je&&le&&!e.disabled){if(o.action=!0,be&&Array.isArray(Ge(r,Y))){const Ie=le(Ge(r,Y),je.argA,je.argB);we&&ln(r,Y,Ie)}if(be&&Array.isArray(Ge(n.errors,Y))){const Ie=le(Ge(n.errors,Y),je.argA,je.argB);we&&ln(n.errors,Y,Ie),Yq(n.errors,Y)}if(d.touchedFields&&be&&Array.isArray(Ge(n.touchedFields,Y))){const Ie=le(Ge(n.touchedFields,Y),je.argA,je.argB);we&&ln(n.touchedFields,Y,Ie)}d.dirtyFields&&(n.dirtyFields=_f(s,a)),h.state.next({name:Y,isDirty:T(Y,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ln(a,Y,X)},S=(Y,X)=>{ln(n.errors,Y,X),h.state.next({errors:n.errors})},k=Y=>{n.errors=Y,h.state.next({errors:n.errors,isValid:!1})},P=(Y,X,le,je)=>{const we=Ge(r,Y);if(we){const be=Ge(a,Y,Yn(le)?Ge(s,Y):le);Yn(be)||je&&je.defaultChecked||X?ln(a,Y,X?be:Ry(we._f)):oe(Y,be),o.mount&&N()}},z=(Y,X,le,je,we)=>{let be=!1,Ie=!1;const He={name:Y};if(!e.disabled){const ct=!!(Ge(r,Y)&&Ge(r,Y)._f&&Ge(r,Y)._f.disabled);if(!le||je){d.isDirty&&(Ie=n.isDirty,n.isDirty=He.isDirty=T(),be=Ie!==He.isDirty);const dt=ct||Nl(Ge(s,Y),X);Ie=!!(!ct&&Ge(n.dirtyFields,Y)),dt||ct?gr(n.dirtyFields,Y):ln(n.dirtyFields,Y,!0),He.dirtyFields=n.dirtyFields,be=be||d.dirtyFields&&Ie!==!dt}if(le){const dt=Ge(n.touchedFields,Y);dt||(ln(n.touchedFields,Y,le),He.touchedFields=n.touchedFields,be=be||d.touchedFields&&dt!==le)}be&&we&&h.state.next(He)}return be?He:{}},B=(Y,X,le,je)=>{const we=Ge(n.errors,Y),be=d.isValid&&ji(X)&&n.isValid!==X;if(e.delayError&&le?(c=v(()=>S(Y,le)),c(e.delayError)):(clearTimeout(u),c=null,le?ln(n.errors,Y,le):gr(n.errors,Y)),(le?!Nl(we,le):we)||!Ls(je)||be){const Ie={...je,...be&&ji(X)?{isValid:X}:{},errors:n.errors,name:Y};n={...n,...Ie},h.state.next(Ie)}},R=async Y=>{y(Y,!0);const X=await t.resolver(a,t.context,Vq(Y||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(Y),X},K=async Y=>{const{errors:X}=await R(Y);if(Y)for(const le of Y){const je=Ge(X,le);je?ln(n.errors,le,je):gr(n.errors,le)}else n.errors=X;return X},ee=async(Y,X,le={valid:!0})=>{for(const je in Y){const we=Y[je];if(we){const{_f:be,...Ie}=we;if(be){const He=l.array.has(be.name),ct=we._f&&Wq(we._f);ct&&d.validatingFields&&y([je],!0);const dt=await __(we,a,w,t.shouldUseNativeValidation&&!X,He);if(ct&&d.validatingFields&&y([je]),dt[be.name]&&(le.valid=!1,X))break;!X&&(Ge(dt,be.name)?He?Bq(n.errors,dt,be.name):ln(n.errors,be.name,dt[be.name]):gr(n.errors,be.name))}!Ls(Ie)&&await ee(Ie,X,le)}}return le.valid},M=()=>{for(const Y of l.unMount){const X=Ge(r,Y);X&&(X._f.refs?X._f.refs.every(le=>!My(le)):!My(X._f.ref))&&re(Y)}l.unMount=new Set},T=(Y,X)=>!e.disabled&&(Y&&X&&ln(a,Y,X),!Nl(ve(),s)),V=(Y,X,le)=>hA(Y,l,{...o.mount?a:Yn(X)?s:Ba(Y)?{[Y]:X}:X},le,X),U=Y=>Mx(Ge(o.mount?a:s,Y,e.shouldUnregister?Ge(s,Y,[]):[])),oe=(Y,X,le={})=>{const je=Ge(r,Y);let we=X;if(je){const be=je._f;be&&(!be.disabled&&ln(a,Y,yA(X,be)),we=v0(be.ref)&&fs(X)?"":X,gA(be.ref)?[...be.ref.options].forEach(Ie=>Ie.selected=we.includes(Ie.value)):be.refs?mp(be.ref)?be.refs.length>1?be.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(we)?!!we.find(He=>He===Ie.value):we===Ie.value)):be.refs[0]&&(be.refs[0].checked=!!we):be.refs.forEach(Ie=>Ie.checked=Ie.value===we):q5(be.ref)?be.ref.value="":(be.ref.value=we,be.ref.type||h.values.next({name:Y,values:{...a}})))}(le.shouldDirty||le.shouldTouch)&&z(Y,we,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&ie(Y)},te=(Y,X,le)=>{for(const je in X){const we=X[je],be=`${Y}.${je}`,Ie=Ge(r,be);(l.array.has(Y)||rr(we)||Ie&&!Ie._f)&&!Bc(we)?te(be,we,le):oe(be,we,le)}},Q=(Y,X,le={})=>{const je=Ge(r,Y),we=l.array.has(Y),be=Es(X);ln(a,Y,be),we?(h.array.next({name:Y,values:{...a}}),(d.isDirty||d.dirtyFields)&&le.shouldDirty&&h.state.next({name:Y,dirtyFields:_f(s,a),isDirty:T(Y,be)})):je&&!je._f&&!fs(be)?te(Y,be,le):oe(Y,be,le),y_(Y,l)&&h.state.next({...n}),h.values.next({name:o.mount?Y:void 0,values:{...a}})},I=async Y=>{o.mount=!0;const X=Y.target;let le=X.name,je=!0;const we=Ge(r,le),be=()=>X.type?Ry(we._f):iA(Y),Ie=He=>{je=Number.isNaN(He)||Bc(He)&&isNaN(He.getTime())||Nl(He,Ge(a,le,He))};if(we){let He,ct;const dt=be(),Bt=Y.type===g0.BLUR||Y.type===g0.FOCUS_OUT,ft=!Hq(we._f)&&!t.resolver&&!Ge(n.errors,le)&&!we._f.deps||Gq(Bt,Ge(n.touchedFields,le),n.isSubmitted,p,m),kt=y_(le,l,Bt);ln(a,le,dt),Bt?(we._f.onBlur&&we._f.onBlur(Y),c&&c(0)):we._f.onChange&&we._f.onChange(Y);const Je=z(le,dt,Bt,!1),Kn=!Ls(Je)||kt;if(!Bt&&h.values.next({name:le,type:Y.type,values:{...a}}),ft)return d.isValid&&(e.mode==="onBlur"?Bt&&N():N()),Kn&&h.state.next({name:le,...kt?{}:Je});if(!Bt&&kt&&h.state.next({...n}),t.resolver){const{errors:Vt}=await R([le]);if(Ie(dt),je){const os=C_(n.errors,r,le),Jt=C_(Vt,r,os.name||le);He=Jt.error,le=Jt.name,ct=Ls(Vt)}}else y([le],!0),He=(await __(we,a,w,t.shouldUseNativeValidation))[le],y([le]),Ie(dt),je&&(He?ct=!1:d.isValid&&(ct=await ee(r,!0)));je&&(we._f.deps&&ie(we._f.deps),B(le,ct,He,Je))}},G=(Y,X)=>{if(Ge(n.errors,X)&&Y.focus)return Y.focus(),1},ie=async(Y,X={})=>{let le,je;const we=Qf(Y);if(t.resolver){const be=await K(Yn(Y)?Y:we);le=Ls(be),je=Y?!we.some(Ie=>Ge(be,Ie)):le}else Y?(je=(await Promise.all(we.map(async be=>{const Ie=Ge(r,be);return await ee(Ie&&Ie._f?{[be]:Ie}:Ie)}))).every(Boolean),!(!je&&!n.isValid)&&N()):je=le=await ee(r);return h.state.next({...!Ba(Y)||d.isValid&&le!==n.isValid?{}:{name:Y},...t.resolver||!Y?{isValid:le}:{},errors:n.errors}),X.shouldFocus&&!je&&em(r,G,Y?we:l.mount),je},ve=Y=>{const X={...o.mount?a:s};return Yn(Y)?X:Ba(Y)?Ge(X,Y):Y.map(le=>Ge(X,le))},A=(Y,X)=>({invalid:!!Ge((X||n).errors,Y),isDirty:!!Ge((X||n).dirtyFields,Y),error:Ge((X||n).errors,Y),isValidating:!!Ge(n.validatingFields,Y),isTouched:!!Ge((X||n).touchedFields,Y)}),q=Y=>{Y&&Qf(Y).forEach(X=>gr(n.errors,X)),h.state.next({errors:Y?n.errors:{}})},H=(Y,X,le)=>{const je=(Ge(r,Y,{_f:{}})._f||{}).ref,we=Ge(n.errors,Y)||{},{ref:be,message:Ie,type:He,...ct}=we;ln(n.errors,Y,{...ct,...X,ref:je}),h.state.next({name:Y,errors:n.errors,isValid:!1}),le&&le.shouldFocus&&je&&je.focus&&je.focus()},ne=(Y,X)=>ko(Y)?h.values.subscribe({next:le=>Y(V(void 0,X),le)}):V(Y,X,!0),re=(Y,X={})=>{for(const le of Y?Qf(Y):l.mount)l.mount.delete(le),l.array.delete(le),X.keepValue||(gr(r,le),gr(a,le)),!X.keepError&&gr(n.errors,le),!X.keepDirty&&gr(n.dirtyFields,le),!X.keepTouched&&gr(n.touchedFields,le),!X.keepIsValidating&&gr(n.validatingFields,le),!t.shouldUnregister&&!X.keepDefaultValue&&gr(s,le);h.values.next({values:{...a}}),h.state.next({...n,...X.keepDirty?{isDirty:T()}:{}}),!X.keepIsValid&&N()},se=({disabled:Y,name:X,field:le,fields:je,value:we})=>{if(ji(Y)&&o.mount||Y){const be=Y?void 0:Yn(we)?Ry(le?le._f:Ge(je,X)._f):we;ln(a,X,be),z(X,be,!1,!1,!0)}},de=(Y,X={})=>{let le=Ge(r,Y);const je=ji(X.disabled)||ji(e.disabled);return ln(r,Y,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:Y}},name:Y,mount:!0,...X}}),l.mount.add(Y),le?se({field:le,disabled:ji(X.disabled)?X.disabled:e.disabled,name:Y,value:X.value}):P(Y,!0,X.value),{...je?{disabled:X.disabled||e.disabled}:{},...t.progressive?{required:!!X.required,min:Sf(X.min),max:Sf(X.max),minLength:Sf(X.minLength),maxLength:Sf(X.maxLength),pattern:Sf(X.pattern)}:{},name:Y,onChange:I,onBlur:I,ref:we=>{if(we){de(Y,X),le=Ge(r,Y);const be=Yn(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,Ie=qq(be),He=le._f.refs||[];if(Ie?He.find(ct=>ct===be):be===le._f.ref)return;ln(r,Y,{_f:{...le._f,...Ie?{refs:[...He.filter(My),be,...Array.isArray(Ge(s,Y))?[{}]:[]],ref:{type:be.type,name:Y}}:{ref:be}}}),P(Y,!1,void 0,be)}else le=Ge(r,Y,{}),le._f&&(le._f.mount=!1),(t.shouldUnregister||X.shouldUnregister)&&!(aA(l.array,Y)&&o.action)&&l.unMount.add(Y)}}},me=()=>t.shouldFocusError&&em(r,G,l.mount),Ce=Y=>{ji(Y)&&(h.state.next({disabled:Y}),em(r,(X,le)=>{const je=Ge(r,le);je&&(X.disabled=je._f.disabled||Y,Array.isArray(je._f.refs)&&je._f.refs.forEach(we=>{we.disabled=je._f.disabled||Y}))},0,!1))},ke=(Y,X)=>async le=>{let je;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let we=Es(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:be,values:Ie}=await R();n.errors=be,we=Ie}else await ee(r);if(gr(n.errors,"root"),Ls(n.errors)){h.state.next({errors:{}});try{await Y(we,le)}catch(be){je=be}}else X&&await X({...n.errors},le),me(),setTimeout(me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ls(n.errors)&&!je,submitCount:n.submitCount+1,errors:n.errors}),je)throw je},Me=(Y,X={})=>{Ge(r,Y)&&(Yn(X.defaultValue)?Q(Y,Es(Ge(s,Y))):(Q(Y,X.defaultValue),ln(s,Y,Es(X.defaultValue))),X.keepTouched||gr(n.touchedFields,Y),X.keepDirty||(gr(n.dirtyFields,Y),n.isDirty=X.defaultValue?T(Y,Es(Ge(s,Y))):T()),X.keepError||(gr(n.errors,Y),d.isValid&&N()),h.state.next({...n}))},Fe=(Y,X={})=>{const le=Y?Es(Y):s,je=Es(le),we=Ls(Y),be=we?s:je;if(X.keepDefaultValues||(s=le),!X.keepValues){if(X.keepDirtyValues){const Ie=new Set([...l.mount,...Object.keys(_f(s,a))]);for(const He of Array.from(Ie))Ge(n.dirtyFields,He)?ln(be,He,Ge(a,He)):Q(He,Ge(be,He))}else{if(B5&&Yn(Y))for(const Ie of l.mount){const He=Ge(r,Ie);if(He&&He._f){const ct=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(v0(ct)){const dt=ct.closest("form");if(dt){dt.reset();break}}}}r={}}a=e.shouldUnregister?X.keepDefaultValues?Es(s):{}:Es(be),h.array.next({values:{...be}}),h.values.next({values:{...be}})}l={mount:X.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!X.keepIsValid||!!X.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:we?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!Nl(Y,s)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:we?{}:X.keepDirtyValues?X.keepDefaultValues&&a?_f(s,a):n.dirtyFields:X.keepDefaultValues&&Y?_f(s,Y):X.keepDirty?n.dirtyFields:{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},at=(Y,X)=>Fe(ko(Y)?Y(a):Y,X);return{control:{register:de,unregister:re,getFieldState:A,handleSubmit:ke,setError:H,_executeSchema:R,_getWatch:V,_getDirty:T,_updateValid:N,_removeUnmounted:M,_updateFieldArray:x,_updateDisabledField:se,_getFieldArray:U,_reset:Fe,_resetDefaultValues:()=>ko(t.defaultValues)&&t.defaultValues().then(Y=>{at(Y,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:Y=>{n={...n,...Y}},_disableForm:Ce,_subjects:h,_proxyFormState:d,_setErrors:k,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(Y){o=Y},get _defaultValues(){return s},get _names(){return l},set _names(Y){l=Y},get _formState(){return n},set _formState(Y){n=Y},get _options(){return t},set _options(Y){t={...t,...Y}}},trigger:ie,register:de,handleSubmit:ke,watch:ne,setValue:Q,getValues:ve,reset:at,resetField:Me,clearErrors:q,unregister:re,setError:H,setFocus:(Y,X={})=>{const le=Ge(r,Y),je=le&&le._f;if(je){const we=je.refs?je.refs[0]:je.ref;we.focus&&(we.focus(),X.shouldSelect&&we.select())}},getFieldState:A}}function wA(e={}){const t=Ae.useRef(),n=Ae.useRef(),[r,s]=Ae.useState({isDirty:!1,isValidating:!1,isLoading:ko(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ko(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Jq(e),formState:r});const a=t.current.control;return a._options=e,U5({subject:a._subjects.state,next:o=>{uA(o,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),Ae.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Ae.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Ae.useEffect(()=>{e.values&&!Nl(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),Ae.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),Ae.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Ae.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),Ae.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[r]),t.current.formState=cA(r,a),t.current}const k_=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ge(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},bA=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?k_(r.ref,n,e):r.refs&&r.refs.forEach(s=>k_(s,n,e))}},Xq=(e,t)=>{t.shouldUseNativeValidation&&bA(e,t);const n={};for(const r in e){const s=Ge(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(Zq(t.names||Object.keys(e),r)){const o=Object.assign({},Ge(n,r));ln(o,"root",a),ln(n,r,o)}else ln(n,r,a)}return n},Zq=(e,t)=>e.some(n=>n.startsWith(t+"."));var Qq=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=fA(o,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},jA=function(e,t,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return a.shouldUseNativeValidation&&bA({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Xq(Qq(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};async function eV(e,t){console.log("Creating property with data:",e),console.log("User ID:",t);try{const{data:n,error:r}=await Kt.from("properties").insert({address:e.address,postal_code:e.postal_code,city:e.city,type:e.type,size_sqm:e.size_sqm,rooms:e.rooms,bathrooms:e.bathrooms,bedrooms:e.bedrooms,monthly_rent:e.monthly_rent,status:e.status,description:e.description||"",manager_id:t}).select("id").single();if(r)throw console.error("Error creating property:",r),new Error(`Erreur lors de la création du bien: ${r.message}`);return console.log("Property created successfully:",n),n}catch(n){throw console.error("Exception creating property:",n),n}}const tV=PP({address:Cd().min(1,"L'adresse est requise"),postal_code:Cd().min(1,"Le code postal est requis"),city:Cd().min(1,"La ville est requise"),type:Dw(["Appartement","Maison","Local commercial","Terrain","Autre"],{required_error:"Le type de bien est requis"}),size_sqm:ud.number().positive("La surface doit être positive"),rooms:ud.number().int().positive("Le nombre de pièces doit être positif"),bathrooms:ud.number().int().positive("Le nombre de salles de bain doit être positif"),bedrooms:ud.number().int().positive("Le nombre de chambres doit être positif"),monthly_rent:ud.number().positive("Le loyer mensuel doit être positif"),status:Dw(["vacant","occupied","maintenance"]),description:Cd().optional()}),Dy={address:"",postal_code:"",city:"",type:"Appartement",size_sqm:void 0,rooms:void 0,bathrooms:void 0,bedrooms:void 0,monthly_rent:void 0,status:"vacant",description:""},NA=Dq,_A=b.createContext({}),Qr=({...e})=>i.jsx(_A.Provider,{value:{name:e.name},children:i.jsx(zq,{...e})}),Dx=()=>{const e=b.useContext(_A),t=b.useContext(SA),{getFieldState:n,formState:r}=Rx(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},SA=b.createContext({}),Rr=b.forwardRef(({className:e,...t},n)=>{const r=b.useId();return i.jsx(SA.Provider,{value:{id:r},children:i.jsx("div",{ref:n,className:et("space-y-2",e),...t})})});Rr.displayName="FormItem";const Dr=b.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Dx();return i.jsx($t,{ref:n,className:et(r&&"text-destructive",e),htmlFor:s,...t})});Dr.displayName="FormLabel";const Ir=b.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:a}=Dx();return i.jsx(Ga,{ref:t,id:r,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});Ir.displayName="FormControl";const nV=b.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Dx();return i.jsx("p",{ref:n,id:r,className:et("text-sm text-muted-foreground",e),...t})});nV.displayName="FormDescription";const Or=b.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:a}=Dx(),o=s?String(s==null?void 0:s.message):t;return o?i.jsx("p",{ref:r,id:a,className:et("text-sm font-medium text-destructive",e),...n,children:o}):null});Or.displayName="FormMessage";function zw(e,[t,n]){return Math.min(n,Math.max(t,e))}var Iy=0;function Ix(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??P_()),document.body.insertAdjacentElement("beforeend",e[1]??P_()),Iy++,()=>{Iy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Iy--}},[])}function P_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Oy="focusScope.autoFocusOnMount",Fy="focusScope.autoFocusOnUnmount",A_={bubbles:!1,cancelable:!0},rV="FocusScope",pp=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=b.useState(null),u=Dn(s),d=Dn(a),h=b.useRef(null),m=zt(t,v=>c(v)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let v=function(S){if(p.paused||!l)return;const k=S.target;l.contains(k)?h.current=k:pl(h.current,{select:!0})},N=function(S){if(p.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||pl(h.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const P of S)P.removedNodes.length>0&&pl(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",N);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",N),x.disconnect()}}},[r,l,p.paused]),b.useEffect(()=>{if(l){L_.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(Oy,A_);l.addEventListener(Oy,u),l.dispatchEvent(y),y.defaultPrevented||(sV(cV(CA(l)),{select:!0}),document.activeElement===v&&pl(l))}return()=>{l.removeEventListener(Oy,u),setTimeout(()=>{const y=new CustomEvent(Fy,A_);l.addEventListener(Fy,d),l.dispatchEvent(y),y.defaultPrevented||pl(v??document.body,{select:!0}),l.removeEventListener(Fy,d),L_.remove(p)},0)}}},[l,u,d,p]);const w=b.useCallback(v=>{if(!n&&!r||p.paused)return;const N=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(N&&y){const x=v.currentTarget,[S,k]=iV(x);S&&k?!v.shiftKey&&y===k?(v.preventDefault(),n&&pl(S,{select:!0})):v.shiftKey&&y===S&&(v.preventDefault(),n&&pl(k,{select:!0})):y===x&&v.preventDefault()}},[n,r,p.paused]);return i.jsx(ut.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});pp.displayName=rV;function sV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(pl(r,{select:t}),document.activeElement!==n)return}function iV(e){const t=CA(e),n=E_(t,e),r=E_(t.reverse(),e);return[n,r]}function CA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function E_(e,t){for(const n of e)if(!aV(n,{upTo:t}))return n}function aV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oV(e){return e instanceof HTMLInputElement&&"select"in e}function pl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&oV(e)&&t&&e.select()}}var L_=lV();function lV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=T_(e,t),e.unshift(t)},remove(t){var n;e=T_(e,t),(n=e[0])==null||n.resume()}}}function T_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cV(e){return e.filter(t=>t.tagName!=="A")}function kA(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var uV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qu=new WeakMap,Kg=new WeakMap,Jg={},zy=0,PA=function(e){return e&&(e.host||PA(e.parentNode))},dV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=PA(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},hV=function(e,t,n,r){var s=dV(t,Array.isArray(e)?e:[e]);Jg[n]||(Jg[n]=new WeakMap);var a=Jg[n],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(r),w=p!==null&&p!=="false",v=(Qu.get(m)||0)+1,N=(a.get(m)||0)+1;Qu.set(m,v),a.set(m,N),o.push(m),v===1&&w&&Kg.set(m,!0),N===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return d(t),l.clear(),zy++,function(){o.forEach(function(h){var m=Qu.get(h)-1,p=a.get(h)-1;Qu.set(h,m),a.set(h,p),m||(Kg.has(h)||h.removeAttribute(r),Kg.delete(h)),p||h.removeAttribute(n)}),zy--,zy||(Qu=new WeakMap,Qu=new WeakMap,Kg=new WeakMap,Jg={})}},Ox=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=uV(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),hV(r,s,n,"aria-hidden")):function(){return null}},Ia=function(){return Ia=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ia.apply(this,arguments)};function AA(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function fV(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var yv="right-scroll-bar-position",wv="width-before-scroll-bar",mV="with-scroll-bars-hidden",pV="--removed-body-scroll-bar-size";function By(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gV(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var vV=typeof window<"u"?b.useLayoutEffect:b.useEffect,M_=new WeakMap;function xV(e,t){var n=gV(null,function(r){return e.forEach(function(s){return By(s,r)})});return vV(function(){var r=M_.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||By(l,null)}),a.forEach(function(l){s.has(l)||By(l,o)})}M_.set(n,e)},[e]),n}function yV(e){return e}function wV(e,t){t===void 0&&(t=yV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function bV(e){e===void 0&&(e={});var t=wV(null);return t.options=Ia({async:!0,ssr:!1},e),t}var EA=function(e){var t=e.sideCar,n=AA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ia({},n))};EA.isSideCarExport=!0;function jV(e,t){return e.useMedium(t),EA}var LA=bV(),$y=function(){},Fx=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:$y,onWheelCapture:$y,onTouchMoveCapture:$y}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,p=e.noIsolation,w=e.inert,v=e.allowPinchZoom,N=e.as,y=N===void 0?"div":N,x=e.gapMode,S=AA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,P=xV([n,t]),z=Ia(Ia({},S),s);return b.createElement(b.Fragment,null,d&&b.createElement(k,{sideCar:LA,removeScrollBar:u,shards:h,noIsolation:p,inert:w,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:x}),o?b.cloneElement(b.Children.only(l),Ia(Ia({},z),{ref:P})):b.createElement(y,Ia({},z,{className:c,ref:P}),l))});Fx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fx.classNames={fullWidth:wv,zeroRight:yv};var NV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _V(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=NV();return t&&e.setAttribute("nonce",t),e}function SV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function CV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_V())&&(SV(t,n),CV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PV=function(){var e=kV();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},TA=function(){var e=PV(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},AV={left:0,top:0,right:0,gap:0},Uy=function(e){return parseInt(e||"",10)||0},EV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Uy(n),Uy(r),Uy(s)]},LV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return AV;var t=EV(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},TV=TA(),Fd="data-scroll-locked",MV=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(mV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Fd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yv,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(wv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(yv," .").concat(yv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wv," .").concat(wv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fd,`] {
    `).concat(pV,": ").concat(l,`px;
  }
`)},R_=function(){var e=parseInt(document.body.getAttribute(Fd)||"0",10);return isFinite(e)?e:0},RV=function(){b.useEffect(function(){return document.body.setAttribute(Fd,(R_()+1).toString()),function(){var e=R_()-1;e<=0?document.body.removeAttribute(Fd):document.body.setAttribute(Fd,e.toString())}},[])},DV=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;RV();var a=b.useMemo(function(){return LV(s)},[s]);return b.createElement(TV,{styles:MV(a,!t,s,n?"":"!important")})},Bw=!1;if(typeof window<"u")try{var Xg=Object.defineProperty({},"passive",{get:function(){return Bw=!0,!0}});window.addEventListener("test",Xg,Xg),window.removeEventListener("test",Xg,Xg)}catch{Bw=!1}var ed=Bw?{passive:!1}:!1,IV=function(e){return e.tagName==="TEXTAREA"},MA=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!IV(e)&&n[t]==="visible")},OV=function(e){return MA(e,"overflowY")},FV=function(e){return MA(e,"overflowX")},D_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=RA(e,r);if(s){var a=DA(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zV=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},BV=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},RA=function(e,t){return e==="v"?OV(t):FV(t)},DA=function(e,t){return e==="v"?zV(t):BV(t)},$V=function(e,t){return e==="h"&&t==="rtl"?-1:1},UV=function(e,t,n,r,s){var a=$V(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,m=0;do{var p=DA(e,l),w=p[0],v=p[1],N=p[2],y=v-N-a*w;(w||y)&&RA(e,l)&&(h+=y,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},Zg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},I_=function(e){return[e.deltaX,e.deltaY]},O_=function(e){return e&&"current"in e?e.current:e},qV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},WV=0,td=[];function HV(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(WV++)[0],a=b.useState(TA)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=fV([e.lockRef.current],(e.shards||[]).map(O_),!0).filter(Boolean);return v.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(v,N){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=Zg(v),x=n.current,S="deltaX"in v?v.deltaX:x[0]-y[0],k="deltaY"in v?v.deltaY:x[1]-y[1],P,z=v.target,B=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in v&&B==="h"&&z.type==="range")return!1;var R=D_(B,z);if(!R)return!0;if(R?P=B:(P=B==="v"?"h":"v",R=D_(B,z)),!R)return!1;if(!r.current&&"changedTouches"in v&&(S||k)&&(r.current=P),!P)return!0;var K=r.current||P;return UV(K,N,v,K==="h"?S:k,!0)},[]),c=b.useCallback(function(v){var N=v;if(!(!td.length||td[td.length-1]!==a)){var y="deltaY"in N?I_(N):Zg(N),x=t.current.filter(function(P){return P.name===N.type&&(P.target===N.target||N.target===P.shadowParent)&&qV(P.delta,y)})[0];if(x&&x.should){N.cancelable&&N.preventDefault();return}if(!x){var S=(o.current.shards||[]).map(O_).filter(Boolean).filter(function(P){return P.contains(N.target)}),k=S.length>0?l(N,S[0]):!o.current.noIsolation;k&&N.cancelable&&N.preventDefault()}}},[]),u=b.useCallback(function(v,N,y,x){var S={name:v,delta:N,target:y,should:x,shadowParent:GV(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(k){return k!==S})},1)},[]),d=b.useCallback(function(v){n.current=Zg(v),r.current=void 0},[]),h=b.useCallback(function(v){u(v.type,I_(v),v.target,l(v,e.lockRef.current))},[]),m=b.useCallback(function(v){u(v.type,Zg(v),v.target,l(v,e.lockRef.current))},[]);b.useEffect(function(){return td.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ed),document.addEventListener("touchmove",c,ed),document.addEventListener("touchstart",d,ed),function(){td=td.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,ed),document.removeEventListener("touchmove",c,ed),document.removeEventListener("touchstart",d,ed)}},[]);var p=e.removeScrollBar,w=e.inert;return b.createElement(b.Fragment,null,w?b.createElement(a,{styles:VV(s)}):null,p?b.createElement(DV,{gapMode:e.gapMode}):null)}function GV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const YV=jV(LA,HV);var gp=b.forwardRef(function(e,t){return b.createElement(Fx,Ia({},e,{ref:t,sideCar:YV}))});gp.classNames=Fx.classNames;var KV=[" ","Enter","ArrowUp","ArrowDown"],JV=[" ","Enter"],vp="Select",[zx,Bx,XV]=K0(vp),[Dh,hne]=pa(vp,[XV,ac]),$x=ac(),[ZV,uc]=Dh(vp),[QV,eW]=Dh(vp),IA=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:m,required:p,form:w}=e,v=$x(t),[N,y]=b.useState(null),[x,S]=b.useState(null),[k,P]=b.useState(!1),z=fp(u),[B=!1,R]=Ya({prop:r,defaultProp:s,onChange:a}),[K,ee]=Ya({prop:o,defaultProp:l,onChange:c}),M=b.useRef(null),T=N?w||!!N.closest("form"):!0,[V,U]=b.useState(new Set),oe=Array.from(V).map(te=>te.props.value).join(";");return i.jsx(ux,{...v,children:i.jsxs(ZV,{required:p,scope:t,trigger:N,onTriggerChange:y,valueNode:x,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:P,contentId:Pi(),value:K,onValueChange:ee,open:B,onOpenChange:R,dir:z,triggerPointerDownPosRef:M,disabled:m,children:[i.jsx(zx.Provider,{scope:t,children:i.jsx(QV,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(te=>{U(Q=>new Set(Q).add(te))},[]),onNativeOptionRemove:b.useCallback(te=>{U(Q=>{const I=new Set(Q);return I.delete(te),I})},[]),children:n})}),T?i.jsxs(oE,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:K,onChange:te=>ee(te.target.value),disabled:m,form:w,children:[K===void 0?i.jsx("option",{value:""}):null,Array.from(V)]},oe):null]})})};IA.displayName=vp;var OA="SelectTrigger",FA=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=$x(n),o=uc(OA,n),l=o.disabled||r,c=zt(t,o.onTriggerChange),u=Bx(n),d=b.useRef("touch"),[h,m,p]=lE(v=>{const N=u().filter(S=>!S.disabled),y=N.find(S=>S.value===o.value),x=cE(N,v,y);x!==void 0&&o.onValueChange(x.value)}),w=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(cp,{asChild:!0,...a,children:i.jsx(ut.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":aE(o.value)?"":void 0,...s,ref:c,onClick:qe(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&w(v)}),onPointerDown:qe(s.onPointerDown,v=>{d.current=v.pointerType;const N=v.target;N.hasPointerCapture(v.pointerId)&&N.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:qe(s.onKeyDown,v=>{const N=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(N&&v.key===" ")&&KV.includes(v.key)&&(w(),v.preventDefault())})})})});FA.displayName=OA;var zA="SelectValue",BA=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=uc(zA,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=zt(t,c.onValueNodeChange);return wr(()=>{u(d)},[u,d]),i.jsx(ut.span,{...l,ref:h,style:{pointerEvents:"none"},children:aE(c.value)?i.jsx(i.Fragment,{children:o}):a})});BA.displayName=zA;var tW="SelectIcon",$A=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(ut.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});$A.displayName=tW;var nW="SelectPortal",UA=e=>i.jsx(Sh,{asChild:!0,...e});UA.displayName=nW;var iu="SelectContent",qA=b.forwardRef((e,t)=>{const n=uc(iu,e.__scopeSelect),[r,s]=b.useState();if(wr(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?hu.createPortal(i.jsx(VA,{scope:e.__scopeSelect,children:i.jsx(zx.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(WA,{...e,ref:t})});qA.displayName=iu;var Gi=10,[VA,dc]=Dh(iu),rW="SelectContentImpl",WA=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:N,...y}=e,x=uc(iu,n),[S,k]=b.useState(null),[P,z]=b.useState(null),B=zt(t,se=>k(se)),[R,K]=b.useState(null),[ee,M]=b.useState(null),T=Bx(n),[V,U]=b.useState(!1),oe=b.useRef(!1);b.useEffect(()=>{if(S)return Ox(S)},[S]),Ix();const te=b.useCallback(se=>{const[de,...me]=T().map(Me=>Me.ref.current),[Ce]=me.slice(-1),ke=document.activeElement;for(const Me of se)if(Me===ke||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===de&&P&&(P.scrollTop=0),Me===Ce&&P&&(P.scrollTop=P.scrollHeight),Me==null||Me.focus(),document.activeElement!==ke))return},[T,P]),Q=b.useCallback(()=>te([R,S]),[te,R,S]);b.useEffect(()=>{V&&Q()},[V,Q]);const{onOpenChange:I,triggerPointerDownPosRef:G}=x;b.useEffect(()=>{if(S){let se={x:0,y:0};const de=Ce=>{var ke,Me;se={x:Math.abs(Math.round(Ce.pageX)-(((ke=G.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Me=G.current)==null?void 0:Me.y)??0))}},me=Ce=>{se.x<=10&&se.y<=10?Ce.preventDefault():S.contains(Ce.target)||I(!1),document.removeEventListener("pointermove",de),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",me,{capture:!0})}}},[S,I,G]),b.useEffect(()=>{const se=()=>I(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[I]);const[ie,ve]=lE(se=>{const de=T().filter(ke=>!ke.disabled),me=de.find(ke=>ke.ref.current===document.activeElement),Ce=cE(de,se,me);Ce&&setTimeout(()=>Ce.ref.current.focus())}),A=b.useCallback((se,de,me)=>{const Ce=!oe.current&&!me;(x.value!==void 0&&x.value===de||Ce)&&(K(se),Ce&&(oe.current=!0))},[x.value]),q=b.useCallback(()=>S==null?void 0:S.focus(),[S]),H=b.useCallback((se,de,me)=>{const Ce=!oe.current&&!me;(x.value!==void 0&&x.value===de||Ce)&&M(se)},[x.value]),ne=r==="popper"?$w:HA,re=ne===$w?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:N}:{};return i.jsx(VA,{scope:n,content:S,viewport:P,onViewportChange:z,itemRefCallback:A,selectedItem:R,onItemLeave:q,itemTextRefCallback:H,focusSelectedItem:Q,selectedItemText:ee,position:r,isPositioned:V,searchRef:ie,children:i.jsx(gp,{as:Ga,allowPinchZoom:!0,children:i.jsx(pp,{asChild:!0,trapped:x.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:qe(s,se=>{var de;(de=x.trigger)==null||de.focus({preventScroll:!0}),se.preventDefault()}),children:i.jsx(fu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(ne,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:se=>se.preventDefault(),...y,...re,onPlaced:()=>U(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:qe(y.onKeyDown,se=>{const de=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!de&&se.key.length===1&&ve(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Ce=T().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const ke=se.target,Me=Ce.indexOf(ke);Ce=Ce.slice(Me+1)}setTimeout(()=>te(Ce)),se.preventDefault()}})})})})})})});WA.displayName=rW;var sW="SelectItemAlignedPosition",HA=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=uc(iu,n),o=dc(iu,n),[l,c]=b.useState(null),[u,d]=b.useState(null),h=zt(t,B=>d(B)),m=Bx(n),p=b.useRef(!1),w=b.useRef(!0),{viewport:v,selectedItem:N,selectedItemText:y,focusSelectedItem:x}=o,S=b.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&N&&y){const B=a.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),K=a.valueNode.getBoundingClientRect(),ee=y.getBoundingClientRect();if(a.dir!=="rtl"){const ke=ee.left-R.left,Me=K.left-ke,Fe=B.left-Me,at=B.width+Fe,Ne=Math.max(at,R.width),Z=window.innerWidth-Gi,pt=zw(Me,[Gi,Math.max(Gi,Z-Ne)]);l.style.minWidth=at+"px",l.style.left=pt+"px"}else{const ke=R.right-ee.right,Me=window.innerWidth-K.right-ke,Fe=window.innerWidth-B.right-Me,at=B.width+Fe,Ne=Math.max(at,R.width),Z=window.innerWidth-Gi,pt=zw(Me,[Gi,Math.max(Gi,Z-Ne)]);l.style.minWidth=at+"px",l.style.right=pt+"px"}const M=m(),T=window.innerHeight-Gi*2,V=v.scrollHeight,U=window.getComputedStyle(u),oe=parseInt(U.borderTopWidth,10),te=parseInt(U.paddingTop,10),Q=parseInt(U.borderBottomWidth,10),I=parseInt(U.paddingBottom,10),G=oe+te+V+I+Q,ie=Math.min(N.offsetHeight*5,G),ve=window.getComputedStyle(v),A=parseInt(ve.paddingTop,10),q=parseInt(ve.paddingBottom,10),H=B.top+B.height/2-Gi,ne=T-H,re=N.offsetHeight/2,se=N.offsetTop+re,de=oe+te+se,me=G-de;if(de<=H){const ke=M.length>0&&N===M[M.length-1].ref.current;l.style.bottom="0px";const Me=u.clientHeight-v.offsetTop-v.offsetHeight,Fe=Math.max(ne,re+(ke?q:0)+Me+Q),at=de+Fe;l.style.height=at+"px"}else{const ke=M.length>0&&N===M[0].ref.current;l.style.top="0px";const Fe=Math.max(H,oe+v.offsetTop+(ke?A:0)+re)+me;l.style.height=Fe+"px",v.scrollTop=de-H+v.offsetTop}l.style.margin=`${Gi}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,N,y,a.dir,r]);wr(()=>S(),[S]);const[k,P]=b.useState();wr(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const z=b.useCallback(B=>{B&&w.current===!0&&(S(),x==null||x(),w.current=!1)},[S,x]);return i.jsx(aW,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:z,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:i.jsx(ut.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});HA.displayName=sW;var iW="SelectPopperPosition",$w=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Gi,...a}=e,o=$x(n);return i.jsx(dx,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$w.displayName=iW;var[aW,W5]=Dh(iu,{}),Uw="SelectViewport",GA=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=dc(Uw,n),o=W5(Uw,n),l=zt(t,a.onViewportChange),c=b.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(zx.Slot,{scope:n,children:i.jsx(ut.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:qe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-Gi*2,v=parseFloat(h.style.minHeight),N=parseFloat(h.style.height),y=Math.max(v,N);if(y<w){const x=y+p,S=Math.min(w,x),k=x-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});GA.displayName=Uw;var YA="SelectGroup",[oW,lW]=Dh(YA),cW=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Pi();return i.jsx(oW,{scope:n,id:s,children:i.jsx(ut.div,{role:"group","aria-labelledby":s,...r,ref:t})})});cW.displayName=YA;var KA="SelectLabel",JA=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=lW(KA,n);return i.jsx(ut.div,{id:s.id,...r,ref:t})});JA.displayName=KA;var w0="SelectItem",[uW,XA]=Dh(w0),ZA=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=uc(w0,n),c=dc(w0,n),u=l.value===r,[d,h]=b.useState(a??""),[m,p]=b.useState(!1),w=zt(t,x=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,x,r,s)}),v=Pi(),N=b.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(uW,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:b.useCallback(x=>{h(S=>S||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(zx.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(ut.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:qe(o.onFocus,()=>p(!0)),onBlur:qe(o.onBlur,()=>p(!1)),onClick:qe(o.onClick,()=>{N.current!=="mouse"&&y()}),onPointerUp:qe(o.onPointerUp,()=>{N.current==="mouse"&&y()}),onPointerDown:qe(o.onPointerDown,x=>{N.current=x.pointerType}),onPointerMove:qe(o.onPointerMove,x=>{var S;N.current=x.pointerType,s?(S=c.onItemLeave)==null||S.call(c):N.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(o.onPointerLeave,x=>{var S;x.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:qe(o.onKeyDown,x=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&x.key===" "||(JV.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});ZA.displayName=w0;var Of="SelectItemText",QA=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=uc(Of,n),l=dc(Of,n),c=XA(Of,n),u=eW(Of,n),[d,h]=b.useState(null),m=zt(t,y=>h(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=b.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:N}=u;return wr(()=>(v(w),()=>N(w)),[v,N,w]),i.jsxs(i.Fragment,{children:[i.jsx(ut.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?hu.createPortal(a.children,o.valueNode):null]})});QA.displayName=Of;var eE="SelectItemIndicator",tE=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return XA(eE,n).isSelected?i.jsx(ut.span,{"aria-hidden":!0,...r,ref:t}):null});tE.displayName=eE;var qw="SelectScrollUpButton",nE=b.forwardRef((e,t)=>{const n=dc(qw,e.__scopeSelect),r=W5(qw,e.__scopeSelect),[s,a]=b.useState(!1),o=zt(t,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(sE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});nE.displayName=qw;var Vw="SelectScrollDownButton",rE=b.forwardRef((e,t)=>{const n=dc(Vw,e.__scopeSelect),r=W5(Vw,e.__scopeSelect),[s,a]=b.useState(!1),o=zt(t,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(sE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});rE.displayName=Vw;var sE=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=dc("SelectScrollButton",n),o=b.useRef(null),l=Bx(n),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),wr(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ut.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:qe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:qe(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:qe(s.onPointerLeave,()=>{c()})})}),dW="SelectSeparator",iE=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(ut.div,{"aria-hidden":!0,...r,ref:t})});iE.displayName=dW;var Ww="SelectArrow",hW=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=$x(n),a=uc(Ww,n),o=dc(Ww,n);return a.open&&o.position==="popper"?i.jsx(hx,{...s,...r,ref:t}):null});hW.displayName=Ww;function aE(e){return e===""||e===void 0}var oE=b.forwardRef((e,t)=>{const{value:n,...r}=e,s=b.useRef(null),a=zt(t,s),o=kA(n);return b.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[o,n]),i.jsx(Qm,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:n})})});oE.displayName="BubbleSelect";function lE(e){const t=Dn(e),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function cE(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=fW(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function fW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var mW=IA,uE=FA,pW=BA,gW=$A,vW=UA,dE=qA,xW=GA,hE=JA,fE=ZA,yW=QA,wW=tE,mE=nE,pE=rE,gE=iE;const xn=mW,yn=pW,cn=b.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(uE,{ref:r,className:et("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(gW,{asChild:!0,children:i.jsx(Bk,{className:"h-4 w-4 opacity-50"})})]}));cn.displayName=uE.displayName;const vE=b.forwardRef(({className:e,...t},n)=>i.jsx(mE,{ref:n,className:et("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Y7,{className:"h-4 w-4"})}));vE.displayName=mE.displayName;const xE=b.forwardRef(({className:e,...t},n)=>i.jsx(pE,{ref:n,className:et("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Bk,{className:"h-4 w-4"})}));xE.displayName=pE.displayName;const un=b.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(vW,{children:i.jsxs(dE,{ref:s,className:et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(vE,{}),i.jsx(xW,{className:et("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(xE,{})]})}));un.displayName=dE.displayName;const bW=b.forwardRef(({className:e,...t},n)=>i.jsx(hE,{ref:n,className:et("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));bW.displayName=hE.displayName;const Oe=b.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(fE,{ref:r,className:et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(wW,{children:i.jsx(zc,{className:"h-4 w-4"})})}),i.jsx(yW,{children:t})]}));Oe.displayName=fE.displayName;const jW=b.forwardRef(({className:e,...t},n)=>i.jsx(gE,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",e),...t}));jW.displayName=gE.displayName;const la=b.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:et("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));la.displayName="Textarea";const NW=({form:e})=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.jsx(Qr,{control:e.control,name:"address",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Adresse"}),i.jsx(Ir,{children:i.jsxs("div",{className:"relative",children:[i.jsx(ap,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(St,{className:"pl-8",placeholder:"123 Rue de Paris",...t})]})}),i.jsx(Or,{})]})})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Qr,{control:e.control,name:"postal_code",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Code postal"}),i.jsx(Ir,{children:i.jsx(St,{placeholder:"75001",...t})}),i.jsx(Or,{})]})}),i.jsx(Qr,{control:e.control,name:"city",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Ville"}),i.jsx(Ir,{children:i.jsx(St,{placeholder:"Paris",...t})}),i.jsx(Or,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Qr,{control:e.control,name:"type",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Type de bien"}),i.jsxs(xn,{onValueChange:t.onChange,defaultValue:t.value,children:[i.jsx(Ir,{children:i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionner un type"})})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"Appartement",children:"Appartement"}),i.jsx(Oe,{value:"Maison",children:"Maison"}),i.jsx(Oe,{value:"Local commercial",children:"Local commercial"}),i.jsx(Oe,{value:"Terrain",children:"Terrain"}),i.jsx(Oe,{value:"Autre",children:"Autre"})]})]}),i.jsx(Or,{})]})}),i.jsx(Qr,{control:e.control,name:"size_sqm",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Surface (m²)"}),i.jsx(Ir,{children:i.jsxs("div",{className:"relative",children:[i.jsx(dI,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(St,{className:"pl-8",type:"number",placeholder:"65",...t})]})}),i.jsx(Or,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(Qr,{control:e.control,name:"rooms",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Pièces"}),i.jsx(Ir,{children:i.jsxs("div",{className:"relative",children:[i.jsx(rs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(St,{className:"pl-8",type:"number",placeholder:"3",...t})]})}),i.jsx(Or,{})]})}),i.jsx(Qr,{control:e.control,name:"bedrooms",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Chambres"}),i.jsx(Ir,{children:i.jsxs("div",{className:"relative",children:[i.jsx($7,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(St,{className:"pl-8",type:"number",placeholder:"2",...t})]})}),i.jsx(Or,{})]})}),i.jsx(Qr,{control:e.control,name:"bathrooms",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Salles de bain"}),i.jsx(Ir,{children:i.jsxs("div",{className:"relative",children:[i.jsx(B7,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(St,{className:"pl-8",type:"number",placeholder:"1",...t})]})}),i.jsx(Or,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Qr,{control:e.control,name:"monthly_rent",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Loyer mensuel (€)"}),i.jsx(Ir,{children:i.jsxs("div",{className:"relative",children:[i.jsx(Kf,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(St,{className:"pl-8",type:"number",placeholder:"1200",...t})]})}),i.jsx(Or,{})]})}),i.jsx(Qr,{control:e.control,name:"status",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Statut"}),i.jsxs(xn,{onValueChange:t.onChange,defaultValue:t.value,children:[i.jsx(Ir,{children:i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionner un statut"})})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"vacant",children:"Vacant"}),i.jsx(Oe,{value:"occupied",children:"Occupé"}),i.jsx(Oe,{value:"maintenance",children:"En maintenance"})]})]}),i.jsx(Or,{})]})})]}),i.jsx(Qr,{control:e.control,name:"description",render:({field:t})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Description (facultatif)"}),i.jsx(Ir,{children:i.jsx(la,{placeholder:"Description du bien...",className:"resize-none min-h-[100px]",...t})}),i.jsx(Or,{})]})})]});var H5="Dialog",[yE,fne]=pa(H5),[_W,ga]=yE(H5),wE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[u=!1,d]=Ya({prop:r,defaultProp:s,onChange:a});return i.jsx(_W,{scope:t,triggerRef:l,contentRef:c,contentId:Pi(),titleId:Pi(),descriptionId:Pi(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};wE.displayName=H5;var bE="DialogTrigger",jE=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ga(bE,n),a=zt(t,s.triggerRef);return i.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":K5(s.open),...r,ref:a,onClick:qe(e.onClick,s.onOpenToggle)})});jE.displayName=bE;var G5="DialogPortal",[SW,NE]=yE(G5,{forceMount:void 0}),_E=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=ga(G5,t);return i.jsx(SW,{scope:t,forceMount:n,children:b.Children.map(r,o=>i.jsx($r,{present:n||a.open,children:i.jsx(Sh,{asChild:!0,container:s,children:o})}))})};_E.displayName=G5;var b0="DialogOverlay",SE=b.forwardRef((e,t)=>{const n=NE(b0,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=ga(b0,e.__scopeDialog);return a.modal?i.jsx($r,{present:r||a.open,children:i.jsx(CW,{...s,ref:t})}):null});SE.displayName=b0;var CW=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ga(b0,n);return i.jsx(gp,{as:Ga,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ut.div,{"data-state":K5(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),au="DialogContent",CE=b.forwardRef((e,t)=>{const n=NE(au,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=ga(au,e.__scopeDialog);return i.jsx($r,{present:r||a.open,children:a.modal?i.jsx(kW,{...s,ref:t}):i.jsx(PW,{...s,ref:t})})});CE.displayName=au;var kW=b.forwardRef((e,t)=>{const n=ga(au,e.__scopeDialog),r=b.useRef(null),s=zt(t,n.contentRef,r);return b.useEffect(()=>{const a=r.current;if(a)return Ox(a)},[]),i.jsx(kE,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,a=>a.preventDefault())})}),PW=b.forwardRef((e,t)=>{const n=ga(au,e.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return i.jsx(kE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),kE=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=ga(au,n),c=b.useRef(null),u=zt(t,c);return Ix(),i.jsxs(i.Fragment,{children:[i.jsx(pp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(fu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":K5(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(AW,{titleId:l.titleId}),i.jsx(LW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Y5="DialogTitle",PE=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ga(Y5,n);return i.jsx(ut.h2,{id:s.titleId,...r,ref:t})});PE.displayName=Y5;var AE="DialogDescription",EE=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ga(AE,n);return i.jsx(ut.p,{id:s.descriptionId,...r,ref:t})});EE.displayName=AE;var LE="DialogClose",TE=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ga(LE,n);return i.jsx(ut.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,()=>s.onOpenChange(!1))})});TE.displayName=LE;function K5(e){return e?"open":"closed"}var ME="DialogTitleWarning",[mne,RE]=QD(ME,{contentName:au,titleName:Y5,docsSlug:"dialog"}),AW=({titleId:e})=>{const t=RE(ME),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},EW="DialogDescriptionWarning",LW=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RE(EW).contentName}}.`;return b.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},TW=wE,MW=jE,RW=_E,DE=SE,IE=CE,OE=PE,FE=EE,DW=TE;const hc=TW,J5=MW,IW=RW,zE=b.forwardRef(({className:e,...t},n)=>i.jsx(DE,{ref:n,className:et("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));zE.displayName=DE.displayName;const Vo=b.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(IW,{children:[i.jsx(zE,{}),i.jsxs(IE,{ref:r,className:et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(DW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(za,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vo.displayName=IE.displayName;const Wo=({className:e,...t})=>i.jsx("div",{className:et("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wo.displayName="DialogHeader";const xp=({className:e,...t})=>i.jsx("div",{className:et("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xp.displayName="DialogFooter";const fc=b.forwardRef(({className:e,...t},n)=>i.jsx(OE,{ref:n,className:et("text-lg font-semibold leading-none tracking-tight",e),...t}));fc.displayName=OE.displayName;const X5=b.forwardRef(({className:e,...t},n)=>i.jsx(FE,{ref:n,className:et("text-sm text-muted-foreground",e),...t}));X5.displayName=FE.displayName;function OW({open:e,onOpenChange:t,onSuccess:n}){const{user:r}=sr(),{toast:s}=dn(),[a,o]=Ae.useState(!1),[l,c]=Ae.useState(null),u=wA({resolver:jA(tV),defaultValues:Dy}),d=async h=>{if(c(null),!(r!=null&&r.id)){s({title:"Erreur d'authentification",description:"Vous devez être connecté pour ajouter un bien",variant:"destructive"});return}o(!0);try{console.log("Submitting property data:",h),console.log("User ID:",r.id),await eV(h,r.id),s({title:"Bien ajouté avec succès",description:"Le bien immobilier a été ajouté à votre portefeuille"}),u.reset(Dy),t(!1),n&&n()}catch(m){console.error("Error adding property:",m),c(m.message||"Une erreur est survenue lors de l'ajout du bien"),s({title:"Erreur lors de l'ajout",description:m.message||"Une erreur est survenue lors de l'ajout du bien",variant:"destructive"})}finally{o(!1)}};return Ae.useEffect(()=>{e&&(u.reset(Dy),c(null))},[e,u]),i.jsx(hc,{open:e,onOpenChange:t,children:i.jsxs(Vo,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(Wo,{children:[i.jsxs(fc,{className:"flex items-center gap-2",children:[i.jsx(Ro,{className:"h-5 w-5"}),"Ajouter un bien"]}),i.jsx(X5,{children:"Complétez le formulaire pour ajouter un nouveau bien immobilier à votre portefeuille."})]}),l&&i.jsx("div",{className:"bg-destructive/10 p-3 rounded-md border border-destructive",children:i.jsx("p",{className:"text-sm text-destructive",children:l})}),i.jsx(NA,{...u,children:i.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-6",children:[i.jsx(NW,{form:u}),i.jsxs(xp,{children:[i.jsx(fe,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Annuler"}),i.jsx(fe,{type:"submit",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(sp,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajout en cours..."]}):"Ajouter le bien"})]})]})})]})})}const FW=({activeTab:e,onTabChange:t,searchTerm:n,onSearchChange:r,onAddPropertyClick:s})=>i.jsxs(st,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Biens"}),i.jsx(qt,{children:"Gérez votre portefeuille de biens immobiliers"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher...",className:"pl-9 w-full md:w-[250px]",value:n,onChange:r})]}),i.jsx(fe,{variant:"outline",size:"icon",className:"hidden md:flex",children:i.jsx(u5,{size:16})}),i.jsxs(fe,{className:"bg-cyan",onClick:s,children:[i.jsx(yr,{size:16,className:"mr-2"}),"Ajouter un bien"]})]})]}),i.jsx(fr,{defaultValue:e,value:e,onValueChange:t,className:"mt-6",children:i.jsxs(ir,{className:"grid grid-cols-4",children:[i.jsx(Ke,{value:"all",children:"Tous"}),i.jsx(Ke,{value:"occupied",children:"Occupés"}),i.jsx(Ke,{value:"vacant",children:"Vacants"}),i.jsx(Ke,{value:"maintenance",children:"En travaux"})]})})]}),zW=({id:e,address:t,city:n,postal_code:r,type:s,size_sqm:a,rooms:o,monthly_rent:l,status:c,onClick:u})=>{const d=({status:h})=>{switch(h){case"occupied":return i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Occupé"});case"vacant":return i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-700",children:"Vacant"});case"maintenance":return i.jsx(Ve,{variant:"outline",className:"bg-orange-50 text-orange-700",children:"En travaux"});default:return i.jsx(Ve,{children:"Inconnu"})}};return i.jsxs("div",{className:"overflow-hidden rounded-lg border bg-card text-card-foreground shadow-sm",children:[i.jsx("div",{className:"h-32 bg-gray-100 flex items-center justify-center",children:i.jsx(rs,{size:48,className:"text-gray-400"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-medium line-clamp-1",children:t}),i.jsx(d,{status:c})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[r," ",n]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3 text-xs font-medium",children:[i.jsxs("div",{className:"bg-gray-100 p-2 rounded text-center",children:[i.jsx("p",{className:"text-muted-foreground",children:"Type"}),i.jsx("p",{children:s})]}),i.jsxs("div",{className:"bg-gray-100 p-2 rounded text-center",children:[i.jsx("p",{className:"text-muted-foreground",children:"Surface"}),i.jsxs("p",{children:[a," m²"]})]}),i.jsxs("div",{className:"bg-gray-100 p-2 rounded text-center",children:[i.jsx("p",{className:"text-muted-foreground",children:"Pièces"}),i.jsx("p",{children:o})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Loyer mensuel"}),i.jsxs("p",{className:"font-semibold",children:[l,"€"]})]}),i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>u&&u(e),children:"Détails"})]})]})]})},BW=({searchTerm:e,onSearchChange:t,filterType:n,onFilterTypeChange:r,sortBy:s,onSortByChange:a,resultsCount:o})=>i.jsx(i.Fragment,{children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-6 gap-4",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:[o," bien(s) trouvés"]})}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{htmlFor:"type-filter",className:"text-sm whitespace-nowrap",children:"Type:"}),i.jsxs(xn,{value:n,onValueChange:r,children:[i.jsx(cn,{id:"type-filter",className:"w-[150px]",children:i.jsx(yn,{placeholder:"Tous"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"all",children:"Tous"}),i.jsx(Oe,{value:"apartment",children:"Appartement"}),i.jsx(Oe,{value:"house",children:"Maison"}),i.jsx(Oe,{value:"commercial",children:"Commercial"}),i.jsx(Oe,{value:"land",children:"Terrain"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{htmlFor:"sort-by",className:"text-sm whitespace-nowrap",children:"Trier par:"}),i.jsxs(xn,{value:s,onValueChange:a,children:[i.jsx(cn,{id:"sort-by",className:"w-[150px]",children:i.jsx(yn,{})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"address",children:"Adresse"}),i.jsx(Oe,{value:"rent_asc",children:"Loyer (croissant)"}),i.jsx(Oe,{value:"rent_desc",children:"Loyer (décroissant)"})]})]})]})]})]})}),$W=({properties:e,isLoading:t,filterType:n,onFilterTypeChange:r,sortBy:s,onSortByChange:a,onPropertyClick:o})=>t?i.jsx("div",{className:"flex justify-center py-10",children:i.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin fill-cyan",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),i.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}):e.length===0?i.jsxs("div",{className:"text-center py-10",children:[i.jsx("h3",{className:"font-medium text-lg mb-2",children:"Aucun bien trouvé"}),i.jsx("p",{className:"text-muted-foreground",children:"Modifiez vos filtres ou ajoutez un nouveau bien"})]}):i.jsxs(i.Fragment,{children:[i.jsx(BW,{searchTerm:"",onSearchChange:()=>{},filterType:n,onFilterTypeChange:r,sortBy:s,onSortByChange:a,resultsCount:e.length}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(l=>i.jsx(zW,{id:l.id,address:l.address,city:l.city,postal_code:l.postal_code,type:l.type,size_sqm:l.size_sqm,rooms:l.rooms,monthly_rent:l.monthly_rent,status:l.status,onClick:o},l.id))})]}),UW=async e=>{try{console.log("Fetching properties for manager:",e);const{data:t,error:n}=await Kt.from("properties").select(`
        id, 
        address, 
        city, 
        postal_code, 
        type, 
        size_sqm, 
        rooms, 
        bedrooms,
        bathrooms,
        monthly_rent, 
        status,
        manager_id,
        created_at,
        updated_at,
        description, 
        leases(
          tenant_id, 
          end_date,
          tenants:tenant_id(full_name)
        )
      `).eq("manager_id",e);if(n)throw console.error("Error fetching properties:",n),n;return t?(console.log("Properties fetched successfully:",t),t.map(s=>({id:s.id,address:s.address,city:s.city,postal_code:s.postal_code,type:s.type||"Appartement",size_sqm:s.size_sqm||0,rooms:s.rooms||0,bedrooms:s.bedrooms,bathrooms:s.bathrooms,monthly_rent:s.monthly_rent,status:s.status,manager_id:s.manager_id,created_at:s.created_at,updated_at:s.updated_at,description:s.description,leases:s.leases}))):(console.log("No properties found for manager:",e),[])}catch(t){throw console.error("Exception fetching properties:",t),t}},qW=()=>{const[e,t]=b.useState("all"),[n,r]=b.useState(""),[s,a]=b.useState("address"),[o,l]=b.useState("all"),[c,u]=b.useState([]),[d,h]=b.useState(!0),[m,p]=b.useState(!1),{user:w}=sr(),{toast:v}=dn(),N=async()=>{if(!(w!=null&&w.id)){console.log("No user ID available, can't fetch properties"),h(!1);return}h(!0);try{console.log("Fetching properties for user ID:",w.id);const z=await UW(w.id);console.log("Properties fetched:",z),u(z)}catch(z){console.error("Error fetching properties:",z),v({title:"Erreur de chargement",description:"Impossible de charger les biens immobiliers",variant:"destructive"})}finally{h(!1)}};b.useEffect(()=>{w!=null&&w.id&&N()},[w==null?void 0:w.id]);const x=[...c.filter(z=>!(e==="occupied"&&z.status!=="occupied"||e==="vacant"&&z.status!=="vacant"||e==="maintenance"&&z.status!=="maintenance"||n&&!z.address.toLowerCase().includes(n.toLowerCase())&&!z.city.toLowerCase().includes(n.toLowerCase())||o!=="all"&&z.type!==o))].sort((z,B)=>s==="address"?z.address.localeCompare(B.address):s==="rent_asc"?z.monthly_rent-B.monthly_rent:s==="rent_desc"?B.monthly_rent-z.monthly_rent:0),S=()=>{console.log("Property added successfully, refreshing list"),N(),v({title:"Propriété ajoutée",description:"La propriété a été ajoutée avec succès"})},k=z=>{r(z.target.value)},P=z=>{console.log("Property clicked:",z)};return i.jsxs(Ur,{title:"Biens immobiliers",children:[i.jsxs($e,{children:[i.jsx(FW,{activeTab:e,onTabChange:t,searchTerm:n,onSearchChange:k,onAddPropertyClick:()=>p(!0)}),i.jsx(Ue,{children:i.jsx($W,{properties:x,isLoading:d,filterType:o,onFilterTypeChange:l,sortBy:s,onSortByChange:a,onPropertyClick:P})})]}),i.jsx(OW,{open:m,onOpenChange:p,onSuccess:S})]})};var Z5="Avatar",[VW,pne]=pa(Z5),[WW,BE]=VW(Z5),$E=b.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=b.useState("idle");return i.jsx(WW,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(ut.span,{...r,ref:t})})});$E.displayName=Z5;var UE="AvatarImage",qE=b.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,o=BE(UE,n),l=HW(r,a.referrerPolicy),c=Dn(u=>{s(u),o.onImageLoadingStatusChange(u)});return wr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ut.img,{...a,ref:t,src:r}):null});qE.displayName=UE;var VE="AvatarFallback",WE=b.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=BE(VE,n),[o,l]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(ut.span,{...s,ref:t}):null});WE.displayName=VE;function HW(e,t){const[n,r]=b.useState("idle");return wr(()=>{if(!e){r("error");return}let s=!0;const a=new window.Image,o=l=>()=>{s&&r(l)};return r("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var HE=$E,GE=qE,YE=WE;const ou=b.forwardRef(({className:e,...t},n)=>i.jsx(HE,{ref:n,className:et("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ou.displayName=HE.displayName;const GW=b.forwardRef(({className:e,...t},n)=>i.jsx(GE,{ref:n,className:et("aspect-square h-full w-full",e),...t}));GW.displayName=GE.displayName;const lu=b.forwardRef(({className:e,...t},n)=>i.jsx(YE,{ref:n,className:et("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));lu.displayName=YE.displayName;var Hw=["Enter"," "],YW=["ArrowDown","PageUp","Home"],KE=["ArrowUp","PageDown","End"],KW=[...YW,...KE],JW={ltr:[...Hw,"ArrowRight"],rtl:[...Hw,"ArrowLeft"]},XW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yp="Menu",[Um,ZW,QW]=K0(yp),[pu,JE]=pa(yp,[QW,ac,Lx]),Ux=ac(),XE=Lx(),[eH,gu]=pu(yp),[tH,wp]=pu(yp),ZE=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:o=!0}=e,l=Ux(t),[c,u]=b.useState(null),d=b.useRef(!1),h=Dn(a),m=fp(s);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),i.jsx(ux,{...l,children:i.jsx(eH,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(tH,{scope:t,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};ZE.displayName=yp;var nH="MenuAnchor",Q5=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ux(n);return i.jsx(cp,{...s,...r,ref:t})});Q5.displayName=nH;var ej="MenuPortal",[rH,QE]=pu(ej,{forceMount:void 0}),e8=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=gu(ej,t);return i.jsx(rH,{scope:t,forceMount:n,children:i.jsx($r,{present:n||a.open,children:i.jsx(Sh,{asChild:!0,container:s,children:r})})})};e8.displayName=ej;var Ai="MenuContent",[sH,tj]=pu(Ai),t8=b.forwardRef((e,t)=>{const n=QE(Ai,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=gu(Ai,e.__scopeMenu),o=wp(Ai,e.__scopeMenu);return i.jsx(Um.Provider,{scope:e.__scopeMenu,children:i.jsx($r,{present:r||a.open,children:i.jsx(Um.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(iH,{...s,ref:t}):i.jsx(aH,{...s,ref:t})})})})}),iH=b.forwardRef((e,t)=>{const n=gu(Ai,e.__scopeMenu),r=b.useRef(null),s=zt(t,r);return b.useEffect(()=>{const a=r.current;if(a)return Ox(a)},[]),i.jsx(nj,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:qe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),aH=b.forwardRef((e,t)=>{const n=gu(Ai,e.__scopeMenu);return i.jsx(nj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),nj=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:w,...v}=e,N=gu(Ai,n),y=wp(Ai,n),x=Ux(n),S=XE(n),k=ZW(n),[P,z]=b.useState(null),B=b.useRef(null),R=zt(t,B,N.onContentChange),K=b.useRef(0),ee=b.useRef(""),M=b.useRef(0),T=b.useRef(null),V=b.useRef("right"),U=b.useRef(0),oe=w?gp:b.Fragment,te=w?{as:Ga,allowPinchZoom:!0}:void 0,Q=G=>{var se,de;const ie=ee.current+G,ve=k().filter(me=>!me.disabled),A=document.activeElement,q=(se=ve.find(me=>me.ref.current===A))==null?void 0:se.textValue,H=ve.map(me=>me.textValue),ne=xH(H,ie,q),re=(de=ve.find(me=>me.textValue===ne))==null?void 0:de.ref.current;(function me(Ce){ee.current=Ce,window.clearTimeout(K.current),Ce!==""&&(K.current=window.setTimeout(()=>me(""),1e3))})(ie),re&&setTimeout(()=>re.focus())};b.useEffect(()=>()=>window.clearTimeout(K.current),[]),Ix();const I=b.useCallback(G=>{var ve,A;return V.current===((ve=T.current)==null?void 0:ve.side)&&wH(G,(A=T.current)==null?void 0:A.area)},[]);return i.jsx(sH,{scope:n,searchRef:ee,onItemEnter:b.useCallback(G=>{I(G)&&G.preventDefault()},[I]),onItemLeave:b.useCallback(G=>{var ie;I(G)||((ie=B.current)==null||ie.focus(),z(null))},[I]),onTriggerLeave:b.useCallback(G=>{I(G)&&G.preventDefault()},[I]),pointerGraceTimerRef:M,onPointerGraceIntentChange:b.useCallback(G=>{T.current=G},[]),children:i.jsx(oe,{...te,children:i.jsx(pp,{asChild:!0,trapped:s,onMountAutoFocus:qe(a,G=>{var ie;G.preventDefault(),(ie=B.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(fu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:i.jsx(DP,{asChild:!0,...S,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:z,onEntryFocus:qe(c,G=>{y.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(dx,{role:"menu","aria-orientation":"vertical","data-state":v8(N.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:R,style:{outline:"none",...v.style},onKeyDown:qe(v.onKeyDown,G=>{const ve=G.target.closest("[data-radix-menu-content]")===G.currentTarget,A=G.ctrlKey||G.altKey||G.metaKey,q=G.key.length===1;ve&&(G.key==="Tab"&&G.preventDefault(),!A&&q&&Q(G.key));const H=B.current;if(G.target!==H||!KW.includes(G.key))return;G.preventDefault();const re=k().filter(se=>!se.disabled).map(se=>se.ref.current);KE.includes(G.key)&&re.reverse(),gH(re)}),onBlur:qe(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(K.current),ee.current="")}),onPointerMove:qe(e.onPointerMove,qm(G=>{const ie=G.target,ve=U.current!==G.clientX;if(G.currentTarget.contains(ie)&&ve){const A=G.clientX>U.current?"right":"left";V.current=A,U.current=G.clientX}}))})})})})})})});t8.displayName=Ai;var oH="MenuGroup",rj=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(ut.div,{role:"group",...r,ref:t})});rj.displayName=oH;var lH="MenuLabel",n8=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(ut.div,{...r,ref:t})});n8.displayName=lH;var j0="MenuItem",F_="menu.itemSelect",qx=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=b.useRef(null),o=wp(j0,e.__scopeMenu),l=tj(j0,e.__scopeMenu),c=zt(t,a),u=b.useRef(!1),d=()=>{const h=a.current;if(!n&&h){const m=new CustomEvent(F_,{bubbles:!0,cancelable:!0});h.addEventListener(F_,p=>r==null?void 0:r(p),{once:!0}),s5(h,m),m.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(r8,{...s,ref:c,disabled:n,onClick:qe(e.onClick,d),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:qe(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:qe(e.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||Hw.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});qx.displayName=j0;var r8=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,o=tj(j0,n),l=XE(n),c=b.useRef(null),u=zt(t,c),[d,h]=b.useState(!1),[m,p]=b.useState("");return b.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[a.children]),i.jsx(Um.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:i.jsx(IP,{asChild:!0,...l,focusable:!r,children:i.jsx(ut.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:qe(e.onPointerMove,qm(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:qe(e.onPointerLeave,qm(w=>o.onItemLeave(w))),onFocus:qe(e.onFocus,()=>h(!0)),onBlur:qe(e.onBlur,()=>h(!1))})})})}),cH="MenuCheckboxItem",s8=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(c8,{scope:e.__scopeMenu,checked:n,children:i.jsx(qx,{role:"menuitemcheckbox","aria-checked":N0(n)?"mixed":n,...s,ref:t,"data-state":ij(n),onSelect:qe(s.onSelect,()=>r==null?void 0:r(N0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});s8.displayName=cH;var i8="MenuRadioGroup",[uH,dH]=pu(i8,{value:void 0,onValueChange:()=>{}}),a8=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=Dn(r);return i.jsx(uH,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(rj,{...s,ref:t})})});a8.displayName=i8;var o8="MenuRadioItem",l8=b.forwardRef((e,t)=>{const{value:n,...r}=e,s=dH(o8,e.__scopeMenu),a=n===s.value;return i.jsx(c8,{scope:e.__scopeMenu,checked:a,children:i.jsx(qx,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":ij(a),onSelect:qe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});l8.displayName=o8;var sj="MenuItemIndicator",[c8,hH]=pu(sj,{checked:!1}),u8=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=hH(sj,n);return i.jsx($r,{present:r||N0(a.checked)||a.checked===!0,children:i.jsx(ut.span,{...s,ref:t,"data-state":ij(a.checked)})})});u8.displayName=sj;var fH="MenuSeparator",d8=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(ut.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});d8.displayName=fH;var mH="MenuArrow",h8=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ux(n);return i.jsx(hx,{...s,...r,ref:t})});h8.displayName=mH;var pH="MenuSub",[gne,f8]=pu(pH),Ff="MenuSubTrigger",m8=b.forwardRef((e,t)=>{const n=gu(Ff,e.__scopeMenu),r=wp(Ff,e.__scopeMenu),s=f8(Ff,e.__scopeMenu),a=tj(Ff,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(Q5,{asChild:!0,...u,children:i.jsx(r8,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":v8(n.open),...e,ref:Y0(t,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:qe(e.onPointerMove,qm(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:qe(e.onPointerLeave,qm(h=>{var p,w;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(w=n.content)==null?void 0:w.dataset.side,N=v==="right",y=N?-5:5,x=m[N?"left":"right"],S=m[N?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:qe(e.onKeyDown,h=>{var p;const m=a.searchRef.current!=="";e.disabled||m&&h.key===" "||JW[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});m8.displayName=Ff;var p8="MenuSubContent",g8=b.forwardRef((e,t)=>{const n=QE(Ai,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=gu(Ai,e.__scopeMenu),o=wp(Ai,e.__scopeMenu),l=f8(p8,e.__scopeMenu),c=b.useRef(null),u=zt(t,c);return i.jsx(Um.Provider,{scope:e.__scopeMenu,children:i.jsx($r,{present:r||a.open,children:i.jsx(Um.Slot,{scope:e.__scopeMenu,children:i.jsx(nj,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:qe(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:qe(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:qe(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),m=XW[o.dir].includes(d.key);h&&m&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});g8.displayName=p8;function v8(e){return e?"open":"closed"}function N0(e){return e==="indeterminate"}function ij(e){return N0(e)?"indeterminate":e?"checked":"unchecked"}function gH(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function vH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function xH(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=vH(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function yH(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function wH(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return yH(n,t)}function qm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var bH=ZE,jH=Q5,NH=e8,_H=t8,SH=rj,CH=n8,kH=qx,PH=s8,AH=a8,EH=l8,LH=u8,TH=d8,MH=h8,RH=m8,DH=g8,aj="DropdownMenu",[IH,vne]=pa(aj,[JE]),bs=JE(),[OH,x8]=IH(aj),y8=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=bs(t),u=b.useRef(null),[d=!1,h]=Ya({prop:s,defaultProp:a,onChange:o});return i.jsx(OH,{scope:t,triggerId:Pi(),triggerRef:u,contentId:Pi(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),modal:l,children:i.jsx(bH,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};y8.displayName=aj;var w8="DropdownMenuTrigger",b8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=x8(w8,n),o=bs(n);return i.jsx(jH,{asChild:!0,...o,children:i.jsx(ut.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Y0(t,a.triggerRef),onPointerDown:qe(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:qe(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});b8.displayName=w8;var FH="DropdownMenuPortal",j8=e=>{const{__scopeDropdownMenu:t,...n}=e,r=bs(t);return i.jsx(NH,{...r,...n})};j8.displayName=FH;var N8="DropdownMenuContent",_8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=x8(N8,n),a=bs(n),o=b.useRef(!1);return i.jsx(_H,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:qe(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:qe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_8.displayName=N8;var zH="DropdownMenuGroup",BH=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(SH,{...s,...r,ref:t})});BH.displayName=zH;var $H="DropdownMenuLabel",S8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(CH,{...s,...r,ref:t})});S8.displayName=$H;var UH="DropdownMenuItem",C8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(kH,{...s,...r,ref:t})});C8.displayName=UH;var qH="DropdownMenuCheckboxItem",k8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(PH,{...s,...r,ref:t})});k8.displayName=qH;var VH="DropdownMenuRadioGroup",WH=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(AH,{...s,...r,ref:t})});WH.displayName=VH;var HH="DropdownMenuRadioItem",P8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(EH,{...s,...r,ref:t})});P8.displayName=HH;var GH="DropdownMenuItemIndicator",A8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(LH,{...s,...r,ref:t})});A8.displayName=GH;var YH="DropdownMenuSeparator",E8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(TH,{...s,...r,ref:t})});E8.displayName=YH;var KH="DropdownMenuArrow",JH=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(MH,{...s,...r,ref:t})});JH.displayName=KH;var XH="DropdownMenuSubTrigger",L8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(RH,{...s,...r,ref:t})});L8.displayName=XH;var ZH="DropdownMenuSubContent",T8=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bs(n);return i.jsx(DH,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T8.displayName=ZH;var QH=y8,eG=b8,tG=j8,M8=_8,R8=S8,D8=C8,I8=k8,O8=P8,F8=A8,z8=E8,B8=L8,$8=T8;const Vx=QH,Wx=eG,nG=b.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(B8,{ref:s,className:et("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,i.jsx(np,{className:"ml-auto h-4 w-4"})]}));nG.displayName=B8.displayName;const rG=b.forwardRef(({className:e,...t},n)=>i.jsx($8,{ref:n,className:et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));rG.displayName=$8.displayName;const bp=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(tG,{children:i.jsx(M8,{ref:r,sideOffset:t,className:et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));bp.displayName=M8.displayName;const hr=b.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(D8,{ref:r,className:et("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));hr.displayName=D8.displayName;const sG=b.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(I8,{ref:s,className:et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(F8,{children:i.jsx(zc,{className:"h-4 w-4"})})}),t]}));sG.displayName=I8.displayName;const iG=b.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(O8,{ref:r,className:et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(F8,{children:i.jsx(J7,{className:"h-2 w-2 fill-current"})})}),t]}));iG.displayName=O8.displayName;const jp=b.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(R8,{ref:r,className:et("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));jp.displayName=R8.displayName;const zo=b.forwardRef(({className:e,...t},n)=>i.jsx(z8,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",e),...t}));zo.displayName=z8.displayName;const aG=[{id:"1",name:"Jean Dupont",email:"jean.dupont@example.com",phone:"06 12 34 56 78",property:"123 Rue de Paris, 75001 Paris",rentAmount:850,leaseStartDate:"2022-10-01",leaseEndDate:"2025-10-01",status:"active",documentsStatus:"complete",lastPayment:"2023-07-05",paymentStatus:"on_time"},{id:"2",name:"Marie Lenoir",email:"marie.lenoir@example.com",phone:"06 98 76 54 32",property:"45 Avenue Victor Hugo, 69001 Lyon",rentAmount:950,leaseStartDate:"2022-05-15",leaseEndDate:"2025-05-15",status:"active",documentsStatus:"missing",lastPayment:"2023-07-03",paymentStatus:"on_time"},{id:"3",name:"Pierre Martin",email:"pierre.martin@example.com",phone:"06 55 44 33 22",property:"8 Rue des Fleurs, 33000 Bordeaux",rentAmount:1050,leaseStartDate:"2023-01-01",leaseEndDate:"2026-01-01",status:"active",documentsStatus:"incomplete",lastPayment:"2023-07-10",paymentStatus:"late"},{id:"4",name:"Sophie Bernard",email:"sophie.bernard@example.com",phone:"06 11 22 33 44",property:"12 Rue du Commerce, 44000 Nantes",rentAmount:700,leaseStartDate:"2021-12-01",leaseEndDate:"2024-12-01",status:"notice",documentsStatus:"complete",lastPayment:"2023-07-02",paymentStatus:"on_time",noticeDate:"2023-09-01"}],oG=({status:e})=>{switch(e){case"on_time":return i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Paiement à jour"});case"late":return i.jsx(Ve,{variant:"destructive",children:"Retard de paiement"});default:return i.jsx(Ve,{children:"Inconnu"})}},lG=({status:e})=>{switch(e){case"active":return i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Actif"});case"notice":return i.jsx(Ve,{variant:"outline",className:"bg-orange-50 text-orange-700",children:"Préavis"});default:return i.jsx(Ve,{children:"Inconnu"})}},cG=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),s=aG.filter(a=>!(e&&!a.name.toLowerCase().includes(e.toLowerCase())&&!a.property.toLowerCase().includes(e.toLowerCase())&&!a.email.toLowerCase().includes(e.toLowerCase())||n&&a.status!==n));return i.jsx(Ur,{title:"Locataires",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Locataires"}),i.jsx(qt,{children:"Gérez vos locataires et leurs informations"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher...",className:"pl-9 w-full md:w-[250px]",value:e,onChange:a=>t(a.target.value)})]}),i.jsxs(fe,{className:"bg-cyan",children:[i.jsx(yr,{size:16,className:"mr-2"}),"Nouveau locataire"]})]})]})}),i.jsx(Ue,{children:i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Nom"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden md:table-cell",children:"Bien"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden lg:table-cell",children:"Loyer"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden lg:table-cell",children:"Fin du bail"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden md:table-cell",children:"Statut"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),i.jsx("tbody",{children:s.map(a=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ou,{className:"h-8 w-8",children:i.jsx(lu,{children:a.name.charAt(0)})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:a.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a.email})]})]})}),i.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:i.jsx("p",{className:"line-clamp-1",children:a.property})}),i.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:i.jsxs("p",{children:[a.rentAmount,"€ / mois"]})}),i.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:i.jsx("p",{children:a.leaseEndDate})}),i.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(lG,{status:a.status}),i.jsx(oG,{status:a.paymentStatus})]})}),i.jsx("td",{className:"py-3 px-4 text-center",children:i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx(fe,{variant:"ghost",size:"icon",title:"Envoyer un email",children:i.jsx(ip,{size:16})}),i.jsx(fe,{variant:"ghost",size:"icon",title:"Appeler",children:i.jsx(tx,{size:16})}),i.jsxs(Vx,{children:[i.jsx(Wx,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon",children:i.jsx(Z0,{size:16})})}),i.jsxs(bp,{align:"end",children:[i.jsx(jp,{children:"Actions"}),i.jsx(zo,{}),i.jsx(hr,{children:"Voir détails"}),i.jsx(hr,{children:"Modifier"}),i.jsx(hr,{children:"Documents"}),i.jsx(hr,{children:"Historique des paiements"}),i.jsx(zo,{}),i.jsx(hr,{className:"text-destructive",children:"Supprimer"})]})]})]})})]},a.id))})]}),s.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx("h3",{className:"font-medium text-lg mb-2",children:"Aucun locataire trouvé"}),i.jsx("p",{className:"text-muted-foreground",children:"Modifiez votre recherche ou ajoutez un nouveau locataire"})]})]})})]})})},uG=[{id:"1",title:"Problème de plomberie - Salle de bain",property:"123 Rue de Paris, 75001 Paris",tenant:"M. Dupont",createdAt:"2023-07-25",status:"in_progress",urgent:!0,type:"plumbing"},{id:"2",title:"Chauffage en panne",property:"45 Avenue Victor Hugo, 69001 Lyon",tenant:"Mme. Lenoir",createdAt:"2023-07-24",status:"new",urgent:!1,type:"heating"},{id:"3",title:"Problème électrique - Cuisine",property:"8 Rue des Fleurs, 33000 Bordeaux",tenant:"M. Martin",createdAt:"2023-07-22",status:"scheduled",scheduledDate:"2023-07-28",urgent:!1,type:"electrical"},{id:"4",title:"Fenêtre cassée - Salon",property:"12 Rue du Commerce, 44000 Nantes",tenant:"Mme. Bernard",createdAt:"2023-07-20",status:"resolved",resolvedDate:"2023-07-21",urgent:!0,type:"structural"}],dG={plumbing:"Plomberie",heating:"Chauffage",electrical:"Électricité",structural:"Structure",appliance:"Électroménager",other:"Autre"},hG=({status:e})=>{switch(e){case"new":return i.jsx(Ve,{children:"Nouveau"});case"in_progress":return i.jsx(Ve,{variant:"secondary",children:"En cours"});case"scheduled":return i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-700",children:"Programmé"});case"resolved":return i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Résolu"});default:return i.jsx(Ve,{children:"Inconnu"})}},fG=()=>{const e=br(),[t,n]=b.useState("all"),[r,s]=b.useState(""),[a,o]=b.useState("newest"),[l,c]=b.useState("all"),d=[...uG.filter(h=>!(t==="resolved"&&h.status!=="resolved"||t==="active"&&h.status==="resolved"||t==="urgent"&&!h.urgent||r&&!h.title.toLowerCase().includes(r.toLowerCase())&&!h.property.toLowerCase().includes(r.toLowerCase())&&!h.tenant.toLowerCase().includes(r.toLowerCase())||l!=="all"&&h.type!==l))].sort((h,m)=>a==="newest"?new Date(m.createdAt).getTime()-new Date(h.createdAt).getTime():a==="oldest"?new Date(h.createdAt).getTime()-new Date(m.createdAt).getTime():0);return i.jsx(Ur,{title:"Tickets",children:i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Signalements"}),i.jsx(qt,{children:"Gérez les demandes d'intervention des locataires"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher...",className:"pl-9 w-full md:w-[250px]",value:r,onChange:h=>s(h.target.value)})]}),i.jsx(fe,{variant:"outline",size:"icon",className:"hidden md:flex",title:"Filtres",children:i.jsx(u5,{size:16})})]})]}),i.jsx(fr,{defaultValue:"all",value:t,onValueChange:n,className:"mt-6",children:i.jsxs(ir,{className:"grid grid-cols-4",children:[i.jsx(Ke,{value:"all",children:"Tous"}),i.jsx(Ke,{value:"active",children:"En cours"}),i.jsx(Ke,{value:"urgent",children:"Urgents"}),i.jsx(Ke,{value:"resolved",children:"Résolus"})]})})]}),i.jsxs(Ue,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-6 gap-4",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.length," ticket(s) trouvés"]})}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{htmlFor:"type-filter",className:"text-sm whitespace-nowrap",children:"Type:"}),i.jsxs(xn,{value:l,onValueChange:c,children:[i.jsx(cn,{id:"type-filter",className:"w-[150px]",children:i.jsx(yn,{placeholder:"Tous"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"all",children:"Tous"}),i.jsx(Oe,{value:"plumbing",children:"Plomberie"}),i.jsx(Oe,{value:"electrical",children:"Électricité"}),i.jsx(Oe,{value:"heating",children:"Chauffage"}),i.jsx(Oe,{value:"structural",children:"Structure"}),i.jsx(Oe,{value:"appliance",children:"Électroménager"}),i.jsx(Oe,{value:"other",children:"Autre"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{htmlFor:"sort-by",className:"text-sm whitespace-nowrap",children:"Trier par:"}),i.jsxs(xn,{value:a,onValueChange:o,children:[i.jsx(cn,{id:"sort-by",className:"w-[150px]",children:i.jsx(yn,{})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"newest",children:"Plus récents"}),i.jsx(Oe,{value:"oldest",children:"Plus anciens"})]})]})]})]})]}),d.length>0?i.jsx("div",{className:"space-y-3",children:d.map(h=>i.jsxs("div",{className:"border border-gray-200 rounded-md p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>e(`/tickets/${h.id}`),children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[h.urgent&&i.jsx(Qa,{size:16,className:"text-destructive"}),i.jsx("h3",{className:"font-medium",children:h.title})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[i.jsx(hG,{status:h.status}),i.jsx(Ve,{variant:"outline",children:dG[h.type]||h.type})]})]}),i.jsx(fe,{variant:"ghost",size:"sm",className:"hidden md:block",children:"Voir détails"})]}),i.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Propriété"}),i.jsx("p",{className:"truncate",children:h.property})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Locataire"}),i.jsx("p",{children:h.tenant})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Date"}),i.jsx("p",{children:h.createdAt})]})]})]},h.id))}):i.jsxs("div",{className:"text-center py-10",children:[i.jsx("h3",{className:"font-medium text-lg mb-2",children:"Aucun ticket trouvé"}),i.jsx("p",{className:"text-muted-foreground",children:"Modifiez vos filtres ou créez un nouveau ticket"})]})]})]})})},mG=[{id:"1",name:"Contrat de bail - Dupont.pdf",type:"lease",format:"pdf",size:"2.4 MB",uploadedAt:"2023-03-15",property:"123 Rue de Paris",tenant:"M. Dupont",category:"contracts"},{id:"2",name:"État des lieux - Entrée - Lenoir.pdf",type:"inventory",format:"pdf",size:"3.8 MB",uploadedAt:"2022-05-15",property:"45 Avenue Victor Hugo",tenant:"Mme. Lenoir",category:"inventory"},{id:"3",name:"Quittances de loyer - Martin - Juin 2023.pdf",type:"receipt",format:"pdf",size:"0.5 MB",uploadedAt:"2023-07-01",property:"8 Rue des Fleurs",tenant:"M. Martin",category:"receipts"},{id:"4",name:"Diagnostics - 12 Rue du Commerce.zip",type:"diagnostics",format:"zip",size:"15.2 MB",uploadedAt:"2021-11-28",property:"12 Rue du Commerce",tenant:"Mme. Bernard",category:"diagnostics"},{id:"5",name:"Photos - Dégât des eaux - Appartement 3B.jpg",type:"photos",format:"jpg",size:"4.1 MB",uploadedAt:"2023-06-10",property:"123 Rue de Paris",tenant:"M. Dupont",category:"maintenance"}],pG=({format:e})=>{switch(e){case"pdf":return i.jsx(Ut,{size:20,className:"text-red-500"});case"jpg":case"png":case"gif":return i.jsx(Q0,{size:20,className:"text-blue-500"});case"zip":case"rar":return i.jsx(c5,{size:20,className:"text-purple-500"});default:return i.jsx(lh,{size:20,className:"text-gray-500"})}},gG={contracts:"Contrats",inventory:"États des lieux",receipts:"Quittances",diagnostics:"Diagnostics",maintenance:"Maintenance",other:"Autres"},vG=()=>{const[e,t]=b.useState("all"),[n,r]=b.useState(""),[s,a]=b.useState(""),o=mG.filter(l=>!(e!=="all"&&l.category!==e||n&&!l.name.toLowerCase().includes(n.toLowerCase())&&!l.property.toLowerCase().includes(n.toLowerCase())&&!(l.tenant&&l.tenant.toLowerCase().includes(n.toLowerCase()))||s&&l.category!==s));return i.jsx(Ur,{title:"Centre de documents",children:i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Documents"}),i.jsx(qt,{children:"Gérez vos documents liés aux biens et locataires"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher...",className:"pl-9 w-full md:w-[250px]",value:n,onChange:l=>r(l.target.value)})]}),i.jsxs(fe,{className:"bg-cyan",children:[i.jsx(yr,{size:16,className:"mr-2"}),"Ajouter un document"]})]})]}),i.jsx(fr,{defaultValue:"all",value:e,onValueChange:t,className:"mt-6",children:i.jsxs(ir,{className:"grid grid-cols-3 md:grid-cols-6 mb-2",children:[i.jsx(Ke,{value:"all",children:"Tous"}),i.jsx(Ke,{value:"contracts",children:"Contrats"}),i.jsx(Ke,{value:"inventory",children:"États des lieux"}),i.jsx(Ke,{value:"receipts",children:"Quittances"}),i.jsx(Ke,{value:"diagnostics",children:"Diagnostics"}),i.jsx(Ke,{value:"maintenance",children:"Maintenance"})]})})]}),i.jsx(Ue,{children:i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Document"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden md:table-cell",children:"Propriété"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden lg:table-cell",children:"Locataire"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden md:table-cell",children:"Date"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden lg:table-cell",children:"Taille"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),i.jsx("tbody",{children:o.map(l=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pG,{format:l.format}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium truncate max-w-[200px]",children:l.name}),i.jsx(Ve,{variant:"outline",className:"mt-1",children:gG[l.category]||l.category})]})]})}),i.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:i.jsx("p",{className:"truncate max-w-[150px]",children:l.property})}),i.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:i.jsx("p",{children:l.tenant||"-"})}),i.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:i.jsx("p",{children:l.uploadedAt})}),i.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:i.jsx("p",{children:l.size})}),i.jsx("td",{className:"py-3 px-4 text-center",children:i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx(fe,{variant:"ghost",size:"icon",title:"Télécharger",children:i.jsx(zr,{size:16})}),i.jsx(fe,{variant:"ghost",size:"icon",title:"Voir",children:i.jsx(oh,{size:16})}),i.jsxs(Vx,{children:[i.jsx(Wx,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon",children:i.jsx(Z0,{size:16})})}),i.jsxs(bp,{align:"end",children:[i.jsx(jp,{children:"Actions"}),i.jsx(zo,{}),i.jsxs(hr,{children:[i.jsx(oh,{size:16,className:"mr-2"})," Voir"]}),i.jsxs(hr,{children:[i.jsx(zr,{size:16,className:"mr-2"})," Télécharger"]}),i.jsxs(hr,{children:[i.jsx(sx,{size:16,className:"mr-2"})," Partager"]}),i.jsx(zo,{}),i.jsxs(hr,{className:"text-destructive",children:[i.jsx(op,{size:16,className:"mr-2"})," Supprimer"]})]})]})]})})]},l.id))})]}),o.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx(Ut,{size:48,className:"mx-auto mb-3 text-muted-foreground"}),i.jsx("h3",{className:"font-medium text-lg mb-2",children:"Aucun document trouvé"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Modifiez votre recherche ou ajoutez un nouveau document"}),i.jsxs(fe,{className:"bg-cyan",children:[i.jsx(yr,{size:16,className:"mr-2"}),"Ajouter un document"]})]})]})})]})})},z_=[{id:"1",name:"Marie Durand",email:"marie.durand@example.com",phone:"06 78 90 12 34",properties:2,totalRent:1800,lastReport:"Juillet 2023"},{id:"2",name:"Thomas Laurent",email:"thomas.laurent@example.com",phone:"06 12 34 56 78",properties:1,totalRent:950,lastReport:"Juillet 2023"},{id:"3",name:"Société Immobilière Paris",email:"contact@si-paris.fr",phone:"01 23 45 67 89",properties:4,totalRent:4500,lastReport:"Juillet 2023"}],B_=[{id:"1",name:"Rapport de gestion - Marie Durand - Juillet 2023",owner:"Marie Durand",ownerId:"1",period:"Juillet 2023",date:"2023-08-01",totalRevenue:1800,totalExpenses:120,netIncome:1680},{id:"2",name:"Rapport de gestion - Marie Durand - Juin 2023",owner:"Marie Durand",ownerId:"1",period:"Juin 2023",date:"2023-07-01",totalRevenue:1800,totalExpenses:150,netIncome:1650},{id:"3",name:"Rapport de gestion - Thomas Laurent - Juillet 2023",owner:"Thomas Laurent",ownerId:"2",period:"Juillet 2023",date:"2023-08-01",totalRevenue:950,totalExpenses:80,netIncome:870},{id:"4",name:"Rapport de gestion - Société Immobilière Paris - Juillet 2023",owner:"Société Immobilière Paris",ownerId:"3",period:"Juillet 2023",date:"2023-08-01",totalRevenue:4500,totalExpenses:350,netIncome:4150}],xG=()=>{var u;const[e,t]=b.useState(null),[n,r]=b.useState(""),[s,a]=b.useState("All"),o=z_.filter(d=>!(n&&!d.name.toLowerCase().includes(n.toLowerCase())&&!d.email.toLowerCase().includes(n.toLowerCase()))),l=B_.filter(d=>!(e&&d.ownerId!==e||s!=="All"&&d.period!==s)),c=Array.from(new Set(B_.map(d=>d.period)));return i.jsx(Ur,{title:"Rapports propriétaires",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs($e,{className:"lg:col-span-1",children:[i.jsxs(st,{children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx(it,{children:"Propriétaires"}),i.jsx(qt,{children:"Sélectionnez un propriétaire pour voir ses rapports"})]})}),i.jsxs("div",{className:"relative mt-2",children:[i.jsx(eo,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher...",className:"pl-9",value:n,onChange:d=>r(d.target.value)})]})]}),i.jsxs(Ue,{className:"p-0",children:[i.jsxs("ul",{className:"divide-y",children:[i.jsx("li",{className:`py-3 px-4 cursor-pointer hover:bg-gray-50 ${e===null?"bg-gray-50":""}`,onClick:()=>t(null),children:i.jsx("div",{className:"font-medium",children:"Tous les propriétaires"})}),o.map(d=>i.jsx("li",{className:`py-3 px-4 cursor-pointer hover:bg-gray-50 ${e===d.id?"bg-gray-50":""}`,onClick:()=>t(d.id),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ou,{className:"h-8 w-8",children:i.jsx(lu,{children:d.name.charAt(0)})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:d.name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.properties," bien(s)"]})]})]}),i.jsxs(Ve,{variant:"outline",children:[d.totalRent,"€/mois"]})]})},d.id))]}),o.length===0&&i.jsx("div",{className:"py-6 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Aucun propriétaire trouvé"})})]}),i.jsx(pn,{className:"border-t",children:i.jsxs(fe,{className:"w-full bg-cyan",children:[i.jsx(yr,{size:16,className:"mr-2"}),"Ajouter un propriétaire"]})})]}),i.jsxs($e,{className:"lg:col-span-2",children:[i.jsx(st,{children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs(it,{children:["Rapports de gestion",e&&` - ${(u=z_.find(d=>d.id===e))==null?void 0:u.name}`]}),i.jsx(qt,{children:"Générez et partagez des rapports financiers avec vos propriétaires"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xn,{value:s,onValueChange:a,children:[i.jsx(cn,{className:"w-[150px]",children:i.jsx(yn,{placeholder:"Période"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"All",children:"Toutes les périodes"}),c.map(d=>i.jsx(Oe,{value:d,children:d},d))]})]}),i.jsxs(fe,{className:"bg-cyan",children:[i.jsx(yr,{size:16,className:"mr-2"}),"Nouveau rapport"]})]})]})}),i.jsx(Ue,{children:l.length>0?i.jsx("div",{className:"space-y-4",children:l.map(d=>i.jsxs("div",{className:"border border-gray-200 rounded-md p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ut,{size:16,className:"text-muted-foreground"}),i.jsx("h3",{className:"font-medium",children:d.name})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-1",children:[i.jsx(Ve,{variant:"outline",children:d.period}),i.jsx(Ve,{variant:"outline",children:d.date})]})]}),i.jsx(fe,{variant:"ghost",size:"icon",children:i.jsx(zr,{size:16})})]}),i.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Revenus"}),i.jsxs("p",{className:"font-medium text-green-600",children:[d.totalRevenue,"€"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Charges"}),i.jsxs("p",{className:"font-medium text-orange-600",children:[d.totalExpenses,"€"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Net"}),i.jsxs("p",{className:"font-medium text-blue-600",children:[d.netIncome,"€"]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ou,{className:"h-6 w-6",children:i.jsx(lu,{children:d.owner.charAt(0)})}),i.jsx("span",{className:"text-sm",children:d.owner})]}),i.jsx("div",{children:i.jsxs(fe,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[i.jsx(sx,{size:14}),"Envoyer"]})})]})]},d.id))}):i.jsxs("div",{className:"text-center py-10",children:[i.jsx(Ut,{size:48,className:"mx-auto mb-3 text-muted-foreground"}),i.jsx("h3",{className:"font-medium text-lg mb-2",children:"Aucun rapport trouvé"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:e?"Aucun rapport n'existe pour ce propriétaire. Créez-en un nouveau.":"Aucun rapport trouvé pour la période sélectionnée."}),i.jsxs(fe,{className:"bg-cyan",children:[i.jsx(yr,{size:16,className:"mr-2"}),"Générer un nouveau rapport"]})]})})]})]})})};var oj="Switch",[yG,xne]=pa(oj),[wG,bG]=yG(oj),U8=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,p]=b.useState(null),w=zt(t,S=>p(S)),v=b.useRef(!1),N=m?d||!!m.closest("form"):!0,[y=!1,x]=Ya({prop:s,defaultProp:a,onChange:u});return i.jsxs(wG,{scope:n,checked:y,disabled:l,children:[i.jsx(ut.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":W8(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:qe(e.onClick,S=>{x(k=>!k),N&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),N&&i.jsx(jG,{control:m,bubbles:!v.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});U8.displayName=oj;var q8="SwitchThumb",V8=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=bG(q8,n);return i.jsx(ut.span,{"data-state":W8(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});V8.displayName=q8;var jG=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=b.useRef(null),o=kA(n),l=d6(t);return b.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const m=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(m)}},[o,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function W8(e){return e?"checked":"unchecked"}var H8=U8,NG=V8;const gs=b.forwardRef(({className:e,...t},n)=>i.jsx(H8,{className:et("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(NG,{className:et("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));gs.displayName=H8.displayName;const _G=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState([]),[d,h]=b.useState(!1),m=br(),{toast:p}=dn(),w=y=>{if(y.target.files){const x=Array.from(y.target.files);u(S=>[...S,...x])}},v=y=>{const x=[...c];x.splice(y,1),u(x)},N=y=>{if(y.preventDefault(),!e||!n||!s){p({variant:"destructive",title:"Erreur",description:"Veuillez remplir tous les champs obligatoires."});return}h(!0),setTimeout(()=>{p({title:"Signalement créé",description:"Votre signalement a été enregistré avec succès."}),m("/tenant"),h(!1)},1500)};return i.jsx(cc,{title:"Nouveau signalement",children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsx($e,{children:i.jsxs("form",{onSubmit:N,children:[i.jsxs(st,{children:[i.jsx(it,{children:"Signaler un problème"}),i.jsx(qt,{children:"Décrivez le problème rencontré dans votre logement. Votre gestionnaire sera notifié immédiatement."})]}),i.jsxs(Ue,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"title",children:"Titre du signalement *"}),i.jsx(St,{id:"title",value:e,onChange:y=>t(y.target.value),placeholder:"Ex: Fuite d'eau dans la salle de bain",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"type",children:"Type de problème *"}),i.jsxs(xn,{value:s,onValueChange:a,required:!0,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionnez le type de problème"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"plumbing",children:"Plomberie"}),i.jsx(Oe,{value:"electrical",children:"Électricité"}),i.jsx(Oe,{value:"heating",children:"Chauffage"}),i.jsx(Oe,{value:"structural",children:"Structure (murs, plafonds)"}),i.jsx(Oe,{value:"appliance",children:"Électroménager"}),i.jsx(Oe,{value:"other",children:"Autre"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"description",children:"Description détaillée *"}),i.jsx(la,{id:"description",value:n,onChange:y=>r(y.target.value),placeholder:"Décrivez le problème en détail (où, quand, comment)",rows:5,required:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($t,{htmlFor:"urgent",className:"mb-0",children:"Urgence"}),o&&i.jsx(Qa,{size:16,className:"text-destructive"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Activez cette option uniquement si la situation nécessite une intervention immédiate"})]}),i.jsx(gs,{id:"urgent",checked:o,onCheckedChange:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{children:"Photos (optionnel)"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-md p-6 text-center",children:[i.jsx(h5,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez des images ou cliquez pour ajouter"}),i.jsx(St,{id:"image",type:"file",accept:"image/*",className:"hidden",multiple:!0,onChange:w}),i.jsx(fe,{type:"button",variant:"outline",onClick:()=>{var y;return(y=document.getElementById("image"))==null?void 0:y.click()},className:"mt-2",children:"Sélectionner des photos"})]}),c.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("p",{className:"text-sm font-medium mb-2",children:[c.length," image(s) ajoutée(s)"]}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.map((y,x)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:URL.createObjectURL(y),alt:`Upload ${x}`,className:"h-20 w-full object-cover rounded"}),i.jsx(fe,{type:"button",variant:"destructive",size:"icon",className:"h-5 w-5 absolute top-1 right-1",onClick:()=>v(x),children:"✕"})]},x))})]})]})]}),i.jsxs(pn,{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx(fe,{type:"button",variant:"outline",className:"w-full sm:w-auto",onClick:()=>m("/tenant"),disabled:d,children:"Annuler"}),i.jsx(fe,{type:"submit",className:"w-full sm:w-auto bg-cyan",disabled:d,children:d?"Envoi en cours...":"Envoyer le signalement"})]})]})})})})},SG=({status:e})=>{switch(e){case"new":return i.jsx(Ve,{children:"Nouveau"});case"in_progress":return i.jsx(Ve,{variant:"secondary",children:"En cours"});case"scheduled":return i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-700",children:"Programmé"});case"resolved":return i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Résolu"});default:return i.jsx(Ve,{children:"Inconnu"})}},CG=({title:e,status:t,urgent:n,createdAt:r,showBackButton:s=!1,userRole:a})=>{const o=br();return i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(SG,{status:t}),n&&i.jsx(Ve,{variant:"destructive",children:"Urgent"})]}),i.jsx(it,{className:"text-xl",children:e}),i.jsxs(qt,{className:"mt-1 flex items-center gap-2",children:[i.jsx(Mi,{size:14}),"Créé le ",r]})]}),i.jsx("div",{children:a==="manager"&&s&&i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>o(-1),children:"Retour"})})]})},kG=({property:e})=>i.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ro,{size:16,className:"text-muted-foreground"}),i.jsx("h3",{className:"font-medium",children:"Propriété concernée"})]}),i.jsx("p",{children:e.address}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.postalCode," ",e.city]})]}),PG=({tenant:e,userRole:t})=>i.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ou,{className:"h-6 w-6",children:i.jsx(lu,{children:e.name[0]})}),i.jsx("h3",{className:"font-medium",children:"Locataire"})]}),i.jsx("p",{children:e.name}),t==="manager"&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm",children:e.phone}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),AG=({scheduledDate:e,assignedTo:t})=>!e&&!t?null:i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e&&i.jsxs("div",{className:"border border-blue-200 bg-blue-50 p-4 rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(W7,{size:16,className:"text-blue-700"}),i.jsx("h3",{className:"font-medium text-blue-700",children:"Intervention programmée"})]}),i.jsx("p",{className:"text-blue-700",children:e})]}),t&&i.jsxs("div",{className:"border border-gray-200 p-4 rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ou,{className:"h-6 w-6",children:i.jsx(lu,{children:t.name[0]})}),i.jsx("h3",{className:"font-medium",children:"Intervenant assigné"})]}),i.jsx("p",{children:t.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.company})]})]}),EG=({description:e})=>i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Description du problème"}),i.jsx("p",{className:"text-muted-foreground",children:e})]}),G8=({images:e})=>{const[t,n]=b.useState(!1),[r,s]=b.useState(0);return e.length?i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Photos"}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:e.map((a,o)=>i.jsx("div",{className:"cursor-pointer h-24 rounded-md overflow-hidden border border-gray-200",onClick:()=>{s(o),n(!0)},children:i.jsx("img",{src:a,alt:`Ticket image ${o}`,className:"h-full w-full object-cover"})},o))}),i.jsx(hc,{open:t,onOpenChange:n,children:i.jsxs(Vo,{className:"sm:max-w-[600px] p-0",children:[i.jsx(Wo,{className:"absolute top-0 right-0 p-2",children:i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>n(!1),className:"h-8 w-8 rounded-full bg-white/80",children:i.jsx(za,{size:16})})}),i.jsx("div",{className:"h-[500px] flex items-center justify-center",children:i.jsx("img",{src:e[r],alt:"Full size",className:"max-h-full max-w-full object-contain"})}),i.jsx(xp,{className:"p-4 flex-row justify-center",children:i.jsxs("div",{className:"space-x-2",children:[i.jsx(fe,{variant:"outline",size:"sm",disabled:r===0,onClick:()=>s(a=>a-1),children:"Précédent"}),i.jsx(fe,{variant:"outline",size:"sm",disabled:r===e.length-1,onClick:()=>s(a=>a+1),children:"Suivant"})]})})]})})]}):null},LG=({updates:e})=>i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Historique"}),i.jsx("div",{className:"space-y-4",children:e.map((t,n)=>i.jsxs("div",{className:"relative pl-6 pb-4",children:[i.jsx("div",{className:"absolute left-0 top-0 h-4 w-4 rounded-full bg-gray-200 flex items-center justify-center",children:i.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400"})}),n!==e.length-1&&i.jsx("div",{className:"absolute left-[7px] top-4 bottom-0 w-[2px] bg-gray-200"}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"font-medium",children:t.author}),i.jsxs("span",{className:"text-muted-foreground",children:[t.date," ",t.time]})]}),i.jsx("p",{className:"text-sm",children:t.content})]})]},t.id))})]}),TG=({status:e})=>{const[t,n]=b.useState(""),{toast:r}=dn(),s=()=>{t.trim()&&(r({title:"Commentaire ajouté",description:"Votre commentaire a été ajouté au ticket."}),n(""))};return e==="resolved"?null:i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Ajouter un commentaire"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[i.jsx(la,{value:t,onChange:a=>n(a.target.value),placeholder:"Écrivez votre commentaire...",className:"flex-1"}),i.jsx(fe,{onClick:s,className:"md:self-end bg-cyan",children:"Envoyer"})]})]})},MG=({initialStatus:e,initialAssignedTo:t,onStatusUpdate:n})=>{const[r,s]=b.useState(e),[a,o]=b.useState(t),{toast:l}=dn(),c=()=>{l({title:"Statut mis à jour",description:"Le statut du ticket a été changé."}),n(r)};return i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Actions du gestionnaire"}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm mb-2",children:"Changer le statut"}),i.jsxs(xn,{value:r,onValueChange:s,children:[i.jsx(cn,{children:i.jsx(yn,{})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"new",children:"Nouveau"}),i.jsx(Oe,{value:"in_progress",children:"En cours"}),i.jsx(Oe,{value:"scheduled",children:"Programmé"}),i.jsx(Oe,{value:"resolved",children:"Résolu"})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm mb-2",children:"Assigner à"}),i.jsxs(xn,{value:a,onValueChange:o,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionner un intervenant"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"1",children:"Plombier Martin"}),i.jsx(Oe,{value:"2",children:"Électricien Dubois"}),i.jsx(Oe,{value:"3",children:"Peintre Durand"})]})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsx(fe,{onClick:c,className:"w-full bg-cyan",children:"Mettre à jour"})})]})]})},RG=({status:e,userRole:t,onResolve:n})=>{const r=br(),{toast:s}=dn(),a=()=>{n(),s({title:"Ticket résolu",description:"Le ticket a été marqué comme résolu."})};return i.jsxs("div",{className:"flex justify-between",children:[i.jsx(fe,{variant:"outline",onClick:()=>r(-1),children:"Retour"}),t!=="manager"&&e!=="resolved"&&i.jsxs(fe,{variant:"default",className:"bg-cyan",children:[i.jsx(lI,{size:16,className:"mr-2"}),"Contacter le gestionnaire"]}),e!=="resolved"&&t==="manager"&&i.jsxs(fe,{variant:"default",className:"bg-green-600 hover:bg-green-700",onClick:a,children:[i.jsx(rp,{size:16,className:"mr-2"}),"Marquer comme résolu"]})]})},wi={id:"1",title:"Problème de plomberie - Salle de bain",description:"Le robinet de la salle de bain principale fuit et il y a de l'eau qui s'accumule sous le lavabo. Le problème a commencé hier soir.",createdAt:"2023-07-25",type:"plumbing",status:"in_progress",urgent:!0,property:{id:"1",address:"123 Rue de Paris",city:"Paris",postalCode:"75001"},tenant:{id:"1",name:"Jean Dupont",email:"tenant@example.com",phone:"06 12 34 56 78"},assignedTo:{id:"1",name:"Plombier Martin",phone:"06 98 76 54 32",company:"Martin Plomberie"},scheduledDate:"2023-07-30",images:["/placeholder.svg","/placeholder.svg"],updates:[{id:"1",date:"2023-07-25",time:"14:30",content:"Ticket créé par le locataire",author:"Jean Dupont",role:"tenant"},{id:"2",date:"2023-07-26",time:"09:15",content:"Ticket assigné à Plombier Martin",author:"Gestionnaire Pro",role:"manager"},{id:"3",date:"2023-07-26",time:"11:30",content:"Visite programmée pour le 30/07 entre 9h et 11h",author:"Gestionnaire Pro",role:"manager"}]},DG=()=>{var l,c,u,d,h;q6();const{user:e}=sr();br();const[t,n]=b.useState(wi.status),[r,s]=b.useState(((l=wi.assignedTo)==null?void 0:l.id)||""),a=m=>{var p;switch((p=e==null?void 0:e.user_metadata)==null?void 0:p.role){case"manager":return i.jsx(Ur,{title:"Détail du ticket",children:m});case"tenant":return i.jsx(cc,{title:"Détail du signalement",children:m});case"owner":return i.jsx(Rh,{title:"Détail du signalement",children:m});default:return i.jsx("div",{children:m})}},o=m=>{n(m)};return a(i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsx(CG,{title:wi.title,status:t,urgent:wi.urgent,createdAt:wi.createdAt,showBackButton:!0,userRole:(c=e==null?void 0:e.user_metadata)==null?void 0:c.role})}),i.jsxs(Ue,{className:"space-y-6",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsx(kG,{property:wi.property}),i.jsx(PG,{tenant:wi.tenant,userRole:(u=e==null?void 0:e.user_metadata)==null?void 0:u.role})]}),i.jsx(AG,{scheduledDate:wi.scheduledDate,assignedTo:wi.assignedTo}),i.jsx(EG,{description:wi.description}),i.jsx(G8,{images:wi.images}),i.jsx(LG,{updates:wi.updates}),i.jsx(TG,{status:t}),((d=e==null?void 0:e.user_metadata)==null?void 0:d.role)==="manager"&&i.jsx(MG,{initialStatus:t,initialAssignedTo:r,onStatusUpdate:o})]}),i.jsx(pn,{children:i.jsx(RG,{status:t,userRole:((h=e==null?void 0:e.user_metadata)==null?void 0:h.role)||"",onResolve:()=>n("resolved")})})]})}))},IG=[{id:"1",tenantName:"M. Martin",property:"123 Rue de Paris",amount:850,dueDate:"2023-08-01",daysPastDue:5,status:"first_reminder"},{id:"2",tenantName:"Mme. Bernard",property:"45 Avenue Victor Hugo",amount:1200,dueDate:"2023-08-01",daysPastDue:8,status:"second_reminder"},{id:"3",tenantName:"M. Dubois",property:"8 Boulevard Gambetta",amount:950,dueDate:"2023-07-15",daysPastDue:20,status:"formal_notice"}],OG={emailTemplate:`Cher/Chère {tenant_name},

Nous vous rappelons que votre loyer de {amount}€ pour le bien situé {property_address} était dû le {due_date}.

Merci de procéder au règlement dès que possible.

Cordialement,
L'équipe de gestion`,smsTemplate:"Rappel: Votre loyer de {amount}€ pour {property_address} était dû le {due_date}. Merci de régulariser rapidement.",formalNoticeTemplate:`MISE EN DEMEURE

Cher/Chère {tenant_name},

Malgré nos précédentes relances, nous n'avons toujours pas reçu le paiement de votre loyer de {amount}€ pour le bien situé {property_address}, dû depuis le {due_date}.

Conformément aux termes du bail, nous vous mettons en demeure de régler cette somme sous 8 jours.

À défaut de paiement dans ce délai, nous serons contraints d'entamer une procédure judiciaire.

Cordialement,
L'équipe de gestion`},FG=()=>{const[e,t]=b.useState(IG),[n,r]=b.useState(OG),[s,a]=b.useState("unpaid"),{settings:o,updateSettings:l}=Mh(),{toast:c}=dn(),u=(p,w)=>{c({title:"Rappel envoyé",description:"Le rappel a été envoyé au locataire."}),t(e.map(v=>v.id===p?{...v,status:w==="email"?"first_reminder_sent":w==="sms"?"second_reminder_sent":"formal_notice_sent"}:v))},d=()=>{c({title:"Modèles enregistrés",description:"Vos modèles de rappel ont été mis à jour avec succès."})},h=p=>{c({title:"PDF généré",description:"La mise en demeure a été générée et téléchargée."})},m=p=>{l({enableRentReminders:p})};return i.jsxs($e,{className:"w-full",children:[i.jsx(st,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Système de relance des loyers"}),i.jsx(qt,{children:"Gestion automatisée des relances de loyers impayés"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($t,{htmlFor:"rent-reminder-toggle",children:"Activer"}),i.jsx(gs,{id:"rent-reminder-toggle",checked:o.enableRentReminders,onCheckedChange:m})]})]})}),i.jsx(Ue,{children:i.jsxs(fr,{defaultValue:"unpaid",onValueChange:a,children:[i.jsxs(ir,{className:"mb-4",children:[i.jsx(Ke,{value:"unpaid",children:"Loyers impayés"}),i.jsx(Ke,{value:"settings",children:"Modèles de relance"})]}),i.jsx(Ot,{value:"unpaid",children:e.length===0?i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Tous les loyers ont été payés. Aucune relance n'est nécessaire."}):i.jsx("div",{className:"space-y-4",children:e.map(p=>i.jsxs($e,{className:"overflow-hidden",children:[i.jsx("div",{className:`h-1.5 ${p.daysPastDue<7?"bg-yellow-500":p.daysPastDue<15?"bg-orange-500":"bg-red-500"}`}),i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:p.tenantName}),i.jsx("p",{className:"text-sm text-muted-foreground",children:p.property}),i.jsxs("div",{className:"mt-1",children:[i.jsxs("span",{className:"font-semibold",children:[p.amount,"€"]}),i.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["dû le ",new Date(p.dueDate).toLocaleDateString("fr-FR")]})]}),i.jsx("div",{className:"mt-2",children:i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${p.daysPastDue<7?"bg-yellow-100 text-yellow-800":p.daysPastDue<15?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:[p.daysPastDue," jours de retard"]})})]}),i.jsxs("div",{className:"flex space-x-2",children:[p.daysPastDue>=3&&!p.status.includes("first_reminder")&&i.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>u(p.id,"email"),children:[i.jsx(ip,{size:16,className:"mr-1"})," Email"]}),p.daysPastDue>=7&&!p.status.includes("second_reminder")&&i.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>u(p.id,"sms"),children:[i.jsx(uI,{size:16,className:"mr-1"})," SMS"]}),p.daysPastDue>=15&&i.jsxs(fe,{size:"sm",variant:p.status.includes("formal_notice")?"outline":"default",onClick:()=>p.status.includes("formal_notice")?h(p.id):u(p.id,"formal"),children:[i.jsx(Ut,{size:16,className:"mr-1"}),p.status.includes("formal_notice")?"PDF":"Mise en demeure"]})]})]})})]},p.id))})}),i.jsx(Ot,{value:"settings",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Modèle d'email (3 jours)"}),i.jsx(la,{value:n.emailTemplate,onChange:p=>r({...n,emailTemplate:p.target.value}),rows:6,placeholder:"Modèle d'email pour la première relance"}),i.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Variables disponibles: ","{tenant_name}",", ","{amount}",", ","{property_address}",", ","{due_date}"]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Modèle SMS (7 jours)"}),i.jsx(la,{value:n.smsTemplate,onChange:p=>r({...n,smsTemplate:p.target.value}),rows:3,placeholder:"Modèle SMS pour la deuxième relance"}),i.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Variables disponibles: ","{tenant_name}",", ","{amount}",", ","{property_address}",", ","{due_date}"]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Modèle de mise en demeure (15 jours)"}),i.jsx(la,{value:n.formalNoticeTemplate,onChange:p=>r({...n,formalNoticeTemplate:p.target.value}),rows:8,placeholder:"Modèle pour la mise en demeure formelle"}),i.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Variables disponibles: ","{tenant_name}",", ","{amount}",", ","{property_address}",", ","{due_date}"]})]}),i.jsxs(fe,{onClick:d,children:[i.jsx(rx,{size:16,className:"mr-2"}),"Enregistrer les modèles"]})]})})]})})]})};function zG(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var lj="ScrollArea",[Y8,yne]=pa(lj),[BG,Ri]=Y8(lj),K8=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=b.useState(null),[u,d]=b.useState(null),[h,m]=b.useState(null),[p,w]=b.useState(null),[v,N]=b.useState(null),[y,x]=b.useState(0),[S,k]=b.useState(0),[P,z]=b.useState(!1),[B,R]=b.useState(!1),K=zt(t,M=>c(M)),ee=fp(s);return i.jsx(BG,{scope:n,type:r,dir:ee,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:z,scrollbarY:v,onScrollbarYChange:N,scrollbarYEnabled:B,onScrollbarYEnabledChange:R,onCornerWidthChange:x,onCornerHeightChange:k,children:i.jsx(ut.div,{dir:ee,...o,ref:K,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});K8.displayName=lj;var J8="ScrollAreaViewport",X8=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:a,...o}=e,l=Ri(J8,n),c=b.useRef(null),u=zt(t,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(ut.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:JG({asChild:s,children:r},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});X8.displayName=J8;var no="ScrollAreaScrollbar",cj=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ri(no,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return b.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx($G,{...r,ref:t,forceMount:n}):s.type==="scroll"?i.jsx(UG,{...r,ref:t,forceMount:n}):s.type==="auto"?i.jsx(Z8,{...r,ref:t,forceMount:n}):s.type==="always"?i.jsx(uj,{...r,ref:t}):null});cj.displayName=no;var $G=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ri(no,e.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx($r,{present:n||a,children:i.jsx(Z8,{"data-state":a?"visible":"hidden",...r,ref:t})})}),UG=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ri(no,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Gx(()=>c("SCROLL_END"),100),[l,c]=zG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),b.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const p=u[d];h!==p&&(c("SCROLL"),o()),h=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,o]),i.jsx($r,{present:n||l!=="hidden",children:i.jsx(uj,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:qe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:qe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Z8=b.forwardRef((e,t)=>{const n=Ri(no,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,o]=b.useState(!1),l=e.orientation==="horizontal",c=Gx(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return xh(n.viewport,c),xh(n.content,c),i.jsx($r,{present:r||a,children:i.jsx(uj,{"data-state":a?"visible":"hidden",...s,ref:t})})}),uj=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Ri(no,e.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rL(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return YG(m,o.current,l,p)}return n==="horizontal"?i.jsx(qG,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=$_(m,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?i.jsx(VG,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=$_(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),qG=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Ri(no,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=zt(t,c,a.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(eL,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hx(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),iL(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:S0(o.paddingLeft),paddingEnd:S0(o.paddingRight)}})}})}),VG=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Ri(no,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=zt(t,c,a.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(eL,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hx(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),iL(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:S0(o.paddingTop),paddingEnd:S0(o.paddingBottom)}})}})}),[WG,Q8]=Y8(no),eL=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=e,p=Ri(no,n),[w,v]=b.useState(null),N=zt(t,K=>v(K)),y=b.useRef(null),x=b.useRef(""),S=p.viewport,k=r.content-r.viewport,P=Dn(d),z=Dn(c),B=Gx(h,10);function R(K){if(y.current){const ee=K.clientX-y.current.left,M=K.clientY-y.current.top;u({x:ee,y:M})}}return b.useEffect(()=>{const K=ee=>{const M=ee.target;(w==null?void 0:w.contains(M))&&P(ee,k)};return document.addEventListener("wheel",K,{passive:!1}),()=>document.removeEventListener("wheel",K,{passive:!1})},[S,w,k,P]),b.useEffect(z,[r,z]),xh(w,B),xh(p.content,B),i.jsx(WG,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Dn(a),onThumbPointerUp:Dn(o),onThumbPositionChange:z,onThumbPointerDown:Dn(l),children:i.jsx(ut.div,{...m,ref:N,style:{position:"absolute",...m.style},onPointerDown:qe(e.onPointerDown,K=>{K.button===0&&(K.target.setPointerCapture(K.pointerId),y.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(K))}),onPointerMove:qe(e.onPointerMove,R),onPointerUp:qe(e.onPointerUp,K=>{const ee=K.target;ee.hasPointerCapture(K.pointerId)&&ee.releasePointerCapture(K.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),_0="ScrollAreaThumb",tL=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Q8(_0,e.__scopeScrollArea);return i.jsx($r,{present:n||s.hasThumb,children:i.jsx(HG,{ref:t,...r})})}),HG=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=Ri(_0,n),o=Q8(_0,n),{onThumbPositionChange:l}=o,c=zt(t,h=>o.onThumbChange(h)),u=b.useRef(),d=Gx(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(d(),!u.current){const p=KG(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,d,l]),i.jsx(ut.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:qe(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),w=h.clientX-p.left,v=h.clientY-p.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:qe(e.onPointerUp,o.onThumbPointerUp)})});tL.displayName=_0;var dj="ScrollAreaCorner",nL=b.forwardRef((e,t)=>{const n=Ri(dj,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(GG,{...e,ref:t}):null});nL.displayName=dj;var GG=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Ri(dj,n),[a,o]=b.useState(0),[l,c]=b.useState(0),u=!!(a&&l);return xh(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),xh(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(ut.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function S0(e){return e?parseInt(e,10):0}function rL(e,t){const n=e/t;return isNaN(n)?0:n}function Hx(e){const t=rL(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function YG(e,t,n,r="ltr"){const s=Hx(n),a=s/2,o=t||a,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return sL([c,u],h)(e)}function $_(e,t,n="ltr"){const r=Hx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=zw(e,c);return sL([0,o],[0,l])(u)}function sL(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function iL(e,t){return e>0&&e<t}var KG=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Gx(e,t){const n=Dn(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function xh(e,t){const n=Dn(t);wr(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function JG(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=b.Children.only(r);return b.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var aL=K8,XG=X8,ZG=nL;const Np=b.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(aL,{ref:r,className:et("relative overflow-hidden",e),...n,children:[i.jsx(XG,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(oL,{}),i.jsx(ZG,{})]}));Np.displayName=aL.displayName;const oL=b.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(cj,{ref:r,orientation:t,className:et("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(tL,{className:"relative flex-1 rounded-full bg-border"})}));oL.displayName=cj.displayName;const QG=e=>{const t=new Date().getHours();let n="Bonjour";t>=18&&(n="Bonsoir");let r="";return e==="manager"?r=`${n} ! Je suis votre assistant IA. Je peux vous aider à gérer vos propriétés, locataires et documents. Que puis-je faire pour vous aujourd'hui ?`:r=`${n} ! Je suis votre assistant IA. Je peux vous aider à trouver des documents, signaler un problème ou contacter votre gestionnaire. Comment puis-je vous aider ?`,{id:"initial",sender:"ai",content:r,timestamp:new Date}},eY=async(e,t)=>{const n=e.toLowerCase();let r="",s=[];return await new Promise(a=>setTimeout(a,1e3)),t==="manager"?n.includes("loyer")||n.includes("impayé")?(r="D'après vos données, vous avez actuellement 3 locataires en retard de paiement. Voulez-vous voir les détails ou envoyer des rappels automatiques ?",s=[{label:"Voir les impayés",action:"show_document",data:{type:"unpaid_rents"}},{label:"Envoyer des rappels",action:"create_ticket",data:{type:"payment_reminder"}}]):n.includes("ticket")||n.includes("problème")?(r="Vous avez 2 tickets non assignés et 3 tickets en cours. Le plus urgent concerne une fuite d'eau à l'appartement 3B.",s=[{label:"Voir les tickets",action:"show_document",data:{type:"tickets"}}]):n.includes("bail")||n.includes("contrat")?(r="Je peux vous aider à gérer les baux. Voulez-vous voir les baux qui expirent bientôt ou créer un nouveau bail ?",s=[{label:"Baux expirants",action:"show_document",data:{type:"expiring_leases"}},{label:"Créer un bail",action:"create_ticket",data:{type:"new_lease"}}]):r="Je peux vous aider avec la gestion des loyers, des tickets, des baux et des documents. Que souhaitez-vous faire ?":n.includes("loyer")||n.includes("paiement")?(r="Votre prochain loyer de 750€ est dû le 5 du mois prochain. Votre dernier paiement a été reçu le 3 du mois dernier.",s=[{label:"Voir mes paiements",action:"show_document",data:{type:"my_payments"}}]):n.includes("problème")||n.includes("réparation")?(r="Je peux vous aider à signaler un problème dans votre logement. Voulez-vous créer un ticket pour une intervention ?",s=[{label:"Créer un ticket",action:"create_ticket",data:{type:"maintenance"}}]):n.includes("quittance")||n.includes("document")?(r="Vos dernières quittances de loyer sont disponibles dans la section documents. Voulez-vous les consulter ?",s=[{label:"Voir mes documents",action:"show_document",data:{type:"my_documents"}}]):r="Je peux vous aider avec vos paiements, documents, ou signaler un problème dans votre logement. Comment puis-je vous aider ?",{id:Date.now().toString(),sender:"ai",content:r,timestamp:new Date,actions:s}},lL=({role:e="manager"})=>{const[t,n]=b.useState([]),[r,s]=b.useState(""),[a,o]=b.useState(!1),l=b.useRef(null),{settings:c,updateSettings:u}=Mh(),{toast:d}=dn();b.useEffect(()=>{n([QG(e)])},[e]),b.useEffect(()=>{var w;(w=l.current)==null||w.scrollIntoView({behavior:"smooth"})},[t]);const h=async()=>{if(!r.trim())return;const w={id:Date.now().toString(),sender:"user",content:r,timestamp:new Date};n(v=>[...v,w]),s(""),o(!0);try{const v=await eY(r,e);n(N=>[...N,v])}catch(v){console.error("Error generating AI response:",v),d({title:"Erreur",description:"Impossible de générer une réponse. Veuillez réessayer.",variant:"destructive"})}finally{o(!1)}},m=(w,v)=>{switch(w){case"create_ticket":d({title:"Création de ticket",description:`Un nouveau ticket de type ${v==null?void 0:v.type} va être créé.`});break;case"show_document":d({title:"Documents",description:`Affichage des documents de type ${v==null?void 0:v.type}.`});break;case"contact_manager":d({title:"Contact",description:"Votre message a été transmis au gestionnaire."});break}},p=w=>{u({enableChatbot:w})};return i.jsxs($e,{className:"w-full h-[500px] flex flex-col",children:[i.jsx(st,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Assistant IA"}),i.jsx(qt,{children:"Votre assistant personnel"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($t,{htmlFor:"chatbot-toggle",children:"Activer"}),i.jsx(gs,{id:"chatbot-toggle",checked:c.enableChatbot,onCheckedChange:p})]})]})}),i.jsx(Ue,{className:"flex-grow overflow-hidden p-0",children:i.jsx(Np,{className:"h-[360px] px-4",children:i.jsxs("div",{className:"space-y-4 py-4",children:[t.map(w=>i.jsx("div",{className:`flex ${w.sender==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${w.sender==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[w.sender==="user"?i.jsx(ix,{size:16}):i.jsx(cw,{size:16}),i.jsx("span",{className:"text-xs opacity-70",children:w.timestamp.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:w.content}),w.actions&&w.actions.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:w.actions.map((v,N)=>i.jsx(fe,{size:"sm",variant:"secondary",onClick:()=>m(v.action,v.data),children:v.label},N))})]})},w.id)),a&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-muted max-w-[80%] rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(cw,{size:16}),i.jsx(Mi,{size:16,className:"animate-pulse"})]})})}),i.jsx("div",{ref:l})]})})}),i.jsx(pn,{className:"border-t p-3",children:i.jsxs("form",{className:"flex w-full gap-2",onSubmit:w=>{w.preventDefault(),h()},children:[i.jsx(St,{value:r,onChange:w=>s(w.target.value),placeholder:"Tapez votre message...",className:"flex-grow"}),i.jsxs(fe,{type:"submit",size:"icon",children:[i.jsx(Vk,{size:18}),i.jsx("span",{className:"sr-only",children:"Envoyer"})]})]})})]})},tY=[{id:"1",name:"Jean Dupont",email:"jean.dupont@example.com",phone:"06 12 34 56 78",income:3500,occupation:"Ingénieur logiciel",employer:"Tech Solutions",employmentDuration:4,score:85,documents:[{id:"d1",name:"Pièce d'identité",type:"id",status:"valid"},{id:"d2",name:"Justificatif de revenus",type:"income",status:"valid"},{id:"d3",name:"Attestation employeur",type:"employment",status:"valid"}],status:"pending",notes:"Candidature solide, revenus stables."},{id:"2",name:"Marie Lambert",email:"marie.lambert@example.com",phone:"07 23 45 67 89",income:2200,occupation:"Enseignante",employer:"Éducation Nationale",employmentDuration:2,score:72,documents:[{id:"d4",name:"Pièce d'identité",type:"id",status:"valid"},{id:"d5",name:"Justificatif de revenus",type:"income",status:"valid"},{id:"d6",name:"Attestation employeur",type:"employment",status:"missing"}],status:"pending",notes:"Emploi stable mais document manquant."},{id:"3",name:"Thomas Moreau",email:"thomas.moreau@example.com",phone:"06 34 56 78 90",income:1800,occupation:"Vendeur",employer:"Retail Express",employmentDuration:.5,score:48,documents:[{id:"d7",name:"Pièce d'identité",type:"id",status:"valid"},{id:"d8",name:"Justificatif de revenus",type:"income",status:"invalid"},{id:"d9",name:"Attestation employeur",type:"employment",status:"valid"}],status:"rejected",notes:"Revenus insuffisants, période d'essai non terminée."}],nY=()=>{const[e,t]=b.useState(tY),[n,r]=b.useState("pending"),{settings:s,updateSettings:a}=Mh(),o=h=>{a({enableTenantScoring:h})},l=n==="all"?e:e.filter(h=>h.status===n),c=h=>{switch(h){case"valid":return"text-green-500";case"invalid":return"text-red-500";case"missing":return"text-yellow-500";default:return"text-gray-500"}},u=h=>{switch(h){case"pending":return"text-blue-500";case"approved":return"text-green-500";case"rejected":return"text-red-500";default:return"text-gray-500"}},d=h=>{switch(h){case"pending":return i.jsx(aI,{size:16,className:"mr-2"});case"approved":return i.jsx(rp,{size:16,className:"mr-2"});case"rejected":return i.jsx(Qa,{size:16,className:"mr-2"});default:return i.jsx(ad,{size:16,className:"mr-2"})}};return i.jsxs($e,{className:"w-full",children:[i.jsx(st,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Évaluation des locataires"}),i.jsx(qt,{children:"Analyse des dossiers de candidature et scoring automatique"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($t,{htmlFor:"tenant-scoring-toggle",children:"Activer"}),i.jsx(gs,{id:"tenant-scoring-toggle",checked:s.enableTenantScoring,onCheckedChange:o})]})]})}),i.jsx(Ue,{className:"space-y-4",children:i.jsxs(fr,{defaultValue:"pending",onValueChange:r,children:[i.jsxs(ir,{className:"mb-4",children:[i.jsx(Ke,{value:"pending",children:"En attente"}),i.jsx(Ke,{value:"approved",children:"Approuvées"}),i.jsx(Ke,{value:"rejected",children:"Rejetées"}),i.jsx(Ke,{value:"all",children:"Toutes"})]}),i.jsxs(Ot,{value:"pending",children:[l.filter(h=>h.status==="pending").length===0&&i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Aucune candidature en attente."}),l.filter(h=>h.status==="pending").map(h=>i.jsx($e,{className:"overflow-hidden",children:i.jsxs(Ue,{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:h.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.email}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.phone}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Score:"}),i.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:[h.score," / 100"]}),i.jsx(Co,{value:h.score})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Statut:"}),i.jsxs("span",{className:`text-sm ${u(h.status)} ml-1`,children:[d(h.status),h.status]})]})]}),i.jsx("div",{children:i.jsxs(fe,{variant:"outline",size:"sm",children:[i.jsx(ad,{size:16,className:"mr-2"}),"Analyser"]})})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Documents:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:h.documents.map(m=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsxs("span",{children:[i.jsx(Ut,{size:14,className:"mr-1 inline"}),m.name]}),i.jsxs("span",{className:`text-xs ${c(m.status)}`,children:[m.status==="valid"&&i.jsx(zc,{size:14,className:"inline mr-1"}),m.status==="invalid"&&i.jsx(za,{size:14,className:"inline mr-1"}),m.status==="missing"&&i.jsx(Mf,{size:14,className:"inline mr-1"}),m.status]})]},m.id))})]})]})},h.id))]}),i.jsxs(Ot,{value:"approved",children:[l.filter(h=>h.status==="approved").length===0&&i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Aucune candidature approuvée."}),l.filter(h=>h.status==="approved").map(h=>i.jsx($e,{className:"overflow-hidden",children:i.jsxs(Ue,{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:h.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.email}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.phone}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Score:"}),i.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:[h.score," / 100"]}),i.jsx(Co,{value:h.score})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Statut:"}),i.jsxs("span",{className:`text-sm ${u(h.status)} ml-1`,children:[d(h.status),h.status]})]})]}),i.jsx("div",{children:i.jsxs(fe,{variant:"outline",size:"sm",children:[i.jsx(ad,{size:16,className:"mr-2"}),"Analyser"]})})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Documents:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:h.documents.map(m=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsxs("span",{children:[i.jsx(Ut,{size:14,className:"mr-1 inline"}),m.name]}),i.jsxs("span",{className:`text-xs ${c(m.status)}`,children:[m.status==="valid"&&i.jsx(zc,{size:14,className:"inline mr-1"}),m.status==="invalid"&&i.jsx(za,{size:14,className:"inline mr-1"}),m.status==="missing"&&i.jsx(Mf,{size:14,className:"inline mr-1"}),m.status]})]},m.id))})]})]})},h.id))]}),i.jsxs(Ot,{value:"rejected",children:[l.filter(h=>h.status==="rejected").length===0&&i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Aucune candidature rejetée."}),l.filter(h=>h.status==="rejected").map(h=>i.jsx($e,{className:"overflow-hidden",children:i.jsxs(Ue,{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:h.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.email}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.phone}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Score:"}),i.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:[h.score," / 100"]}),i.jsx(Co,{value:h.score})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Statut:"}),i.jsxs("span",{className:`text-sm ${u(h.status)} ml-1`,children:[d(h.status),h.status]})]})]}),i.jsx("div",{children:i.jsxs(fe,{variant:"outline",size:"sm",children:[i.jsx(ad,{size:16,className:"mr-2"}),"Analyser"]})})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Documents:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:h.documents.map(m=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsxs("span",{children:[i.jsx(Ut,{size:14,className:"mr-1 inline"}),m.name]}),i.jsxs("span",{className:`text-xs ${c(m.status)}`,children:[m.status==="valid"&&i.jsx(zc,{size:14,className:"inline mr-1"}),m.status==="invalid"&&i.jsx(za,{size:14,className:"inline mr-1"}),m.status==="missing"&&i.jsx(Mf,{size:14,className:"inline mr-1"}),m.status]})]},m.id))})]})]})},h.id))]}),i.jsxs(Ot,{value:"all",children:[l.length===0&&i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Aucune candidature."}),l.map(h=>i.jsx($e,{className:"overflow-hidden",children:i.jsxs(Ue,{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:h.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.email}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.phone}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Score:"}),i.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:[h.score," / 100"]}),i.jsx(Co,{value:h.score})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Statut:"}),i.jsxs("span",{className:`text-sm ${u(h.status)} ml-1`,children:[d(h.status),h.status]})]})]}),i.jsx("div",{children:i.jsxs(fe,{variant:"outline",size:"sm",children:[i.jsx(ad,{size:16,className:"mr-2"}),"Analyser"]})})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Documents:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:h.documents.map(m=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsxs("span",{children:[i.jsx(Ut,{size:14,className:"mr-1 inline"}),m.name]}),i.jsxs("span",{className:`text-xs ${c(m.status)}`,children:[m.status==="valid"&&i.jsx(zc,{size:14,className:"inline mr-1"}),m.status==="invalid"&&i.jsx(za,{size:14,className:"inline mr-1"}),m.status==="missing"&&i.jsx(Mf,{size:14,className:"inline mr-1"}),m.status]})]},m.id))})]})]})},h.id))]})]})})]})},rY=[{id:"1",title:"Attestation d'assurance manquante",description:"M. Martin n'a pas encore fourni son attestation d'assurance pour le bien 123 Rue de Paris.",type:"warning",date:new Date(Date.now()-2*24*60*60*1e3),category:"document",read:!1,actions:[{label:"Envoyer une relance",action:"send_reminder"},{label:"Voir le locataire",action:"view_tenant"}]},{id:"2",title:"Bail expirant dans 30 jours",description:"Le bail de Mme. Bernard pour le bien 45 Avenue Victor Hugo expire le 15/09/2023.",type:"warning",date:new Date(Date.now()-1*24*60*60*1e3),category:"lease",read:!1,actions:[{label:"Préparer renouvellement",action:"schedule"},{label:"Contacter locataire",action:"create_message"}]},{id:"3",title:"3 biens marqués comme vacants",description:"Trois de vos biens sont actuellement vacants. Envisagez de créer de nouvelles annonces.",type:"info",date:new Date,category:"property",read:!1,actions:[{label:"Voir les biens",action:"view_property"},{label:"Créer une annonce",action:"schedule"}]},{id:"4",title:"Diagnostic énergétique expiré",description:"Le DPE du bien 8 Boulevard Gambetta a expiré. Une mise à jour est nécessaire.",type:"warning",date:new Date(Date.now()-3*24*60*60*1e3),category:"document",read:!0,actions:[{label:"Programmer diagnostic",action:"schedule"},{label:"Voir le document",action:"view_document"}]},{id:"5",title:"Nouveau locataire emménage demain",description:"M. Dubois emménage demain au 27 Rue de la République. L'état des lieux est prévu à 10h.",type:"info",date:new Date(Date.now()-12*60*60*1e3),category:"tenant",read:!1,actions:[{label:"Voir l'agenda",action:"schedule"},{label:"Contacter locataire",action:"create_message"}]},{id:"6",title:"Tous les loyers du mois payés",description:"Félicitations ! Tous les loyers du mois ont été payés à temps.",type:"success",date:new Date(Date.now()-5*24*60*60*1e3),category:"tenant",read:!0,actions:[]}],U_=()=>{const[e,t]=b.useState(rY),[n,r]=b.useState("all"),{settings:s,updateSettings:a}=Mh(),{toast:o}=dn(),l=v=>{a({enableSmartNotifications:v})},c=v=>{t(e.map(N=>N.id===v?{...N,read:!0}:N))},u=()=>{t(e.map(v=>({...v,read:!0}))),o({title:"Notifications",description:"Toutes les notifications ont été marquées comme lues."})},d=(v,N)=>{o({title:"Action déclenchée",description:`Action "${N}" pour la notification ${v}.`}),c(v)},m=[...n==="all"?e:n==="unread"?e.filter(v=>!v.read):e.filter(v=>v.category===n)].sort((v,N)=>v.read!==N.read?v.read?1:-1:new Date(N.date).getTime()-new Date(v.date).getTime()),p=e.filter(v=>!v.read).length,w=(v,N)=>{if(v==="warning")return i.jsx(Qa,{size:20,className:"text-yellow-500"});if(v==="success")return i.jsx(uw,{size:20,className:"text-green-500"});switch(N){case"tenant":return i.jsx(q_,{size:20,className:"text-blue-500"});case"property":return i.jsx(rs,{size:20,className:"text-blue-500"});case"document":return i.jsx(Ut,{size:20,className:"text-blue-500"});case"lease":return i.jsx(Bs,{size:20,className:"text-blue-500"});default:return i.jsx(Mi,{size:20,className:"text-blue-500"})}};return i.jsxs($e,{className:"w-full",children:[i.jsx(st,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Notifications intelligentes"}),i.jsx(qt,{children:"Suggestions d'actions et alertes contextuelles"})]}),p>0&&i.jsx(Ve,{variant:"destructive",className:"rounded-full h-6 w-6 flex items-center justify-center p-0",children:p})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($t,{htmlFor:"notification-toggle",children:"Activer"}),i.jsx(gs,{id:"notification-toggle",checked:s.enableSmartNotifications,onCheckedChange:l})]})]})}),i.jsxs(Ue,{children:[i.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[i.jsx(fe,{variant:n==="all"?"default":"outline",size:"sm",onClick:()=>r("all"),children:"Toutes"}),i.jsxs(fe,{variant:n==="unread"?"default":"outline",size:"sm",onClick:()=>r("unread"),children:["Non lues",p>0&&i.jsx(Ve,{variant:"secondary",className:"ml-1",children:p})]}),i.jsxs(fe,{variant:n==="document"?"default":"outline",size:"sm",onClick:()=>r("document"),children:[i.jsx(Ut,{size:14,className:"mr-1"}),"Documents"]}),i.jsxs(fe,{variant:n==="lease"?"default":"outline",size:"sm",onClick:()=>r("lease"),children:[i.jsx(Bs,{size:14,className:"mr-1"}),"Baux"]}),i.jsxs(fe,{variant:n==="property"?"default":"outline",size:"sm",onClick:()=>r("property"),children:[i.jsx(rs,{size:14,className:"mr-1"}),"Biens"]}),i.jsxs(fe,{variant:n==="tenant"?"default":"outline",size:"sm",onClick:()=>r("tenant"),children:[i.jsx(q_,{size:14,className:"mr-1"}),"Locataires"]})]}),i.jsx("div",{className:"space-y-3",children:m.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune notification trouvée."}):m.map(v=>i.jsx($e,{className:`overflow-hidden ${v.read?"":"border-l-4 border-l-primary"}`,children:i.jsx(Ue,{className:"p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"mt-0.5",children:w(v.type,v.category)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("h3",{className:`font-medium ${v.read?"text-muted-foreground":""}`,children:v.title}),i.jsx("span",{className:"text-xs text-muted-foreground",children:v.date.toLocaleDateString("fr-FR")})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v.description}),v.actions&&v.actions.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[v.actions.map((N,y)=>{let x;switch(N.action){case"send_reminder":x=i.jsx(ip,{size:14});break;case"create_message":x=i.jsx(cI,{size:14});break;case"view_property":x=i.jsx(rs,{size:14});break;case"view_document":x=i.jsx(Ut,{size:14});break;case"schedule":x=i.jsx(Bs,{size:14});break;default:x=i.jsx(np,{size:14})}return i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>d(v.id,N.action),children:[x,i.jsx("span",{className:"ml-1",children:N.label})]},y)}),!v.read&&i.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>c(v.id),children:[i.jsx(uw,{size:14}),i.jsx("span",{className:"ml-1",children:"Marquer comme lu"})]})]})]})]})})},v.id))})]}),p>0&&i.jsx(pn,{className:"flex justify-end",children:i.jsx(fe,{variant:"ghost",size:"sm",onClick:u,children:"Marquer tout comme lu"})})]})},q_=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size||24,height:e.size||24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e.className||"",children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});function rn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function oi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ms(e,t){const n=rn(e);return isNaN(t)?oi(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function fa(e,t){const n=rn(e);if(isNaN(t))return oi(e,NaN);if(!t)return n;const r=n.getDate(),s=oi(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const a=s.getDate();return r>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const hj=6048e5,sY=864e5;let iY={};function _p(){return iY}function Za(e,t){var l,c,u,d;const n=_p(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=rn(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function cu(e){return Za(e,{weekStartsOn:1})}function cL(e){const t=rn(e),n=t.getFullYear(),r=oi(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=cu(r),a=oi(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=cu(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function yh(e){const t=rn(e);return t.setHours(0,0,0,0),t}function C0(e){const t=rn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function $a(e,t){const n=yh(e),r=yh(t),s=+n-C0(n),a=+r-C0(r);return Math.round((s-a)/sY)}function aY(e){const t=cL(e),n=oi(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),cu(n)}function Gw(e,t){const n=t*7;return ms(e,n)}function oY(e,t){return fa(e,t*12)}function lY(e){let t;return e.forEach(function(n){const r=rn(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function cY(e){let t;return e.forEach(n=>{const r=rn(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Is(e,t){const n=yh(e),r=yh(t);return+n==+r}function fj(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function uY(e){if(!fj(e)&&typeof e!="number")return!1;const t=rn(e);return!isNaN(Number(t))}function Vm(e,t){const n=rn(e),r=rn(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function dY(e,t,n){const r=Za(e,n),s=Za(t,n),a=+r-C0(r),o=+s-C0(s);return Math.round((a-o)/hj)}function mj(e){const t=rn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function $s(e){const t=rn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function uL(e){const t=rn(e),n=oi(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function pj(e,t){var l,c,u,d;const n=_p(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=rn(e),a=s.getDay(),o=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function dL(e){return pj(e,{weekStartsOn:1})}const hY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fY=(e,t,n)=>{let r;const s=hY[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function zd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const mY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vY={date:zd({formats:mY,defaultWidth:"full"}),time:zd({formats:pY,defaultWidth:"full"}),dateTime:zd({formats:gY,defaultWidth:"full"})},xY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yY=(e,t,n,r)=>xY[e];function Oa(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const wY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_Y={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CY=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kY={ordinalNumber:CY,era:Oa({values:wY,defaultWidth:"wide"}),quarter:Oa({values:bY,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Oa({values:jY,defaultWidth:"wide"}),day:Oa({values:NY,defaultWidth:"wide"}),dayPeriod:Oa({values:_Y,defaultWidth:"wide",formattingValues:SY,defaultFormattingWidth:"wide"})};function Fa(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?AY(l,h=>h.test(o)):PY(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function PY(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function AY(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function hL(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const EY=/^(\d+)(th|st|nd|rd)?/i,LY=/\d+/i,TY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MY={any:[/^b/i,/^(a|c)/i]},RY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DY={any:[/1/i,/2/i,/3/i,/4/i]},IY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$Y={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},UY={ordinalNumber:hL({matchPattern:EY,parsePattern:LY,valueCallback:e=>parseInt(e,10)}),era:Fa({matchPatterns:TY,defaultMatchWidth:"wide",parsePatterns:MY,defaultParseWidth:"any"}),quarter:Fa({matchPatterns:RY,defaultMatchWidth:"wide",parsePatterns:DY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fa({matchPatterns:IY,defaultMatchWidth:"wide",parsePatterns:OY,defaultParseWidth:"any"}),day:Fa({matchPatterns:FY,defaultMatchWidth:"wide",parsePatterns:zY,defaultParseWidth:"any"}),dayPeriod:Fa({matchPatterns:BY,defaultMatchWidth:"any",parsePatterns:$Y,defaultParseWidth:"any"})},fL={code:"en-US",formatDistance:fY,formatLong:vY,formatRelative:yY,localize:kY,match:UY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qY(e){const t=rn(e);return $a(t,uL(t))+1}function mL(e){const t=rn(e),n=+cu(t)-+aY(t);return Math.round(n/hj)+1}function pL(e,t){var d,h,m,p;const n=rn(e),r=n.getFullYear(),s=_p(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=oi(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Za(o,t),c=oi(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Za(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function VY(e,t){var l,c,u,d;const n=_p(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=pL(e,t),a=oi(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Za(a,t)}function gL(e,t){const n=rn(e),r=+Za(n,t)-+VY(n,t);return Math.round(r/hj)+1}function mn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const cl={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return mn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mn(n+1,2)},d(e,t){return mn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mn(e.getHours()%12||12,t.length)},H(e,t){return mn(e.getHours(),t.length)},m(e,t){return mn(e.getMinutes(),t.length)},s(e,t){return mn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return mn(s,t.length)}},nd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V_={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return cl.y(e,t)},Y:function(e,t,n,r){const s=pL(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return mn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):mn(a,t.length)},R:function(e,t){const n=cL(e);return mn(n,t.length)},u:function(e,t){const n=e.getFullYear();return mn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return cl.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=gL(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):mn(s,t.length)},I:function(e,t,n){const r=mL(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):mn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):cl.d(e,t)},D:function(e,t,n){const r=qY(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return mn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return mn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return mn(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=nd.noon:r===0?s=nd.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=nd.evening:r>=12?s=nd.afternoon:r>=4?s=nd.morning:s=nd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return cl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):cl.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):mn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):cl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):cl.s(e,t)},S:function(e,t){return cl.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return H_(r);case"XXXX":case"XX":return Tc(r);case"XXXXX":case"XXX":default:return Tc(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return H_(r);case"xxxx":case"xx":return Tc(r);case"xxxxx":case"xxx":default:return Tc(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+W_(r,":");case"OOOO":default:return"GMT"+Tc(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+W_(r,":");case"zzzz":default:return"GMT"+Tc(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return mn(r,t.length)},T:function(e,t,n){const r=e.getTime();return mn(r,t.length)}};function W_(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+mn(a,2)}function H_(e,t){return e%60===0?(e>0?"-":"+")+mn(Math.abs(e)/60,2):Tc(e,t)}function Tc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=mn(Math.trunc(r/60),2),a=mn(r%60,2);return n+s+t+a}const G_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},WY=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return G_(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",G_(r,t)).replace("{{time}}",vL(s,t))},HY={p:vL,P:WY},GY=/^D+$/,YY=/^Y+$/,KY=["D","DD","YY","YYYY"];function JY(e){return GY.test(e)}function XY(e){return YY.test(e)}function ZY(e,t,n){const r=QY(e,t,n);if(console.warn(r),KY.includes(e))throw new RangeError(r)}function QY(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nK=/^'([^]*?)'?$/,rK=/''/g,sK=/[a-zA-Z]/;function _n(e,t,n){var d,h,m,p,w,v,N,y;const r=_p(),s=(n==null?void 0:n.locale)??r.locale??fL,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((y=(N=r.locale)==null?void 0:N.options)==null?void 0:y.weekStartsOn)??0,l=rn(e);if(!uY(l))throw new RangeError("Invalid time value");let c=t.match(tK).map(x=>{const S=x[0];if(S==="p"||S==="P"){const k=HY[S];return k(x,s.formatLong)}return x}).join("").match(eK).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const S=x[0];if(S==="'")return{isToken:!1,value:iK(x)};if(V_[S])return{isToken:!0,value:x};if(S.match(sK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const S=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&XY(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&JY(S))&&ZY(S,t,String(e));const k=V_[S[0]];return k(l,S,s.localize,u)}).join("")}function iK(e){const t=e.match(nK);return t?t[1].replace(rK,"'"):e}function aK(e){const t=rn(e),n=t.getFullYear(),r=t.getMonth(),s=oi(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function oK(e){return Math.trunc(+rn(e)/1e3)}function lK(e){const t=rn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function cK(e,t){return dY(lK(e),$s(e),t)+1}function Yw(e,t){const n=rn(e),r=rn(t);return n.getTime()>r.getTime()}function xL(e,t){const n=rn(e),r=rn(t);return+n<+r}function gj(e,t){const n=rn(e),r=rn(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function uK(e,t){const n=rn(e),r=rn(t);return n.getFullYear()===r.getFullYear()}function qy(e,t){return ms(e,-t)}function Vy(e,t){const n=rn(e),r=n.getFullYear(),s=n.getDate(),a=oi(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const o=aK(a);return n.setMonth(t,Math.min(s,o)),n}function Y_(e,t){const n=rn(e);return isNaN(+n)?oi(e,NaN):(n.setFullYear(t),n)}const dK={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},hK=(e,t,n)=>{let r;const s=dK[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},fK={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},mK={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},pK={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gK={date:zd({formats:fK,defaultWidth:"full"}),time:zd({formats:mK,defaultWidth:"full"}),dateTime:zd({formats:pK,defaultWidth:"full"})},vK={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},xK=(e,t,n,r)=>vK[e],yK={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},wK={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},bK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},jK={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},NK={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},_K=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;if(n===0)return"0";const s=["year","week","hour","minute","second"];let a;return n===1?a=r&&s.includes(r)?"ère":"er":a="ème",n+a},SK=["MMM","MMMM"],CK={preprocessor:(e,t)=>e.getDate()===1||!t.some(r=>r.isToken&&SK.includes(r.value))?t:t.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:_K,era:Oa({values:yK,defaultWidth:"wide"}),quarter:Oa({values:wK,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Oa({values:bK,defaultWidth:"wide"}),day:Oa({values:jK,defaultWidth:"wide"}),dayPeriod:Oa({values:NK,defaultWidth:"wide"})},kK=/^(\d+)(ième|ère|ème|er|e)?/i,PK=/\d+/i,AK={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},EK={any:[/^av/i,/^ap/i]},LK={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},TK={any:[/1/i,/2/i,/3/i,/4/i]},MK={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},RK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},DK={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},IK={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},OK={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},FK={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},zK={ordinalNumber:hL({matchPattern:kK,parsePattern:PK,valueCallback:e=>parseInt(e)}),era:Fa({matchPatterns:AK,defaultMatchWidth:"wide",parsePatterns:EK,defaultParseWidth:"any"}),quarter:Fa({matchPatterns:LK,defaultMatchWidth:"wide",parsePatterns:TK,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fa({matchPatterns:MK,defaultMatchWidth:"wide",parsePatterns:RK,defaultParseWidth:"any"}),day:Fa({matchPatterns:DK,defaultMatchWidth:"wide",parsePatterns:IK,defaultParseWidth:"any"}),dayPeriod:Fa({matchPatterns:OK,defaultMatchWidth:"any",parsePatterns:FK,defaultParseWidth:"any"})},ss={code:"fr",formatDistance:hK,formatLong:gK,formatRelative:xK,localize:CK,match:zK,options:{weekStartsOn:1,firstWeekContainsDate:4}};var jt=function(){return jt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},jt.apply(this,arguments)};function BK(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function yL(e,t,n){for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Sp(e){return e.mode==="multiple"}function Cp(e){return e.mode==="range"}function Yx(e){return e.mode==="single"}var $K={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function UK(e,t){return _n(e,"LLLL y",t)}function qK(e,t){return _n(e,"d",t)}function VK(e,t){return _n(e,"LLLL",t)}function WK(e){return"".concat(e)}function HK(e,t){return _n(e,"cccccc",t)}function GK(e,t){return _n(e,"yyyy",t)}var YK=Object.freeze({__proto__:null,formatCaption:UK,formatDay:qK,formatMonthCaption:VK,formatWeekNumber:WK,formatWeekdayName:HK,formatYearCaption:GK}),KK=function(e,t,n){return _n(e,"do MMMM (EEEE)",n)},JK=function(){return"Month: "},XK=function(){return"Go to next month"},ZK=function(){return"Go to previous month"},QK=function(e,t){return _n(e,"cccc",t)},eJ=function(e){return"Week n. ".concat(e)},tJ=function(){return"Year: "},nJ=Object.freeze({__proto__:null,labelDay:KK,labelMonthDropdown:JK,labelNext:XK,labelPrevious:ZK,labelWeekNumber:eJ,labelWeekday:QK,labelYearDropdown:tJ});function rJ(){var e="buttons",t=$K,n=fL,r={},s={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:YK,labels:nJ,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:a,styles:o,today:l,mode:"default"}}function sJ(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,a=e.fromDate,o=e.toDate;return r?a=$s(r):t&&(a=new Date(t,0,1)),s?o=mj(s):n&&(o=new Date(n,11,31)),{fromDate:a?yh(a):void 0,toDate:o?yh(o):void 0}}var wL=b.createContext(void 0);function iJ(e){var t,n=e.initialProps,r=rJ(),s=sJ(n),a=s.fromDate,o=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(Yx(n)||Sp(n)||Cp(n))&&(c=n.onSelect);var u=jt(jt(jt({},r),n),{captionLayout:l,classNames:jt(jt({},r.classNames),n.classNames),components:jt({},n.components),formatters:jt(jt({},r.formatters),n.formatters),fromDate:a,labels:jt(jt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:jt(jt({},r.modifiers),n.modifiers),modifiersClassNames:jt(jt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:jt(jt({},r.styles),n.styles),toDate:o});return i.jsx(wL.Provider,{value:u,children:e.children})}function An(){var e=b.useContext(wL);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function bL(e){var t=An(),n=t.locale,r=t.classNames,s=t.styles,a=t.formatters.formatCaption;return i.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function aJ(e){return i.jsx("svg",jt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jL(e){var t,n,r=e.onChange,s=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,u=An(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:aJ;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:a}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function oJ(e){var t,n=An(),r=n.fromDate,s=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var h=[];if(uK(r,s))for(var m=$s(r),p=r.getMonth();p<=s.getMonth();p++)h.push(Vy(m,p));else for(var m=$s(new Date),p=0;p<=11;p++)h.push(Vy(m,p));var w=function(N){var y=Number(N.target.value),x=Vy($s(e.displayMonth),y);e.onChange(x)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:jL;return i.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(N){return i.jsx("option",{value:N.getMonth(),children:l(N,{locale:o})},N.getMonth())})})}function lJ(e){var t,n=e.displayMonth,r=An(),s=r.fromDate,a=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!s)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var p=s.getFullYear(),w=a.getFullYear(),v=p;v<=w;v++)m.push(Y_(uL(new Date),v));var N=function(x){var S=Y_($s(n),Number(x.target.value));e.onChange(S)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:jL;return i.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:N,value:n.getFullYear(),caption:d(n,{locale:o}),children:m.map(function(x){return i.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function cJ(e,t){var n=b.useState(e),r=n[0],s=n[1],a=t===void 0?r:t;return[a,s]}function uJ(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&Vm(a,s)<0){var u=-1*(c-1);s=fa(a,u)}return o&&Vm(s,o)<0&&(s=o),$s(s)}function dJ(){var e=An(),t=uJ(e),n=cJ(t,e.month),r=n[0],s=n[1],a=function(o){var l;if(!e.disableNavigation){var c=$s(o);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,a]}function hJ(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=$s(e),a=$s(fa(s,r)),o=Vm(a,s),l=[],c=0;c<o;c++){var u=fa(s,c);l.push(u)}return n&&(l=l.reverse()),l}function fJ(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=r?a:1,l=$s(e);if(!n)return fa(l,o);var c=Vm(n,e);if(!(c<a))return fa(l,o)}}function mJ(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=r?a:1,l=$s(e);if(!n)return fa(l,-o);var c=Vm(l,n);if(!(c<=0))return fa(l,-o)}}var NL=b.createContext(void 0);function pJ(e){var t=An(),n=dJ(),r=n[0],s=n[1],a=hJ(r,t),o=fJ(r,t),l=mJ(r,t),c=function(h){return a.some(function(m){return gj(h,m)})},u=function(h,m){c(h)||(m&&xL(h,m)?s(fa(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(NL.Provider,{value:d,children:e.children})}function kp(){var e=b.useContext(NL);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function K_(e){var t,n=An(),r=n.classNames,s=n.styles,a=n.components,o=kp().goToMonth,l=function(d){o(fa(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:bL,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:r.vhidden,children:u}),i.jsx(oJ,{onChange:l,displayMonth:e.displayMonth}),i.jsx(lJ,{onChange:l,displayMonth:e.displayMonth})]})}function gJ(e){return i.jsx("svg",jt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function vJ(e){return i.jsx("svg",jt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var k0=b.forwardRef(function(e,t){var n=An(),r=n.classNames,s=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var o=a.join(" "),l=jt(jt({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),i.jsx("button",jt({},e,{ref:t,type:"button",className:o,style:l}))});function xJ(e){var t,n,r=An(),s=r.dir,a=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var m=u(e.previousMonth,{locale:a}),p=[o.nav_button,o.nav_button_previous].join(" "),w=d(e.nextMonth,{locale:a}),v=[o.nav_button,o.nav_button_next].join(" "),N=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:vJ,y=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:gJ;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(k0,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?i.jsx(N,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(k0,{name:"next-month","aria-label":w,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(N,{className:o.nav_icon,style:l.nav_icon})})]})}function J_(e){var t=An().numberOfMonths,n=kp(),r=n.previousMonth,s=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(w){return gj(e.displayMonth,w)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),m=function(){r&&a(r)},p=function(){s&&a(s)};return i.jsx(xJ,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:p})}function yJ(e){var t,n=An(),r=n.classNames,s=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:bL,u;return s?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(K_,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(K_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(J_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(J_,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:r.caption,style:a.caption,children:u})}function wJ(e){var t=An(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?i.jsx("tfoot",{className:s,style:r.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:n})})}):i.jsx(i.Fragment,{})}function bJ(e,t,n){for(var r=n?cu(new Date):Za(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var o=ms(r,a);s.push(o)}return s}function jJ(){var e=An(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=bJ(s,a,o);return i.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&i.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return i.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function NJ(){var e,t=An(),n=t.classNames,r=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:jJ;return i.jsx("thead",{style:r.head,className:n.head,children:i.jsx(a,{})})}function _J(e){var t=An(),n=t.locale,r=t.formatters.formatDay;return i.jsx(i.Fragment,{children:r(e.date,{locale:n})})}var vj=b.createContext(void 0);function SJ(e){if(!Sp(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(vj.Provider,{value:t,children:e.children})}return i.jsx(CJ,{initialProps:e.initialProps,children:e.children})}function CJ(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,a=t.max,o=function(u,d,h){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,u,d,h);var w=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!w){var v=!!(!d.selected&&a&&(r==null?void 0:r.length)===a);if(!v){var N=r?yL([],r):[];if(d.selected){var y=N.findIndex(function(x){return Is(u,x)});N.splice(y,1)}else N.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,N,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=a&&r.length>a-1,h=r.some(function(m){return Is(m,u)});return!!(d&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return i.jsx(vj.Provider,{value:c,children:n})}function xj(){var e=b.useContext(vj);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function kJ(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Is(s,e)&&Is(r,e)?void 0:Is(s,e)?{from:s,to:void 0}:Is(r,e)?void 0:Yw(r,e)?{from:e,to:s}:{from:r,to:e}:s?Yw(e,s)?{from:s,to:e}:{from:e,to:s}:r?xL(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var yj=b.createContext(void 0);function PJ(e){if(!Cp(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(yj.Provider,{value:t,children:e.children})}return i.jsx(AJ,{initialProps:e.initialProps,children:e.children})}function AJ(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},a=s.from,o=s.to,l=t.min,c=t.max,u=function(p,w,v){var N,y;(N=t.onDayClick)===null||N===void 0||N.call(t,p,w,v);var x=kJ(p,r);(y=t.onSelect)===null||y===void 0||y.call(t,x,p,w,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],Is(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:qy(a,l-1),before:ms(a,l-1)}),a&&o&&d.disabled.push({after:a,before:ms(a,l-1)}),!a&&o&&d.disabled.push({after:qy(o,l-1),before:ms(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:ms(a,-c+1)}),d.disabled.push({after:ms(a,c-1)})),a&&o){var h=$a(o,a)+1,m=c-h;d.disabled.push({before:qy(a,m)}),d.disabled.push({after:ms(o,m)})}!a&&o&&(d.disabled.push({before:ms(o,-c+1)}),d.disabled.push({after:ms(o,c-1)}))}return i.jsx(yj.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function wj(){var e=b.useContext(yj);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function bv(e){return Array.isArray(e)?yL([],e):e!==void 0?[e]:[]}function EJ(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=bv(s)}),t}var ma;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ma||(ma={}));var LJ=ma.Selected,vo=ma.Disabled,TJ=ma.Hidden,MJ=ma.Today,Wy=ma.RangeEnd,Hy=ma.RangeMiddle,Gy=ma.RangeStart,RJ=ma.Outside;function DJ(e,t,n){var r,s=(r={},r[LJ]=bv(e.selected),r[vo]=bv(e.disabled),r[TJ]=bv(e.hidden),r[MJ]=[e.today],r[Wy]=[],r[Hy]=[],r[Gy]=[],r[RJ]=[],r);return e.fromDate&&s[vo].push({before:e.fromDate}),e.toDate&&s[vo].push({after:e.toDate}),Sp(e)?s[vo]=s[vo].concat(t.modifiers[vo]):Cp(e)&&(s[vo]=s[vo].concat(n.modifiers[vo]),s[Gy]=n.modifiers[Gy],s[Hy]=n.modifiers[Hy],s[Wy]=n.modifiers[Wy]),s}var _L=b.createContext(void 0);function IJ(e){var t=An(),n=xj(),r=wj(),s=DJ(t,n,r),a=EJ(t.modifiers),o=jt(jt({},s),a);return i.jsx(_L.Provider,{value:o,children:e.children})}function SL(){var e=b.useContext(_L);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function OJ(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function FJ(e){return!!(e&&typeof e=="object"&&"from"in e)}function zJ(e){return!!(e&&typeof e=="object"&&"after"in e)}function BJ(e){return!!(e&&typeof e=="object"&&"before"in e)}function $J(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function UJ(e,t){var n,r=t.from,s=t.to;if(r&&s){var a=$a(s,r)<0;a&&(n=[s,r],r=n[0],s=n[1]);var o=$a(e,r)>=0&&$a(s,e)>=0;return o}return s?Is(s,e):r?Is(r,e):!1}function qJ(e){return fj(e)}function VJ(e){return Array.isArray(e)&&e.every(fj)}function WJ(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(qJ(n))return Is(e,n);if(VJ(n))return n.includes(e);if(FJ(n))return UJ(e,n);if($J(n))return n.dayOfWeek.includes(e.getDay());if(OJ(n)){var r=$a(n.before,e),s=$a(n.after,e),a=r>0,o=s<0,l=Yw(n.before,n.after);return l?o&&a:a||o}return zJ(n)?$a(e,n.after)>0:BJ(n)?$a(n.before,e)>0:typeof n=="function"?n(e):!1})}function bj(e,t,n){var r=Object.keys(t).reduce(function(a,o){var l=t[o];return WJ(e,l)&&a.push(o),a},[]),s={};return r.forEach(function(a){return s[a]=!0}),n&&!gj(e,n)&&(s.outside=!0),s}function HJ(e,t){for(var n=$s(e[0]),r=mj(e[e.length-1]),s,a,o=n;o<=r;){var l=bj(o,t),c=!l.disabled&&!l.hidden;if(!c){o=ms(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),s||(s=o),o=ms(o,1)}return a||s}var GJ=365;function CL(e,t){var n=t.moveBy,r=t.direction,s=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,m={day:ms,week:Gw,month:fa,year:oY,startOfWeek:function(N){return s.ISOWeek?cu(N):Za(N,{locale:h,weekStartsOn:c})},endOfWeek:function(N){return s.ISOWeek?dL(N):pj(N,{locale:h,weekStartsOn:c})}},p=m[n](e,r==="after"?1:-1);r==="before"&&u?p=lY([u,p]):r==="after"&&d&&(p=cY([d,p]));var w=!0;if(a){var v=bj(p,a);w=!v.disabled&&!v.hidden}return w?p:l.count>GJ?l.lastFocused:CL(p,{moveBy:n,direction:r,context:s,modifiers:a,retry:jt(jt({},l),{count:l.count+1})})}var kL=b.createContext(void 0);function YJ(e){var t=kp(),n=SL(),r=b.useState(),s=r[0],a=r[1],o=b.useState(),l=o[0],c=o[1],u=HJ(t.displayMonths,n),d=s??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(s),a(void 0)},m=function(N){a(N)},p=An(),w=function(N,y){if(s){var x=CL(s,{moveBy:N,direction:y,context:p,modifiers:n});Is(s,x)||(t.goToDate(x,s),m(x))}},v={focusedDay:s,focusTarget:d,blur:h,focus:m,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return i.jsx(kL.Provider,{value:v,children:e.children})}function jj(){var e=b.useContext(kL);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function KJ(e,t){var n=SL(),r=bj(e,n,t);return r}var Nj=b.createContext(void 0);function JJ(e){if(!Yx(e.initialProps)){var t={selected:void 0};return i.jsx(Nj.Provider,{value:t,children:e.children})}return i.jsx(XJ,{initialProps:e.initialProps,children:e.children})}function XJ(e){var t=e.initialProps,n=e.children,r=function(a,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,o,l)},s={selected:t.selected,onDayClick:r};return i.jsx(Nj.Provider,{value:s,children:n})}function PL(){var e=b.useContext(Nj);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function ZJ(e,t){var n=An(),r=PL(),s=xj(),a=wj(),o=jj(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,m=o.focus,p=o.focusMonthBefore,w=o.focusMonthAfter,v=o.focusYearBefore,N=o.focusYearAfter,y=o.focusStartOfWeek,x=o.focusEndOfWeek,S=function(Q){var I,G,ie,ve;Yx(n)?(I=r.onDayClick)===null||I===void 0||I.call(r,e,t,Q):Sp(n)?(G=s.onDayClick)===null||G===void 0||G.call(s,e,t,Q):Cp(n)?(ie=a.onDayClick)===null||ie===void 0||ie.call(a,e,t,Q):(ve=n.onDayClick)===null||ve===void 0||ve.call(n,e,t,Q)},k=function(Q){var I;m(e),(I=n.onDayFocus)===null||I===void 0||I.call(n,e,t,Q)},P=function(Q){var I;h(),(I=n.onDayBlur)===null||I===void 0||I.call(n,e,t,Q)},z=function(Q){var I;(I=n.onDayMouseEnter)===null||I===void 0||I.call(n,e,t,Q)},B=function(Q){var I;(I=n.onDayMouseLeave)===null||I===void 0||I.call(n,e,t,Q)},R=function(Q){var I;(I=n.onDayPointerEnter)===null||I===void 0||I.call(n,e,t,Q)},K=function(Q){var I;(I=n.onDayPointerLeave)===null||I===void 0||I.call(n,e,t,Q)},ee=function(Q){var I;(I=n.onDayTouchCancel)===null||I===void 0||I.call(n,e,t,Q)},M=function(Q){var I;(I=n.onDayTouchEnd)===null||I===void 0||I.call(n,e,t,Q)},T=function(Q){var I;(I=n.onDayTouchMove)===null||I===void 0||I.call(n,e,t,Q)},V=function(Q){var I;(I=n.onDayTouchStart)===null||I===void 0||I.call(n,e,t,Q)},U=function(Q){var I;(I=n.onDayKeyUp)===null||I===void 0||I.call(n,e,t,Q)},oe=function(Q){var I;switch(Q.key){case"ArrowLeft":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":Q.preventDefault(),Q.stopPropagation(),u();break;case"ArrowUp":Q.preventDefault(),Q.stopPropagation(),d();break;case"PageUp":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?v():p();break;case"PageDown":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?N():w();break;case"Home":Q.preventDefault(),Q.stopPropagation(),y();break;case"End":Q.preventDefault(),Q.stopPropagation(),x();break}(I=n.onDayKeyDown)===null||I===void 0||I.call(n,e,t,Q)},te={onClick:S,onFocus:k,onBlur:P,onKeyDown:oe,onKeyUp:U,onMouseEnter:z,onMouseLeave:B,onPointerEnter:R,onPointerLeave:K,onTouchCancel:ee,onTouchEnd:M,onTouchMove:T,onTouchStart:V};return te}function QJ(){var e=An(),t=PL(),n=xj(),r=wj(),s=Yx(e)?t.selected:Sp(e)?n.selected:Cp(e)?r.selected:void 0;return s}function eX(e){return Object.values(ma).includes(e)}function tX(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(eX(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function nX(e,t){var n=jt({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=jt(jt({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function rX(e,t,n){var r,s,a,o=An(),l=jj(),c=KJ(e,t),u=ZJ(e,c),d=QJ(),h=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var z;c.outside||l.focusedDay&&h&&Is(l.focusedDay,e)&&((z=n.current)===null||z===void 0||z.focus())},[l.focusedDay,e,n,h,c.outside]);var m=tX(o,c).join(" "),p=nX(o,c),w=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(a=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:_J,N=i.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:m,children:N,role:"gridcell"},x=l.focusTarget&&Is(l.focusTarget,e)&&!c.outside,S=l.focusedDay&&Is(l.focusedDay,e),k=jt(jt(jt({},y),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=S||x?0:-1,r)),u),P={isButton:h,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:k,divProps:y};return P}function sX(e){var t=b.useRef(null),n=rX(e.date,e.displayMonth,t);return n.isHidden?i.jsx("div",{role:"gridcell"}):n.isButton?i.jsx(k0,jt({name:"day",ref:t},n.buttonProps)):i.jsx("div",jt({},n.divProps))}function iX(e){var t=e.number,n=e.dates,r=An(),s=r.onWeekNumberClick,a=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var h=c(Number(t),{locale:l}),m=function(p){s(t,n,p)};return i.jsx(k0,{name:"week-number","aria-label":h,className:o.weeknumber,style:a.weeknumber,onClick:m,children:d})}function aX(e){var t,n,r=An(),s=r.styles,a=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:sX,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:iX,d;return o&&(d=i.jsx("td",{className:a.cell,style:s.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:a.row,style:s.row,children:[d,e.dates.map(function(h){return i.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:h})},oK(h))})]})}function X_(e,t,n){for(var r=n!=null&&n.ISOWeek?dL(t):pj(t,n),s=n!=null&&n.ISOWeek?cu(e):Za(e,n),a=$a(r,s),o=[],l=0;l<=a;l++)o.push(ms(s,l));var c=o.reduce(function(u,d){var h=n!=null&&n.ISOWeek?mL(d):gL(d,n),m=u.find(function(p){return p.weekNumber===h});return m?(m.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function oX(e,t){var n=X_($s(e),mj(e),t);if(t!=null&&t.useFixedWeeks){var r=cK(e,t);if(r<6){var s=n[n.length-1],a=s.dates[s.dates.length-1],o=Gw(a,6-r),l=X_(Gw(a,1),o,t);n.push.apply(n,l)}}return n}function lX(e){var t,n,r,s=An(),a=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,w=oX(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:h,firstWeekContainsDate:m}),v=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:NJ,N=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:aX,y=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:wJ;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(v,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:w.map(function(x){return i.jsx(N,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),i.jsx(y,{displayMonth:e.displayMonth})]})}function cX(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var uX=cX()?b.useLayoutEffect:b.useEffect,Yy=!1,dX=0;function Z_(){return"react-day-picker-".concat(++dX)}function hX(e){var t,n=e??(Yy?Z_():null),r=b.useState(n),s=r[0],a=r[1];return uX(function(){s===null&&a(Z_())},[]),b.useEffect(function(){Yy===!1&&(Yy=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function fX(e){var t,n,r=An(),s=r.dir,a=r.classNames,o=r.styles,l=r.components,c=kp().displayMonths,u=hX(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[a.month],m=o.month,p=e.displayIndex===0,w=e.displayIndex===c.length-1,v=!p&&!w;s==="rtl"&&(t=[p,w],w=t[0],p=t[1]),p&&(h.push(a.caption_start),m=jt(jt({},m),o.caption_start)),w&&(h.push(a.caption_end),m=jt(jt({},m),o.caption_end)),v&&(h.push(a.caption_between),m=jt(jt({},m),o.caption_between));var N=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:yJ;return i.jsxs("div",{className:h.join(" "),style:m,children:[i.jsx(N,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(lX,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function mX(e){var t=An(),n=t.classNames,r=t.styles;return i.jsx("div",{className:n.months,style:r.months,children:e.children})}function pX(e){var t,n,r=e.initialProps,s=An(),a=jj(),o=kp(),l=b.useState(!1),c=l[0],u=l[1];b.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=jt(jt({},s.styles.root),s.style),m=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var N;return jt(jt({},w),(N={},N[v]=r[v],N))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:mX;return i.jsx("div",jt({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:i.jsx(p,{children:o.displayMonths.map(function(w,v){return i.jsx(fX,{displayIndex:v,displayMonth:w},v)})})}))}function gX(e){var t=e.children,n=BK(e,["children"]);return i.jsx(iJ,{initialProps:n,children:i.jsx(pJ,{children:i.jsx(JJ,{initialProps:n,children:i.jsx(SJ,{initialProps:n,children:i.jsx(PJ,{initialProps:n,children:i.jsx(IJ,{children:i.jsx(YJ,{children:t})})})})})})})}function vX(e){return i.jsx(gX,jt({},e,{children:i.jsx(pX,{initialProps:e})}))}function Pp({className:e,classNames:t,showOutsideDays:n=!0,...r}){return i.jsx(vX,{showOutsideDays:n,className:et("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:et(Ow({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:et(Ow({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>i.jsx(l5,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(np,{className:"h-4 w-4"})},...r})}Pp.displayName="Calendar";const xX=[{id:"1",title:"Fin du bail - Apt. 123",date:new Date(2023,9,15),type:"lease_end",property:"123 Rue de Paris",tenant:"M. Martin",description:"Le bail arrive à échéance. Contacter le locataire pour discuter du renouvellement."},{id:"2",title:"Révision de loyer IRL",date:new Date(2023,9,1),type:"rent_review",property:"45 Avenue Victor Hugo",tenant:"Mme. Bernard",description:"Date anniversaire du bail. Possibilité de révision selon l'indice IRL."},{id:"3",title:"DPE à renouveler",date:new Date(2023,8,12),type:"diagnostic",property:"8 Boulevard Gambetta",description:"Le Diagnostic de Performance Énergétique arrive à expiration et doit être renouvelé."},{id:"4",title:"Assurance habitation à vérifier",date:new Date(2023,8,25),type:"insurance",property:"27 Rue de la République",tenant:"M. Dubois",description:"L'attestation d'assurance habitation du locataire arrive à expiration."},{id:"5",title:"Visite technique annuelle",date:new Date(2023,10,5),type:"maintenance",property:"Résidence Les Fleurs",description:"Visite technique annuelle programmée pour les parties communes."},{id:"6",title:"État des lieux - Nouveau locataire",date:new Date(2023,9,3),type:"move_in",property:"12 Rue des Lilas",tenant:"Mme. Laurent",description:"État des lieux d'entrée pour le nouveau locataire. RDV à 14h."}],AL=()=>{const[e,t]=b.useState(xX),[n,r]=b.useState(new Date),[s,a]=b.useState(new Date),[o,l]=b.useState(null),{settings:c,updateSettings:u}=Mh(),{toast:d}=dn(),h=P=>{u({enableCalendarReminders:P})},p=(P=>P?e.filter(z=>z.date.getDate()===P.getDate()&&z.date.getMonth()===P.getMonth()&&z.date.getFullYear()===P.getFullYear()):[])(s),w=()=>{d({title:"Créer un rappel",description:"Cette fonctionnalité sera disponible prochainement."})},v=P=>{l(P)},N=()=>{const P=new Date(n);P.setMonth(P.getMonth()-1),r(P)},y=()=>{const P=new Date(n);P.setMonth(P.getMonth()+1),r(P)},x=P=>e.some(z=>z.date.getDate()===P.getDate()&&z.date.getMonth()===P.getMonth()&&z.date.getFullYear()===P.getFullYear()),S=n.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),k=P=>{switch(P){case"lease_end":return"border-yellow-500 bg-yellow-50";case"rent_review":return"border-green-500 bg-green-50";case"diagnostic":return"border-blue-500 bg-blue-50";case"insurance":return"border-red-500 bg-red-50";case"maintenance":return"border-purple-500 bg-purple-50";case"move_in":case"move_out":return"border-indigo-500 bg-indigo-50";default:return"border-gray-500 bg-gray-50"}};return i.jsxs($e,{className:"w-full",children:[i.jsx(st,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Rappels pour obligations légales"}),i.jsx(qt,{children:"Calendrier des échéances importantes pour votre activité"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($t,{htmlFor:"calendar-toggle",children:"Activer"}),i.jsx(gs,{id:"calendar-toggle",checked:c.enableCalendarReminders,onCheckedChange:h})]})]})}),i.jsx(Ue,{className:"space-y-4",children:o?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h3",{className:"text-lg font-semibold",children:o.title}),i.jsx(fe,{variant:"outline",onClick:()=>l(null),children:"Retour au calendrier"})]}),i.jsx("div",{className:`border-l-4 ${k(o.type)} p-4 rounded-md bg-opacity-50`,children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Bs,{size:18,className:"mt-0.5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Date"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.date.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(yX,{size:18,className:"mt-0.5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Propriété"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.property})]})]}),o.tenant&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(wX,{size:18,className:"mt-0.5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Locataire"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.tenant})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Mf,{size:18,className:"mt-0.5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Description"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]})]})]})}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsxs(fe,{variant:"outline",children:[i.jsx(Ut,{size:16,className:"mr-2"}),"Voir les documents associés"]}),i.jsx(fe,{children:"Gérer cette obligation"})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fe,{variant:"outline",size:"icon",onClick:N,children:i.jsx(l5,{size:16})}),i.jsx("h3",{className:"text-lg font-medium capitalize",children:S}),i.jsx(fe,{variant:"outline",size:"icon",onClick:y,children:i.jsx(np,{size:16})})]}),i.jsxs(fe,{onClick:w,children:[i.jsx(yr,{size:16,className:"mr-1"}),"Ajouter un rappel"]})]}),i.jsx(Pp,{mode:"single",selected:s,onSelect:a,month:n,className:"rounded-md border",modifiers:{hasEvent:P=>x(P)},modifiersStyles:{hasEvent:{fontWeight:"bold",backgroundColor:"var(--primary-50)",color:"var(--primary)"}}})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-3",children:s&&p.length>0?`Évènements du ${s.toLocaleDateString("fr-FR")}`:"Évènements du jour"}),p.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground border rounded-md",children:"Aucun évènement pour cette date."}):i.jsx("div",{className:"space-y-3",children:p.map(P=>i.jsxs("div",{className:`border-l-4 ${k(P.type)} p-3 rounded-md cursor-pointer hover:bg-muted/50 transition-colors`,onClick:()=>v(P),children:[i.jsx("h4",{className:"font-medium",children:P.title}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[P.property,P.tenant&&` - ${P.tenant}`]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:P.description})]},P.id))})]})]})})]})},yX=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size||24,height:e.size||24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e.className||"",children:[i.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),i.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),wX=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size||24,height:e.size||24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e.className||"",children:[i.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),bX=()=>{const{settings:e,updateSettings:t,isLoading:n}=Mh(),r=(s,a)=>{t({[s]:a})};return i.jsxs($e,{className:"w-full",children:[i.jsx(st,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(q7,{className:"h-6 w-6 text-primary"}),i.jsxs("div",{children:[i.jsx(it,{children:"Paramètres de l'IA"}),i.jsx(qt,{children:"Gérez les fonctionnalités d'intelligence artificielle"})]})]})}),i.jsx(Ue,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs($e,{className:"overflow-hidden",children:[i.jsx("div",{className:"h-1.5 bg-primary"}),i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Rk,{className:"h-5 w-5 text-primary mt-0.5"}),i.jsxs("div",{children:[i.jsx($t,{className:"text-base font-medium",children:"Rappels de loyer automatiques"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Détecte et envoie des rappels pour les loyers impayés"})]})]}),i.jsx(gs,{checked:e.enableRentReminders,onCheckedChange:s=>r("enableRentReminders",s),disabled:n})]})})]}),i.jsxs($e,{className:"overflow-hidden",children:[i.jsx("div",{className:"h-1.5 bg-cyan"}),i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(cw,{className:"h-5 w-5 text-cyan mt-0.5"}),i.jsxs("div",{children:[i.jsx($t,{className:"text-base font-medium",children:"Assistant IA"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Chatbot intelligent pour répondre aux questions"})]})]}),i.jsx(gs,{checked:e.enableChatbot,onCheckedChange:s=>r("enableChatbot",s),disabled:n})]})})]}),i.jsxs($e,{className:"overflow-hidden",children:[i.jsx("div",{className:"h-1.5 bg-green-600"}),i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ad,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx($t,{className:"text-base font-medium",children:"Évaluation des locataires"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Système de score pour l'analyse des dossiers de candidature"})]})]}),i.jsx(gs,{checked:e.enableTenantScoring,onCheckedChange:s=>r("enableTenantScoring",s),disabled:n})]})})]}),i.jsxs($e,{className:"overflow-hidden",children:[i.jsx("div",{className:"h-1.5 bg-blue-600"}),i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(tp,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx($t,{className:"text-base font-medium",children:"Notifications intelligentes"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Suggestions et alertes contextuelles"})]})]}),i.jsx(gs,{checked:e.enableSmartNotifications,onCheckedChange:s=>r("enableSmartNotifications",s),disabled:n})]})})]}),i.jsxs($e,{className:"overflow-hidden",children:[i.jsx("div",{className:"h-1.5 bg-orange-500"}),i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Bs,{className:"h-5 w-5 text-orange-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx($t,{className:"text-base font-medium",children:"Rappels calendrier"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Calendrier des échéances légales et importantes"})]})]}),i.jsx(gs,{checked:e.enableCalendarReminders,onCheckedChange:s=>r("enableCalendarReminders",s),disabled:n})]})})]}),i.jsxs($e,{className:"overflow-hidden",children:[i.jsx("div",{className:"h-1.5 bg-purple-600"}),i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Wl,{className:"h-5 w-5 text-purple-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx($t,{className:"text-base font-medium",children:"Apprentissage automatique"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"L'IA s'améliore en fonction de vos interactions"})]})]}),i.jsx(gs,{checked:!0,disabled:!0})]})})]})]}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-md flex gap-3",children:[i.jsx(rx,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Paramètres globaux de l'IA"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ces fonctionnalités d'IA visent à automatiser les tâches répétitives et à vous aider dans vos prises de décision. Elles peuvent être activées ou désactivées individuellement en fonction de vos besoins."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Toutes les données utilisées par l'IA restent confidentielles et sous votre contrôle."})]})]})]})})]})},jX=()=>{const[e,t]=b.useState("assistant");return i.jsx(M5,{children:i.jsx(Ur,{title:"Fonctionnalités IA",children:i.jsx("div",{className:"space-y-6",children:i.jsxs(fr,{defaultValue:e,onValueChange:t,className:"space-y-4",children:[i.jsxs(ir,{className:"grid grid-cols-3 md:grid-cols-6 h-auto",children:[i.jsx(Ke,{value:"assistant",className:"py-2",children:"Assistant IA"}),i.jsx(Ke,{value:"reminders",className:"py-2",children:"Rappels loyer"}),i.jsx(Ke,{value:"scoring",className:"py-2",children:"Évaluation"}),i.jsx(Ke,{value:"notifications",className:"py-2",children:"Notifications"}),i.jsx(Ke,{value:"calendar",className:"py-2",children:"Calendrier"}),i.jsx(Ke,{value:"settings",className:"py-2",children:"Paramètres"})]}),i.jsx(Ot,{value:"assistant",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"md:col-span-2",children:i.jsx(lL,{role:"manager"})}),i.jsx("div",{children:i.jsx(U_,{})})]})}),i.jsx(Ot,{value:"reminders",className:"space-y-4",children:i.jsx(FG,{})}),i.jsx(Ot,{value:"scoring",className:"space-y-4",children:i.jsx(nY,{})}),i.jsx(Ot,{value:"notifications",className:"space-y-4",children:i.jsx(U_,{})}),i.jsx(Ot,{value:"calendar",className:"space-y-4",children:i.jsx(AL,{})}),i.jsx(Ot,{value:"settings",className:"space-y-4",children:i.jsx(bX,{})})]})})})})},NX=()=>i.jsx(M5,{children:i.jsx(cc,{title:"Assistant IA",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"md:col-span-2",children:i.jsx(lL,{role:"tenant"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs($e,{children:[i.jsxs(st,{className:"pb-3",children:[i.jsxs(it,{className:"flex items-center gap-2",children:[i.jsx(Ut,{className:"h-5 w-5 text-primary"}),"Documents récents"]}),i.jsx(qt,{children:"Accédez rapidement à vos documents"})]}),i.jsx(Ue,{children:i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"text-sm flex justify-between",children:[i.jsx("span",{children:"Quittance de loyer - Août 2023"}),i.jsx("a",{href:"#",className:"text-primary",children:"Voir"})]}),i.jsxs("li",{className:"text-sm flex justify-between",children:[i.jsx("span",{children:"Attestation d'assurance"}),i.jsx("a",{href:"#",className:"text-primary",children:"Voir"})]}),i.jsxs("li",{className:"text-sm flex justify-between",children:[i.jsx("span",{children:"Contrat de bail"}),i.jsx("a",{href:"#",className:"text-primary",children:"Voir"})]})]})})]}),i.jsxs($e,{children:[i.jsxs(st,{className:"pb-3",children:[i.jsxs(it,{className:"flex items-center gap-2",children:[i.jsx(Rk,{className:"h-5 w-5 text-primary"}),"Rappels"]}),i.jsx(qt,{children:"Vos prochaines échéances importantes"})]}),i.jsx(Ue,{children:i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"text-sm flex justify-between",children:[i.jsx("span",{children:"Paiement du loyer"}),i.jsx("span",{className:"text-muted-foreground",children:"01/10/2023"})]}),i.jsxs("li",{className:"text-sm flex justify-between",children:[i.jsx("span",{children:"Renouvellement assurance"}),i.jsx("span",{className:"text-muted-foreground",children:"15/10/2023"})]})]})})]})]})]}),i.jsx(AL,{})]})})}),EL=e=>{const[t,n]=b.useState([]),[r,s]=b.useState(null),[a,o]=b.useState(null),[l,c]=b.useState(!1),{toast:u}=dn();return b.useEffect(()=>{(async()=>{if(!e){console.log("No user ID provided to usePropertyData");return}c(!0);try{console.log("Fetching properties for manager ID:",e);const{data:h,error:m}=await Kt.from("properties").select("id, address, city").eq("manager_id",e);if(m){console.error("Error fetching properties:",m),u({title:"Erreur de chargement",description:"Impossible de charger les propriétés. "+m.message,variant:"destructive"}),n([]);return}console.log("Properties fetched in usePropertyData:",h),!h||h.length===0?(console.log("No properties found for this manager"),n([])):n(h.map(p=>({id:p.id,address:p.address,city:p.city})))}catch(h){console.error("Erreur lors du chargement des propriétés:",h),u({title:"Erreur",description:"Impossible de charger les propriétés: "+(h.message||"Erreur inconnue"),variant:"destructive"}),n([])}finally{c(!1)}})()},[e,u]),b.useEffect(()=>{(async()=>{if(!r){o(null);return}try{console.log("Fetching property details for ID:",r);const{data:h,error:m}=await Kt.from("properties").select("id, address, city, postal_code, monthly_rent, type, size_sqm, rooms, bathrooms, bedrooms").eq("id",r).maybeSingle();if(m){console.error("Error fetching property details:",m),u({title:"Erreur",description:"Impossible de récupérer les détails de la propriété: "+m.message,variant:"destructive"});return}console.log("Property details fetched:",h),o(h)}catch(h){console.error("Erreur lors de la récupération des détails de la propriété:",h),u({title:"Erreur",description:"Impossible de récupérer les détails: "+(h.message||"Erreur inconnue"),variant:"destructive"})}})()},[r,u]),{properties:t,selectedProperty:r,setSelectedProperty:s,propertyDetails:a,isLoading:l}},_X=e=>{const[t,n]=b.useState([]),[r,s]=b.useState(null),[a,o]=b.useState(null),[l,c]=b.useState(!1),{toast:u}=dn();return b.useEffect(()=>{(async()=>{if(e){c(!0);try{console.log("Fetching tenants for manager ID:",e);const{data:h,error:m}=await Kt.from("tenants").select("id, full_name, email");if(m)throw console.error("Error fetching tenants:",m),m;console.log("Tenants fetched:",h),(!h||h.length===0)&&u({title:"Aucun locataire trouvé",description:"Vous n'avez pas encore de locataires enregistrés",variant:"default"}),n((h==null?void 0:h.map(p=>({id:p.id,name:p.full_name||p.email,email:p.email})))||[])}catch(h){console.error("Erreur lors de la récupération des locataires:",h),u({title:"Erreur",description:"Impossible de charger les locataires",variant:"destructive"})}finally{c(!1)}}})()},[e,u]),b.useEffect(()=>{(async()=>{if(!r){o(null);return}try{console.log("Fetching tenant details for ID:",r);const{data:h,error:m}=await Kt.from("tenants").select("id, full_name, email, phone, status, rent_amount").eq("id",r).single();if(m)throw console.error("Error fetching tenant details:",m),m;console.log("Tenant details fetched:",h),o(h)}catch(h){console.error("Erreur lors de la récupération des détails du locataire:",h),u({title:"Erreur",description:"Impossible de récupérer les détails du locataire",variant:"destructive"})}})()},[r,u]),{tenants:t,selectedTenant:r,setSelectedTenant:s,tenantDetails:a,isLoading:l}},SX=(e,t)=>{const[n,r]=b.useState(null),[s,a]=b.useState(!1),{toast:o}=dn();return b.useEffect(()=>{(async()=>{if(!e||!t){r(null);return}a(!0);try{console.log("Fetching lease for property:",e,"and tenant:",t);const{data:c,error:u}=await Kt.from("leases").select("id, start_date, end_date, monthly_rent, security_deposit, active, property_id, tenant_id, created_at").eq("property_id",e).eq("tenant_id",t).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(u)throw console.error("Error fetching lease details:",u),u;if(console.log("Lease details fetched:",c),c){const d={id:c.id,property_id:c.property_id,tenant_id:c.tenant_id,start_date:c.start_date,end_date:c.end_date,monthly_rent:c.monthly_rent,security_deposit:c.security_deposit,status:c.active?"active":"terminated",created_at:c.created_at};r(d)}else console.log("No lease found for this tenant and property"),o({title:"Information",description:"Aucun bail trouvé pour ce locataire et ce bien",variant:"default"}),r(null)}catch(c){console.error("Erreur lors de la récupération des détails du bail:",c),o({title:"Erreur",description:`Erreur lors de la récupération du bail: ${c.message||"Unknown error"}`,variant:"destructive"}),r(null)}finally{a(!1)}})()},[e,t,o]),{leaseDetails:n,isLoading:s}};function gn(e){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(e)}var ns=Uint8Array,ni=Uint16Array,_j=Int32Array,Kx=new ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jx=new ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Kw=new ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LL=function(e,t){for(var n=new ni(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new _j(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return{b:n,r:s}},TL=LL(Kx,2),ML=TL.b,Jw=TL.r;ML[28]=258,Jw[258]=28;var RL=LL(Jx,0),CX=RL.b,Q_=RL.r,Xw=new ni(32768);for(var Tn=0;Tn<32768;++Tn){var ul=(Tn&43690)>>1|(Tn&21845)<<1;ul=(ul&52428)>>2|(ul&13107)<<2,ul=(ul&61680)>>4|(ul&3855)<<4,Xw[Tn]=((ul&65280)>>8|(ul&255)<<8)>>1}var Ha=function(e,t,n){for(var r=e.length,s=0,a=new ni(t);s<r;++s)e[s]&&++a[e[s]-1];var o=new ni(t);for(s=1;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;var l;if(n){l=new ni(1<<t);var c=15-t;for(s=0;s<r;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],h=o[e[s]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)l[Xw[h]>>c]=u}else for(l=new ni(r),s=0;s<r;++s)e[s]&&(l[s]=Xw[o[e[s]-1]++]>>15-e[s]);return l},tc=new ns(288);for(var Tn=0;Tn<144;++Tn)tc[Tn]=8;for(var Tn=144;Tn<256;++Tn)tc[Tn]=9;for(var Tn=256;Tn<280;++Tn)tc[Tn]=7;for(var Tn=280;Tn<288;++Tn)tc[Tn]=8;var Wm=new ns(32);for(var Tn=0;Tn<32;++Tn)Wm[Tn]=5;var kX=Ha(tc,9,0),PX=Ha(tc,9,1),AX=Ha(Wm,5,0),EX=Ha(Wm,5,1),Ky=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Wi=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Jy=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Sj=function(e){return(e+7)/8|0},DL=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new ns(e.subarray(t,n))},LX=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ji=function(e,t,n){var r=new Error(t||LX[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Ji),!n)throw r;return r},TX=function(e,t,n,r){var s=e.length,a=0;if(!s||t.f&&!t.l)return n||new ns(0);var o=!n,l=o||t.i!=2,c=t.i;o&&(n=new ns(s*3));var u=function(ke){var Me=n.length;if(ke>Me){var Fe=new ns(Math.max(Me*2,ke));Fe.set(n),n=Fe}},d=t.f||0,h=t.p||0,m=t.b||0,p=t.l,w=t.d,v=t.m,N=t.n,y=s*8;do{if(!p){d=Wi(e,h,1);var x=Wi(e,h+1,3);if(h+=3,x)if(x==1)p=PX,w=EX,v=9,N=5;else if(x==2){var z=Wi(e,h,31)+257,B=Wi(e,h+10,15)+4,R=z+Wi(e,h+5,31)+1;h+=14;for(var K=new ns(R),ee=new ns(19),M=0;M<B;++M)ee[Kw[M]]=Wi(e,h+M*3,7);h+=B*3;for(var T=Ky(ee),V=(1<<T)-1,U=Ha(ee,T,1),M=0;M<R;){var oe=U[Wi(e,h,V)];h+=oe&15;var S=oe>>4;if(S<16)K[M++]=S;else{var te=0,Q=0;for(S==16?(Q=3+Wi(e,h,3),h+=2,te=K[M-1]):S==17?(Q=3+Wi(e,h,7),h+=3):S==18&&(Q=11+Wi(e,h,127),h+=7);Q--;)K[M++]=te}}var I=K.subarray(0,z),G=K.subarray(z);v=Ky(I),N=Ky(G),p=Ha(I,v,1),w=Ha(G,N,1)}else Ji(1);else{var S=Sj(h)+4,k=e[S-4]|e[S-3]<<8,P=S+k;if(P>s){c&&Ji(0);break}l&&u(m+k),n.set(e.subarray(S,P),m),t.b=m+=k,t.p=h=P*8,t.f=d;continue}if(h>y){c&&Ji(0);break}}l&&u(m+131072);for(var ie=(1<<v)-1,ve=(1<<N)-1,A=h;;A=h){var te=p[Jy(e,h)&ie],q=te>>4;if(h+=te&15,h>y){c&&Ji(0);break}if(te||Ji(2),q<256)n[m++]=q;else if(q==256){A=h,p=null;break}else{var H=q-254;if(q>264){var M=q-257,ne=Kx[M];H=Wi(e,h,(1<<ne)-1)+ML[M],h+=ne}var re=w[Jy(e,h)&ve],se=re>>4;re||Ji(3),h+=re&15;var G=CX[se];if(se>3){var ne=Jx[se];G+=Jy(e,h)&(1<<ne)-1,h+=ne}if(h>y){c&&Ji(0);break}l&&u(m+131072);var de=m+H;if(m<G){var me=a-G,Ce=Math.min(G,de);for(me+m<0&&Ji(3);m<Ce;++m)n[m]=r[me+m]}for(;m<de;++m)n[m]=n[m-G]}}t.l=p,t.p=A,t.b=m,t.f=d,p&&(d=1,t.m=v,t.d=w,t.n=N)}while(!d);return m!=n.length&&o?DL(n,0,m):n.subarray(0,m)},xo=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Cf=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Xy=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return{t:OL,l:0};if(s==1){var o=new ns(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(P,z){return P.f-z.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,h=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=n[n[u].f<n[h].f?u++:h++],c=n[u!=d&&n[u].f<n[h].f?u++:h++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,r=1;r<s;++r)a[r].s>m&&(m=a[r].s);var p=new ni(m+1),w=Zw(n[d-1],p,0);if(w>t){var r=0,v=0,N=w-t,y=1<<N;for(a.sort(function(z,B){return p[B.s]-p[z.s]||z.f-B.f});r<s;++r){var x=a[r].s;if(p[x]>t)v+=y-(1<<w-p[x]),p[x]=t;else break}for(v>>=N;v>0;){var S=a[r].s;p[S]<t?v-=1<<t-p[S]++-1:++r}for(;r>=0&&v;--r){var k=a[r].s;p[k]==t&&(--p[k],++v)}w=t}return{t:new ns(p),l:w}},Zw=function(e,t,n){return e.s==-1?Math.max(Zw(e.l,t,n+1),Zw(e.r,t,n+1)):t[e.s]=n},e3=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ni(++t),r=0,s=e[0],a=1,o=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=e[l]}return{c:n.subarray(0,r),n:t}},kf=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},IL=function(e,t,n){var r=n.length,s=Sj(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<r;++a)e[s+a+4]=n[a];return(s+4+r)*8},t3=function(e,t,n,r,s,a,o,l,c,u,d){xo(t,d++,n),++s[256];for(var h=Xy(s,15),m=h.t,p=h.l,w=Xy(a,15),v=w.t,N=w.l,y=e3(m),x=y.c,S=y.n,k=e3(v),P=k.c,z=k.n,B=new ni(19),R=0;R<x.length;++R)++B[x[R]&31];for(var R=0;R<P.length;++R)++B[P[R]&31];for(var K=Xy(B,7),ee=K.t,M=K.l,T=19;T>4&&!ee[Kw[T-1]];--T);var V=u+5<<3,U=kf(s,tc)+kf(a,Wm)+o,oe=kf(s,m)+kf(a,v)+o+14+3*T+kf(B,ee)+2*B[16]+3*B[17]+7*B[18];if(c>=0&&V<=U&&V<=oe)return IL(t,d,e.subarray(c,c+u));var te,Q,I,G;if(xo(t,d,1+(oe<U)),d+=2,oe<U){te=Ha(m,p,0),Q=m,I=Ha(v,N,0),G=v;var ie=Ha(ee,M,0);xo(t,d,S-257),xo(t,d+5,z-1),xo(t,d+10,T-4),d+=14;for(var R=0;R<T;++R)xo(t,d+3*R,ee[Kw[R]]);d+=3*T;for(var ve=[x,P],A=0;A<2;++A)for(var q=ve[A],R=0;R<q.length;++R){var H=q[R]&31;xo(t,d,ie[H]),d+=ee[H],H>15&&(xo(t,d,q[R]>>5&127),d+=q[R]>>12)}}else te=kX,Q=tc,I=AX,G=Wm;for(var R=0;R<l;++R){var ne=r[R];if(ne>255){var H=ne>>18&31;Cf(t,d,te[H+257]),d+=Q[H+257],H>7&&(xo(t,d,ne>>23&31),d+=Kx[H]);var re=ne&31;Cf(t,d,I[re]),d+=G[re],re>3&&(Cf(t,d,ne>>5&8191),d+=Jx[re])}else Cf(t,d,te[ne]),d+=Q[ne]}return Cf(t,d,te[256]),d+Q[256]},MX=new _j([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),OL=new ns(0),RX=function(e,t,n,r,s,a){var o=a.z||e.length,l=new ns(r+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(r,l.length-s),u=a.l,d=(a.r||0)&7;if(t){d&&(c[0]=a.r>>3);for(var h=MX[t-1],m=h>>13,p=h&8191,w=(1<<n)-1,v=a.p||new ni(32768),N=a.h||new ni(w+1),y=Math.ceil(n/3),x=2*y,S=function(at){return(e[at]^e[at+1]<<y^e[at+2]<<x)&w},k=new _j(25e3),P=new ni(288),z=new ni(32),B=0,R=0,K=a.i||0,ee=0,M=a.w||0,T=0;K+2<o;++K){var V=S(K),U=K&32767,oe=N[V];if(v[U]=oe,N[V]=U,M<=K){var te=o-K;if((B>7e3||ee>24576)&&(te>423||!u)){d=t3(e,c,0,k,P,z,R,ee,T,K-T,d),ee=B=R=0,T=K;for(var Q=0;Q<286;++Q)P[Q]=0;for(var Q=0;Q<30;++Q)z[Q]=0}var I=2,G=0,ie=p,ve=U-oe&32767;if(te>2&&V==S(K-ve))for(var A=Math.min(m,te)-1,q=Math.min(32767,K),H=Math.min(258,te);ve<=q&&--ie&&U!=oe;){if(e[K+I]==e[K+I-ve]){for(var ne=0;ne<H&&e[K+ne]==e[K+ne-ve];++ne);if(ne>I){if(I=ne,G=ve,ne>A)break;for(var re=Math.min(ve,ne-2),se=0,Q=0;Q<re;++Q){var de=K-ve+Q&32767,me=v[de],Ce=de-me&32767;Ce>se&&(se=Ce,oe=de)}}}U=oe,oe=v[U],ve+=U-oe&32767}if(G){k[ee++]=268435456|Jw[I]<<18|Q_[G];var ke=Jw[I]&31,Me=Q_[G]&31;R+=Kx[ke]+Jx[Me],++P[257+ke],++z[Me],M=K+I,++B}else k[ee++]=e[K],++P[e[K]]}}for(K=Math.max(K,M);K<o;++K)k[ee++]=e[K],++P[e[K]];d=t3(e,c,u,k,P,z,R,ee,T,K-T,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=N,a.p=v,a.i=K,a.w=M)}else{for(var K=a.w||0;K<o+u;K+=65535){var Fe=K+65535;Fe>=o&&(c[d/8|0]=u,Fe=o),d=IL(c,d+1,e.subarray(K,Fe))}a.i=o}return DL(l,0,r+Sj(d)+s)},FL=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,a=n.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},DX=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new ns(a.length+e.length);o.set(a),o.set(e,a.length),e=o,s.w=a.length}return RX(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},zL=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},IX=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=FL();s.p(t.dictionary),zL(e,2,s.d())}},OX=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ji(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Ji(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Qw(e,t){t||(t={});var n=FL();n.p(e);var r=DX(e,t,t.dictionary?6:2,4);return IX(r,t),zL(r,r.length-4,n.d()),r}function FX(e,t){return TX(e.subarray(OX(e,t),-4),{i:2},t,t)}var zX=typeof TextDecoder<"u"&&new TextDecoder,BX=0;try{zX.decode(OL,{stream:!0}),BX=1}catch{}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Zy(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var Nn={log:Zy,warn:function(e){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):Zy.call(null,arguments))},error:function(e){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):Zy(e))}};function Qy(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Mc(r.response,t,n)},r.onerror=function(){Nn.error("could not download file")},r.send()}function n3(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Qg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var tm,eb,Mc=wt.saveAs||((typeof window>"u"?"undefined":gn(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=wt.URL||wt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?n3(s.href)?Qy(e,t,n):Qg(s,s.target="_blank"):Qg(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Qg(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(n3(e))Qy(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Qg(r)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:gn(a)!=="object"&&(Nn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Qy(e,t,n);var s=e.type==="application/octet-stream",a=/constructor/i.test(wt.HTMLElement)||wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&a)&&(typeof FileReader>"u"?"undefined":gn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(e)}else{var c=wt.URL||wt.webkitURL,u=c.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function BL(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,o=s.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function e2(e,t){var n=e[0],r=e[1],s=e[2],a=e[3];n=Yr(n,r,s,a,t[0],7,-680876936),a=Yr(a,n,r,s,t[1],12,-389564586),s=Yr(s,a,n,r,t[2],17,606105819),r=Yr(r,s,a,n,t[3],22,-1044525330),n=Yr(n,r,s,a,t[4],7,-176418897),a=Yr(a,n,r,s,t[5],12,1200080426),s=Yr(s,a,n,r,t[6],17,-1473231341),r=Yr(r,s,a,n,t[7],22,-45705983),n=Yr(n,r,s,a,t[8],7,1770035416),a=Yr(a,n,r,s,t[9],12,-1958414417),s=Yr(s,a,n,r,t[10],17,-42063),r=Yr(r,s,a,n,t[11],22,-1990404162),n=Yr(n,r,s,a,t[12],7,1804603682),a=Yr(a,n,r,s,t[13],12,-40341101),s=Yr(s,a,n,r,t[14],17,-1502002290),n=Kr(n,r=Yr(r,s,a,n,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Kr(a,n,r,s,t[6],9,-1069501632),s=Kr(s,a,n,r,t[11],14,643717713),r=Kr(r,s,a,n,t[0],20,-373897302),n=Kr(n,r,s,a,t[5],5,-701558691),a=Kr(a,n,r,s,t[10],9,38016083),s=Kr(s,a,n,r,t[15],14,-660478335),r=Kr(r,s,a,n,t[4],20,-405537848),n=Kr(n,r,s,a,t[9],5,568446438),a=Kr(a,n,r,s,t[14],9,-1019803690),s=Kr(s,a,n,r,t[3],14,-187363961),r=Kr(r,s,a,n,t[8],20,1163531501),n=Kr(n,r,s,a,t[13],5,-1444681467),a=Kr(a,n,r,s,t[2],9,-51403784),s=Kr(s,a,n,r,t[7],14,1735328473),n=Jr(n,r=Kr(r,s,a,n,t[12],20,-1926607734),s,a,t[5],4,-378558),a=Jr(a,n,r,s,t[8],11,-2022574463),s=Jr(s,a,n,r,t[11],16,1839030562),r=Jr(r,s,a,n,t[14],23,-35309556),n=Jr(n,r,s,a,t[1],4,-1530992060),a=Jr(a,n,r,s,t[4],11,1272893353),s=Jr(s,a,n,r,t[7],16,-155497632),r=Jr(r,s,a,n,t[10],23,-1094730640),n=Jr(n,r,s,a,t[13],4,681279174),a=Jr(a,n,r,s,t[0],11,-358537222),s=Jr(s,a,n,r,t[3],16,-722521979),r=Jr(r,s,a,n,t[6],23,76029189),n=Jr(n,r,s,a,t[9],4,-640364487),a=Jr(a,n,r,s,t[12],11,-421815835),s=Jr(s,a,n,r,t[15],16,530742520),n=Xr(n,r=Jr(r,s,a,n,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Xr(a,n,r,s,t[7],10,1126891415),s=Xr(s,a,n,r,t[14],15,-1416354905),r=Xr(r,s,a,n,t[5],21,-57434055),n=Xr(n,r,s,a,t[12],6,1700485571),a=Xr(a,n,r,s,t[3],10,-1894986606),s=Xr(s,a,n,r,t[10],15,-1051523),r=Xr(r,s,a,n,t[1],21,-2054922799),n=Xr(n,r,s,a,t[8],6,1873313359),a=Xr(a,n,r,s,t[15],10,-30611744),s=Xr(s,a,n,r,t[6],15,-1560198380),r=Xr(r,s,a,n,t[13],21,1309151649),n=Xr(n,r,s,a,t[4],6,-145523070),a=Xr(a,n,r,s,t[11],10,-1120210379),s=Xr(s,a,n,r,t[2],15,718787259),r=Xr(r,s,a,n,t[9],21,-343485551),e[0]=Tl(n,e[0]),e[1]=Tl(r,e[1]),e[2]=Tl(s,e[2]),e[3]=Tl(a,e[3])}function Xx(e,t,n,r,s,a){return t=Tl(Tl(t,e),Tl(r,a)),Tl(t<<s|t>>>32-s,n)}function Yr(e,t,n,r,s,a,o){return Xx(t&n|~t&r,e,t,s,a,o)}function Kr(e,t,n,r,s,a,o){return Xx(t&r|n&~r,e,t,s,a,o)}function Jr(e,t,n,r,s,a,o){return Xx(t^n^r,e,t,s,a,o)}function Xr(e,t,n,r,s,a,o){return Xx(n^(t|~r),e,t,s,a,o)}function $L(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)e2(r,$X(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(e2(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,e2(r,s),r}function $X(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}tm=wt.atob.bind(wt),eb=wt.btoa.bind(wt);var r3="0123456789abcdef".split("");function UX(e){for(var t="",n=0;n<4;n++)t+=r3[e>>8*n+4&15]+r3[e>>8*n&15];return t}function qX(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function tb(e){return $L(e).map(qX).join("")}var VX=function(e){for(var t=0;t<e.length;t++)e[t]=UX(e[t]);return e.join("")}($L("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tl(e,t){if(VX){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function nb(e,t){var n,r,s,a;if(e!==n){for(var o=(s=e,a=1+(256/e.length>>0),new Array(a+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=e,r=l}else l=r;var h=t.length,m=0,p=0,w="";for(c=0;c<h;c++)p=(p+(d=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=d,o=l[(l[m]+l[p])%256],w+=String.fromCharCode(t.charCodeAt(c)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var s3={print:4,modify:8,copy:16,"annot-forms":32};function dd(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(s3.perm!==void 0)throw new Error("Invalid permission: "+l);s+=s3[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^s)),this.encryptionKey=tb(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=nb(this.encryptionKey,this.padding)}function hd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function i3(e){if(gn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!s],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(l){wt.console&&Nn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function P0(e){if(!(this instanceof P0))return new P0(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function UL(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Dc(e,t,n,r,s){if(!(this instanceof Dc))return new Dc(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,UL.call(this,r,s)}function kd(e,t,n,r,s){if(!(this instanceof kd))return new kd(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,UL.call(this,r,s)}function yt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",d=null;gn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=i3;var w="1.3",v=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(j){w=j};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var y=p.__private__.getPageFormat=function(j){return N[j]};s=s||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function k(){this.saveGraphicsState(),Z(new vt(Je,0,0,-Je,0,Yo()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),u="n",S=x.ADVANCED}function P(){this.restoreGraphicsState(),u="S",S=x.COMPAT}var z=p.__private__.combineFontStyleAndFontWeight=function(j,L){if(j=="bold"&&L=="normal"||j=="bold"&&L==400||j=="normal"&&L=="italic"||j=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(j=L==400||L==="normal"?j==="italic"?"italic":"normal":L!=700&&L!=="bold"||j!=="normal"?(L==700?"bold":L)+""+j:"bold"),j};p.advancedAPI=function(j){var L=S===x.COMPAT;return L&&k.call(this),typeof j!="function"||(j(this),L&&P.call(this)),this},p.compatAPI=function(j){var L=S===x.ADVANCED;return L&&P.call(this),typeof j!="function"||(j(this),L&&k.call(this)),this},p.isAdvancedAPI=function(){return S===x.ADVANCED};var B,R=function(j){if(S!==x.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=p.roundToPrecision=p.__private__.roundToPrecision=function(j,L){var J=t||L;if(isNaN(j)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(J).replace(/0+$/,"")};B=p.hpf=p.__private__.hpf=typeof c=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return K(j,c)}:c==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return K(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return K(j,16)};var ee=p.f2=p.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return K(j,2)},M=p.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return K(j,3)},T=p.scale=p.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?j*Je:S===x.ADVANCED?j:void 0},V=function(j){return S===x.COMPAT?Yo()-j:S===x.ADVANCED?j:void 0},U=function(j){return T(V(j))};p.__private__.setPrecision=p.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var oe,te="00000000000000000000000000000000",Q=p.__private__.getFileId=function(){return te},I=p.__private__.setFileId=function(j){return te=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(qr=new dd(d.userPermissions,d.userPassword,d.ownerPassword,te)),te};p.setFileId=function(j){return I(j),this},p.getFileId=function(){return Q()};var G=p.__private__.convertDateToPDFDate=function(j){var L=j.getTimezoneOffset(),J=L<0?"+":"-",ae=Math.floor(Math.abs(L/60)),ge=Math.abs(L%60),Se=[J,H(ae),"'",H(ge),"'"].join("");return["D:",j.getFullYear(),H(j.getMonth()+1),H(j.getDate()),H(j.getHours()),H(j.getMinutes()),H(j.getSeconds()),Se].join("")},ie=p.__private__.convertPDFDateToDate=function(j){var L=parseInt(j.substr(2,4),10),J=parseInt(j.substr(6,2),10)-1,ae=parseInt(j.substr(8,2),10),ge=parseInt(j.substr(10,2),10),Se=parseInt(j.substr(12,2),10),De=parseInt(j.substr(14,2),10);return new Date(L,J,ae,ge,Se,De,0)},ve=p.__private__.setCreationDate=function(j){var L;if(j===void 0&&(j=new Date),j instanceof Date)L=G(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=j}return oe=L},A=p.__private__.getCreationDate=function(j){var L=oe;return j==="jsDate"&&(L=ie(oe)),L};p.setCreationDate=function(j){return ve(j),this},p.getCreationDate=function(j){return A(j)};var q,H=p.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},ne=p.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},re=0,se=[],de=[],me=0,Ce=[],ke=[],Me=!1,Fe=de,at=function(){re=0,me=0,de=[],se=[],Ce=[],so=or(),Ii=or()};p.__private__.setCustomOutputDestination=function(j){Me=!0,Fe=j};var Ne=function(j){Me||(Fe=j)};p.__private__.resetCustomOutputDestination=function(){Me=!1,Fe=de};var Z=p.__private__.out=function(j){return j=j.toString(),me+=j.length+1,Fe.push(j),Fe},pt=p.__private__.write=function(j){return Z(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},Y=p.__private__.getArrayBuffer=function(j){for(var L=j.length,J=new ArrayBuffer(L),ae=new Uint8Array(J);L--;)ae[L]=j.charCodeAt(L);return J},X=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return X};var le=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(j){return le=S===x.ADVANCED?j/Je:j,this};var je,we=p.__private__.getFontSize=p.getFontSize=function(){return S===x.COMPAT?le:le*Je},be=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(j){return be=j,this},p.__private__.getR2L=p.getR2L=function(){return be};var Ie,He=p.__private__.setZoomMode=function(j){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))je=j;else if(isNaN(j)){if(L.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');je=j}else je=parseInt(j,10)};p.__private__.getZoomMode=function(){return je};var ct,dt=p.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Ie=j};p.__private__.getPageMode=function(){return Ie};var Bt=p.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');ct=j};p.__private__.getLayoutMode=function(){return ct},p.__private__.setDisplayMode=p.setDisplayMode=function(j,L,J){return He(j),Bt(L),dt(J),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(j){if(Object.keys(ft).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[j]},p.__private__.getDocumentProperties=function(){return ft},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(j){for(var L in ft)ft.hasOwnProperty(L)&&j[L]&&(ft[L]=j[L]);return this},p.__private__.setDocumentProperty=function(j,L){if(Object.keys(ft).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[j]=L};var kt,Je,Kn,Vt,os,Jt={},Qt={},ui=[],Ze={},en={},xt={},Un={},ar=null,bn=0,_t=[],an=new i3(p),pc=e.hotfixes||[],Ar={},ya={},wa=[],vt=function j(L,J,ae,ge,Se,De){if(!(this instanceof j))return new j(L,J,ae,ge,Se,De);isNaN(L)&&(L=1),isNaN(J)&&(J=0),isNaN(ae)&&(ae=0),isNaN(ge)&&(ge=1),isNaN(Se)&&(Se=0),isNaN(De)&&(De=0),this._matrix=[L,J,ae,ge,Se,De]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(j)},vt.prototype.multiply=function(j){var L=j.sx*this.sx+j.shy*this.shx,J=j.sx*this.shy+j.shy*this.sy,ae=j.shx*this.sx+j.sy*this.shx,ge=j.shx*this.shy+j.sy*this.sy,Se=j.tx*this.sx+j.ty*this.shx+this.tx,De=j.tx*this.shy+j.ty*this.sy+this.ty;return new vt(L,J,ae,ge,Se,De)},vt.prototype.decompose=function(){var j=this.sx,L=this.shy,J=this.shx,ae=this.sy,ge=this.tx,Se=this.ty,De=Math.sqrt(j*j+L*L),tt=(j/=De)*J+(L/=De)*ae;J-=j*tt,ae-=L*tt;var mt=Math.sqrt(J*J+ae*ae);return tt/=mt,j*(ae/=mt)<L*(J/=mt)&&(j=-j,L=-L,tt=-tt,De=-De),{scale:new vt(De,0,0,mt,0,0),translate:new vt(1,0,0,1,ge,Se),rotate:new vt(j,L,-L,j,0,0),skew:new vt(1,0,tt,1,0,0)}},vt.prototype.toString=function(j){return this.join(" ")},vt.prototype.inversed=function(){var j=this.sx,L=this.shy,J=this.shx,ae=this.sy,ge=this.tx,Se=this.ty,De=1/(j*ae-L*J),tt=ae*De,mt=-L*De,Et=-J*De,Pt=j*De;return new vt(tt,mt,Et,Pt,-tt*ge-Et*Se,-mt*ge-Pt*Se)},vt.prototype.applyToPoint=function(j){var L=j.x*this.sx+j.y*this.shx+this.tx,J=j.x*this.shy+j.y*this.sy+this.ty;return new Tu(L,J)},vt.prototype.applyToRectangle=function(j){var L=this.applyToPoint(j),J=this.applyToPoint(new Tu(j.x+j.w,j.y+j.h));return new Hh(L.x,L.y,J.x-L.x,J.y-L.y)},vt.prototype.clone=function(){var j=this.sx,L=this.shy,J=this.shx,ae=this.sy,ge=this.tx,Se=this.ty;return new vt(j,L,J,ae,ge,Se)},p.Matrix=vt;var Di=p.matrixMult=function(j,L){return L.multiply(j)},ba=new vt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ba;var js=function(j,L){if(!en[j]){var J=(L instanceof Dc?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);L.id=J,en[j]=J,Ze[J]=L,an.publish("addPattern",L)}};p.ShadingPattern=Dc,p.TilingPattern=kd,p.addShadingPattern=function(j,L){return R("addShadingPattern()"),js(j,L),this},p.beginTilingPattern=function(j){R("beginTilingPattern()"),Kp(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},p.endTilingPattern=function(j,L){R("endTilingPattern()"),L.stream=ke[q].join(`
`),js(j,L),an.publish("endTilingPattern",L),wa.pop().restore()};var mr=p.__private__.newObject=function(){var j=or();return qs(j,!0),j},or=p.__private__.newObjectDeferred=function(){return re++,se[re]=function(){return me},re},qs=function(j,L){return L=typeof L=="boolean"&&L,se[j]=me,L&&Z(j+" 0 obj"),j},yu=p.__private__.newAdditionalObject=function(){var j={objId:or(),content:""};return Ce.push(j),j},so=or(),Ii=or(),Oi=p.__private__.decodeColorString=function(j){var L=j.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var J=parseFloat(L[0]);L=[J,J,J,"r"]}for(var ae="#",ge=0;ge<3;ge++)ae+=("0"+Math.floor(255*parseFloat(L[ge])).toString(16)).slice(-2);return ae},Fi=p.__private__.encodeColorString=function(j){var L;typeof j=="string"&&(j={ch1:j});var J=j.ch1,ae=j.ch2,ge=j.ch3,Se=j.ch4,De=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var tt=new BL(J);if(tt.ok)J=tt.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var mt=parseInt(J.substr(1),16);J=mt>>16&255,ae=mt>>8&255,ge=255&mt}if(ae===void 0||Se===void 0&&J===ae&&ae===ge)if(typeof J=="string")L=J+" "+De[0];else switch(j.precision){case 2:L=ee(J/255)+" "+De[0];break;case 3:default:L=M(J/255)+" "+De[0]}else if(Se===void 0||gn(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return L=["1.","1.","1.",De[1]].join(" ");if(typeof J=="string")L=[J,ae,ge,De[1]].join(" ");else switch(j.precision){case 2:L=[ee(J/255),ee(ae/255),ee(ge/255),De[1]].join(" ");break;default:case 3:L=[M(J/255),M(ae/255),M(ge/255),De[1]].join(" ")}}else if(typeof J=="string")L=[J,ae,ge,Se,De[2]].join(" ");else switch(j.precision){case 2:L=[ee(J),ee(ae),ee(ge),ee(Se),De[2]].join(" ");break;case 3:default:L=[M(J),M(ae),M(ge),M(Se),De[2]].join(" ")}return L},ja=p.__private__.getFilters=function(){return o},di=p.__private__.putStream=function(j){var L=(j=j||{}).data||"",J=j.filters||ja(),ae=j.alreadyAppliedFilters||[],ge=j.addLength1||!1,Se=L.length,De=j.objectId,tt=function(Vr){return Vr};if(d!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(tt=qr.encryptor(De,0));var mt={};J===!0&&(J=["FlateEncode"]);var Et=j.additionalKeyValues||[],Pt=(mt=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(L,J):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(mt.data.length!==0&&(Et.push({key:"Length",value:mt.data.length}),ge===!0&&Et.push({key:"Length1",value:Se})),Pt.length!=0)if(Pt.split("/").length-1==1)Et.push({key:"Filter",value:Pt});else{Et.push({key:"Filter",value:"["+Pt+"]"});for(var Xt=0;Xt<Et.length;Xt+=1)if(Et[Xt].key==="DecodeParms"){for(var In=[],qn=0;qn<mt.reverseChain.split("/").length-1;qn+=1)In.push("null");In.push(Et[Xt].value),Et[Xt].value="["+In.join(" ")+"]"}}Z("<<");for(var lr=0;lr<Et.length;lr++)Z("/"+Et[lr].key+" "+Et[lr].value);Z(">>"),mt.data.length!==0&&(Z("stream"),Z(tt(mt.data)),Z("endstream"))},Na=p.__private__.putPage=function(j){var L=j.number,J=j.data,ae=j.objId,ge=j.contentsObjId;qs(ae,!0),Z("<</Type /Page"),Z("/Parent "+j.rootDictionaryObjId+" 0 R"),Z("/Resources "+j.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(B(j.mediaBox.bottomLeftX))+" "+parseFloat(B(j.mediaBox.bottomLeftY))+" "+B(j.mediaBox.topRightX)+" "+B(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&Z("/CropBox ["+B(j.cropBox.bottomLeftX)+" "+B(j.cropBox.bottomLeftY)+" "+B(j.cropBox.topRightX)+" "+B(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&Z("/BleedBox ["+B(j.bleedBox.bottomLeftX)+" "+B(j.bleedBox.bottomLeftY)+" "+B(j.bleedBox.topRightX)+" "+B(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&Z("/TrimBox ["+B(j.trimBox.bottomLeftX)+" "+B(j.trimBox.bottomLeftY)+" "+B(j.trimBox.topRightX)+" "+B(j.trimBox.topRightY)+"]"),j.artBox!==null&&Z("/ArtBox ["+B(j.artBox.bottomLeftX)+" "+B(j.artBox.bottomLeftY)+" "+B(j.artBox.topRightX)+" "+B(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&Z("/UserUnit "+j.userUnit),an.publish("putPage",{objId:ae,pageContext:_t[L],pageNumber:L,page:J}),Z("/Contents "+ge+" 0 R"),Z(">>"),Z("endobj");var Se=J.join(`
`);return S===x.ADVANCED&&(Se+=`
Q`),qs(ge,!0),di({data:Se,filters:ja(),objectId:ge}),Z("endobj"),ae},gc=p.__private__.putPages=function(){var j,L,J=[];for(j=1;j<=bn;j++)_t[j].objId=or(),_t[j].contentsObjId=or();for(j=1;j<=bn;j++)J.push(Na({number:j,data:ke[j],objId:_t[j].objId,contentsObjId:_t[j].contentsObjId,mediaBox:_t[j].mediaBox,cropBox:_t[j].cropBox,bleedBox:_t[j].bleedBox,trimBox:_t[j].trimBox,artBox:_t[j].artBox,userUnit:_t[j].userUnit,rootDictionaryObjId:so,resourceDictionaryObjId:Ii}));qs(so,!0),Z("<</Type /Pages");var ae="/Kids [";for(L=0;L<bn;L++)ae+=J[L]+" 0 R ";Z(ae+"]"),Z("/Count "+bn),Z(">>"),Z("endobj"),an.publish("postPutPages")},wu=function(j){an.publish("putFont",{font:j,out:Z,newObject:mr,putStream:di}),j.isAlreadyPutted!==!0&&(j.objectNumber=mr(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+hd(j.postScriptName)),Z("/Subtype /Type1"),typeof j.encoding=="string"&&Z("/Encoding /"+j.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},bu=function(){for(var j in Jt)Jt.hasOwnProperty(j)&&(h===!1||h===!0&&m.hasOwnProperty(j))&&wu(Jt[j])},ju=function(j){j.objectNumber=mr();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[B(j.x),B(j.y),B(j.x+j.width),B(j.y+j.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var J=j.pages[1].join(`
`);di({data:J,additionalKeyValues:L,objectId:j.objectNumber}),Z("endobj")},Nu=function(){for(var j in Ar)Ar.hasOwnProperty(j)&&ju(Ar[j])},Lp=function(j,L){var J,ae=[],ge=1/(L-1);for(J=0;J<1;J+=ge)ae.push(J);if(ae.push(1),j[0].offset!=0){var Se={offset:0,color:j[0].color};j.unshift(Se)}if(j[j.length-1].offset!=1){var De={offset:1,color:j[j.length-1].color};j.push(De)}for(var tt="",mt=0,Et=0;Et<ae.length;Et++){for(J=ae[Et];J>j[mt+1].offset;)mt++;var Pt=j[mt].offset,Xt=(J-Pt)/(j[mt+1].offset-Pt),In=j[mt].color,qn=j[mt+1].color;tt+=ne(Math.round((1-Xt)*In[0]+Xt*qn[0]).toString(16))+ne(Math.round((1-Xt)*In[1]+Xt*qn[1]).toString(16))+ne(Math.round((1-Xt)*In[2]+Xt*qn[2]).toString(16))}return tt.trim()},e1=function(j,L){L||(L=21);var J=mr(),ae=Lp(j.colors,L),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+L+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),di({data:ae,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),Z("endobj"),j.objectNumber=mr(),Z("<< /ShadingType "+j.type),Z("/ColorSpace /DeviceRGB");var Se="/Coords ["+B(parseFloat(j.coords[0]))+" "+B(parseFloat(j.coords[1]))+" ";j.type===2?Se+=B(parseFloat(j.coords[2]))+" "+B(parseFloat(j.coords[3])):Se+=B(parseFloat(j.coords[2]))+" "+B(parseFloat(j.coords[3]))+" "+B(parseFloat(j.coords[4]))+" "+B(parseFloat(j.coords[5])),Z(Se+="]"),j.matrix&&Z("/Matrix ["+j.matrix.toString()+"]"),Z("/Function "+J+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},t1=function(j,L){var J=or(),ae=mr();L.push({resourcesOid:J,objectOid:ae}),j.objectNumber=ae;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+j.boundingBox.map(B).join(" ")+"]"}),ge.push({key:"XStep",value:B(j.xStep)}),ge.push({key:"YStep",value:B(j.yStep)}),ge.push({key:"Resources",value:J+" 0 R"}),j.matrix&&ge.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),di({data:j.stream,additionalKeyValues:ge,objectId:j.objectNumber}),Z("endobj")},_u=function(j){var L;for(L in Ze)Ze.hasOwnProperty(L)&&(Ze[L]instanceof Dc?e1(Ze[L]):Ze[L]instanceof kd&&t1(Ze[L],j))},Tp=function(j){for(var L in j.objectNumber=mr(),Z("<<"),j)switch(L){case"opacity":Z("/ca "+ee(j[L]));break;case"stroke-opacity":Z("/CA "+ee(j[L]))}Z(">>"),Z("endobj")},n1=function(){var j;for(j in xt)xt.hasOwnProperty(j)&&Tp(xt[j])},Ih=function(){for(var j in Z("/XObject <<"),Ar)Ar.hasOwnProperty(j)&&Ar[j].objectNumber>=0&&Z("/"+j+" "+Ar[j].objectNumber+" 0 R");an.publish("putXobjectDict"),Z(">>")},r1=function(){qr.oid=mr(),Z("<<"),Z("/Filter /Standard"),Z("/V "+qr.v),Z("/R "+qr.r),Z("/U <"+qr.toHexString(qr.U)+">"),Z("/O <"+qr.toHexString(qr.O)+">"),Z("/P "+qr.P),Z(">>"),Z("endobj")},Mp=function(){for(var j in Z("/Font <<"),Jt)Jt.hasOwnProperty(j)&&(h===!1||h===!0&&m.hasOwnProperty(j))&&Z("/"+j+" "+Jt[j].objectNumber+" 0 R");Z(">>")},s1=function(){if(Object.keys(Ze).length>0){for(var j in Z("/Shading <<"),Ze)Ze.hasOwnProperty(j)&&Ze[j]instanceof Dc&&Ze[j].objectNumber>=0&&Z("/"+j+" "+Ze[j].objectNumber+" 0 R");an.publish("putShadingPatternDict"),Z(">>")}},Su=function(j){if(Object.keys(Ze).length>0){for(var L in Z("/Pattern <<"),Ze)Ze.hasOwnProperty(L)&&Ze[L]instanceof p.TilingPattern&&Ze[L].objectNumber>=0&&Ze[L].objectNumber<j&&Z("/"+L+" "+Ze[L].objectNumber+" 0 R");an.publish("putTilingPatternDict"),Z(">>")}},i1=function(){if(Object.keys(xt).length>0){var j;for(j in Z("/ExtGState <<"),xt)xt.hasOwnProperty(j)&&xt[j].objectNumber>=0&&Z("/"+j+" "+xt[j].objectNumber+" 0 R");an.publish("putGStateDict"),Z(">>")}},Jn=function(j){qs(j.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Mp(),s1(),Su(j.objectOid),i1(),Ih(),Z(">>"),Z("endobj")},Rp=function(){var j=[];bu(),n1(),Nu(),_u(j),an.publish("putResources"),j.forEach(Jn),Jn({resourcesOid:Ii,objectOid:Number.MAX_SAFE_INTEGER}),an.publish("postPutResources")},Dp=function(){an.publish("putAdditionalObjects");for(var j=0;j<Ce.length;j++){var L=Ce[j];qs(L.objId,!0),Z(L.content),Z("endobj")}an.publish("postPutAdditionalObjects")},Ip=function(j){Qt[j.fontName]=Qt[j.fontName]||{},Qt[j.fontName][j.fontStyle]=j.id},Oh=function(j,L,J,ae,ge){var Se={id:"F"+(Object.keys(Jt).length+1).toString(10),postScriptName:j,fontName:L,fontStyle:J,encoding:ae,isStandardFont:ge||!1,metadata:{}};return an.publish("addFont",{font:Se,instance:this}),Jt[Se.id]=Se,Ip(Se),Se.id},a1=function(j){for(var L=0,J=X.length;L<J;L++){var ae=Oh.call(this,j[L][0],j[L][1],j[L][2],X[L][3],!0);h===!1&&(m[ae]=!0);var ge=j[L][0].split("-");Ip({id:ae,fontName:ge[0],fontStyle:ge[1]||""})}an.publish("addFonts",{fonts:Jt,dictionary:Qt})},zi=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(ae){var L=ae.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var J="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ae.message;if(!wt.console)throw new Error(J);wt.console.error(J,ae),wt.alert&&alert(J)}},j.foo.bar=j,j.foo},Cu=function(j,L){var J,ae,ge,Se,De,tt,mt,Et,Pt;if(ge=(L=L||{}).sourceEncoding||"Unicode",De=L.outputEncoding,(L.autoencode||De)&&Jt[kt].metadata&&Jt[kt].metadata[ge]&&Jt[kt].metadata[ge].encoding&&(Se=Jt[kt].metadata[ge].encoding,!De&&Jt[kt].encoding&&(De=Jt[kt].encoding),!De&&Se.codePages&&(De=Se.codePages[0]),typeof De=="string"&&(De=Se[De]),De)){for(mt=!1,tt=[],J=0,ae=j.length;J<ae;J++)(Et=De[j.charCodeAt(J)])?tt.push(String.fromCharCode(Et)):tt.push(j[J]),tt[J].charCodeAt(0)>>8&&(mt=!0);j=tt.join("")}for(J=j.length;mt===void 0&&J!==0;)j.charCodeAt(J-1)>>8&&(mt=!0),J--;if(!mt)return j;for(tt=L.noBOM?[]:[254,255],J=0,ae=j.length;J<ae;J++){if((Pt=(Et=j.charCodeAt(J))>>8)>>8)throw new Error("Character at position "+J+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tt.push(Pt),tt.push(Et-(Pt<<8))}return String.fromCharCode.apply(void 0,tt)},Ns=p.__private__.pdfEscape=p.pdfEscape=function(j,L){return Cu(j,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fh=p.__private__.beginPage=function(j){ke[++bn]=[],_t[bn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},Fp(bn),Ne(ke[q])},Op=function(j,L){var J,ae,ge;switch(n=L||n,typeof j=="string"&&(J=y(j.toLowerCase()),Array.isArray(J)&&(ae=J[0],ge=J[1])),Array.isArray(j)&&(ae=j[0]*Je,ge=j[1]*Je),isNaN(ae)&&(ae=s[0],ge=s[1]),(ae>14400||ge>14400)&&(Nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),ge=Math.min(14400,ge)),s=[ae,ge],n.substr(0,1)){case"l":ge>ae&&(s=[ge,ae]);break;case"p":ae>ge&&(s=[ge,ae])}Fh(s),Vp(Uh),Z(Bi),Vh!==0&&Z(Vh+" J"),Wh!==0&&Z(Wh+" j"),an.publish("addPage",{pageNumber:bn})},o1=function(j){j>0&&j<=bn&&(ke.splice(j,1),_t.splice(j,1),bn--,q>bn&&(q=bn),this.setPage(q))},Fp=function(j){j>0&&j<=bn&&(q=j)},l1=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ke.length-1},zp=function(j,L,J){var ae,ge=void 0;return J=J||{},j=j!==void 0?j:Jt[kt].fontName,L=L!==void 0?L:Jt[kt].fontStyle,ae=j.toLowerCase(),Qt[ae]!==void 0&&Qt[ae][L]!==void 0?ge=Qt[ae][L]:Qt[j]!==void 0&&Qt[j][L]!==void 0?ge=Qt[j][L]:J.disableWarning===!1&&Nn.warn("Unable to look up font label for font '"+j+"', '"+L+"'. Refer to getFontList() for available fonts."),ge||J.noFallback||(ge=Qt.times[L])==null&&(ge=Qt.times.normal),ge},c1=p.__private__.putInfo=function(){var j=mr(),L=function(ae){return ae};for(var J in d!==null&&(L=qr.encryptor(j,0)),Z("<<"),Z("/Producer ("+Ns(L("jsPDF "+yt.version))+")"),ft)ft.hasOwnProperty(J)&&ft[J]&&Z("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+Ns(L(ft[J]))+")");Z("/CreationDate ("+Ns(L(oe))+")"),Z(">>"),Z("endobj")},zh=p.__private__.putCatalog=function(j){var L=(j=j||{}).rootDictionaryObjId||so;switch(mr(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+L+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+je;J.substr(J.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+ee(je)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Ie&&Z("/PageMode /"+Ie),an.publish("putCatalog"),Z(">>"),Z("endobj")},u1=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(re+1)),Z("/Root "+re+" 0 R"),Z("/Info "+(re-1)+" 0 R"),d!==null&&Z("/Encrypt "+qr.oid+" 0 R"),Z("/ID [ <"+te+"> <"+te+"> ]"),Z(">>")},d1=p.__private__.putHeader=function(){Z("%PDF-"+w),Z("%ºß¬à")},h1=p.__private__.putXRef=function(){var j="0000000000";Z("xref"),Z("0 "+(re+1)),Z("0000000000 65535 f ");for(var L=1;L<=re;L++)typeof se[L]=="function"?Z((j+se[L]()).slice(-10)+" 00000 n "):se[L]!==void 0?Z((j+se[L]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},io=p.__private__.buildDocument=function(){at(),Ne(de),an.publish("buildDocument"),d1(),gc(),Dp(),Rp(),d!==null&&r1(),c1(),zh();var j=me;return h1(),u1(),Z("startxref"),Z(""+j),Z("%%EOF"),Ne(ke[q]),de.join(`
`)},ku=p.__private__.getBlob=function(j){return new Blob([Y(j)],{type:"application/pdf"})},Pu=p.output=p.__private__.output=zi(function(j,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",j){case void 0:return io();case"save":p.save(L.filename);break;case"arraybuffer":return Y(io());case"blob":return ku(io());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(ku(io()))||void 0;Nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",ae=io();try{J=eb(ae)}catch{J=eb(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+L.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(ge=L.pdfObjectUrl,Se="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",tt=wt.open();return tt!==null&&tt.document.write(De),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',Et=wt.open();if(Et!==null){Et.document.write(mt);var Pt=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=L.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',In=wt.open();if(In!==null&&(In.document.write(Xt),In.document.title=L.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",L);default:return null}}),Bp=function(j){return Array.isArray(pc)===!0&&pc.indexOf(j)>-1};switch(r){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=Bp("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Je=r}var qr=null;ve(),I();var f1=function(j){return d!==null?qr.encryptor(j,0):function(L){return L}},$p=p.__private__.getPageInfo=p.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[j].objId,pageNumber:j,pageContext:_t[j]}},Ct=p.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in _t)if(_t[L].objId===j)break;return $p(L)},m1=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:_t[q].objId,pageNumber:q,pageContext:_t[q]}};p.addPage=function(){return Op.apply(this,arguments),this},p.setPage=function(){return Fp.apply(this,arguments),Ne.call(this,ke[q]),this},p.insertPage=function(j){return this.addPage(),this.movePage(q,j),this},p.movePage=function(j,L){var J,ae;if(j>L){J=ke[j],ae=_t[j];for(var ge=j;ge>L;ge--)ke[ge]=ke[ge-1],_t[ge]=_t[ge-1];ke[L]=J,_t[L]=ae,this.setPage(L)}else if(j<L){J=ke[j],ae=_t[j];for(var Se=j;Se<L;Se++)ke[Se]=ke[Se+1],_t[Se]=_t[Se+1];ke[L]=J,_t[L]=ae,this.setPage(L)}return this},p.deletePage=function(){return o1.apply(this,arguments),this},p.__private__.text=p.text=function(j,L,J,ae,ge){var Se,De,tt,mt,Et,Pt,Xt,In,qn,lr=(ae=ae||{}).scope||this;if(typeof j=="number"&&typeof L=="number"&&(typeof J=="string"||Array.isArray(J))){var Vr=J;J=L,L=j,j=Vr}if(arguments[3]instanceof vt?(R("The transform parameter of text() with a Matrix value"),qn=ge):(tt=arguments[4],mt=arguments[5],gn(Xt=arguments[3])==="object"&&Xt!==null||(typeof tt=="string"&&(mt=tt,tt=null),typeof Xt=="string"&&(mt=Xt,Xt=null),typeof Xt=="number"&&(tt=Xt,Xt=null),ae={flags:Xt,angle:tt,align:mt})),isNaN(L)||isNaN(J)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return lr;var jr="",$i=!1,Vs=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:xc,Ca=lr.internal.scaleFactor;function Jp(Sn){return Sn=Sn.split("	").join(Array(ae.TabLen||9).join(" ")),Ns(Sn,Xt)}function Jh(Sn){for(var Cn,Zn=Sn.concat(),pr=[],uo=Zn.length;uo--;)typeof(Cn=Zn.shift())=="string"?pr.push(Cn):Array.isArray(Sn)&&(Cn.length===1||Cn[1]===void 0&&Cn[2]===void 0)?pr.push(Cn[0]):pr.push([Cn[0],Cn[1],Cn[2]]);return pr}function Xh(Sn,Cn){var Zn;if(typeof Sn=="string")Zn=Cn(Sn)[0];else if(Array.isArray(Sn)){for(var pr,uo,af=Sn.concat(),qu=[],tg=af.length;tg--;)typeof(pr=af.shift())=="string"?qu.push(Cn(pr)[0]):Array.isArray(pr)&&typeof pr[0]=="string"&&(uo=Cn(pr[0],pr[1],pr[2]),qu.push([uo[0],uo[1],uo[2]]));Zn=qu}return Zn}var Ru=!1,Zh=!0;if(typeof j=="string")Ru=!0;else if(Array.isArray(j)){var Qh=j.concat();De=[];for(var Du,Er=Qh.length;Er--;)(typeof(Du=Qh.shift())!="string"||Array.isArray(Du)&&typeof Du[0]!="string")&&(Zh=!1);Ru=Zh}if(Ru===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Iu=le/lr.internal.scaleFactor,Ou=Iu*(Vs-1);switch(ae.baseline){case"bottom":J-=Ou;break;case"top":J+=Iu-Ou;break;case"hanging":J+=Iu-2*Ou;break;case"middle":J+=Iu/2-Ou}if((Pt=ae.maxWidth||0)>0&&(typeof j=="string"?j=lr.splitTextToSize(j,Pt):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Sn,Cn){return Sn.concat(lr.splitTextToSize(Cn,Pt))},[]))),Se={text:j,x:L,y:J,options:ae,mutex:{pdfEscape:Ns,activeFontKey:kt,fonts:Jt,activeFontSize:le}},an.publish("preProcessText",Se),j=Se.text,tt=(ae=Se.options).angle,!(qn instanceof vt)&&tt&&typeof tt=="number"){tt*=Math.PI/180,ae.rotationDirection===0&&(tt=-tt),S===x.ADVANCED&&(tt=-tt);var Fu=Math.cos(tt),ef=Math.sin(tt);qn=new vt(Fu,ef,-ef,Fu,0,0)}else tt&&tt instanceof vt&&(qn=tt);S!==x.ADVANCED||qn||(qn=ba),(Et=ae.charSpace||Lu)!==void 0&&(jr+=B(T(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=ae.horizontalScale)!==void 0&&(jr+=B(100*In)+` Tz
`),ae.lang;var _s=-1,_1=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,tf=lr.internal.getCurrentPageInfo().pageContext;switch(_1){case 0:case!1:case"fill":_s=0;break;case 1:case!0:case"stroke":_s=1;break;case 2:case"fillThenStroke":_s=2;break;case 3:case"invisible":_s=3;break;case 4:case"fillAndAddForClipping":_s=4;break;case 5:case"strokeAndAddPathForClipping":_s=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_s=6;break;case 7:case"addToPathForClipping":_s=7}var Xp=tf.usedRenderingMode!==void 0?tf.usedRenderingMode:-1;_s!==-1?jr+=_s+` Tr
`:Xp!==-1&&(jr+=`0 Tr
`),_s!==-1&&(tf.usedRenderingMode=_s),mt=ae.align||"left";var hi,zu=le*Vs,Zp=lr.internal.pageSize.getWidth(),Qp=Jt[kt];Et=ae.charSpace||Lu,Pt=ae.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Ko=[],bc=function(Sn){return lr.getStringUnitWidth(Sn,{font:Qp,charSpace:Et,fontSize:le,doKerning:!1})*le/Ca};if(Object.prototype.toString.call(j)==="[object Array]"){var Ss;De=Jh(j),mt!=="left"&&(hi=De.map(bc));var ls,Jo=0;if(mt==="right"){L-=hi[0],j=[],Er=De.length;for(var oo=0;oo<Er;oo++)oo===0?(ls=Sa(L),Ss=ao(J)):(ls=T(Jo-hi[oo]),Ss=-zu),j.push([De[oo],ls,Ss]),Jo=hi[oo]}else if(mt==="center"){L-=hi[0]/2,j=[],Er=De.length;for(var lo=0;lo<Er;lo++)lo===0?(ls=Sa(L),Ss=ao(J)):(ls=T((Jo-hi[lo])/2),Ss=-zu),j.push([De[lo],ls,Ss]),Jo=hi[lo]}else if(mt==="left"){j=[],Er=De.length;for(var Bu=0;Bu<Er;Bu++)j.push(De[Bu])}else if(mt==="justify"&&Qp.encoding==="Identity-H"){j=[],Er=De.length,Pt=Pt!==0?Pt:Zp;for(var co=0,Xn=0;Xn<Er;Xn++)if(Ss=Xn===0?ao(J):-zu,ls=Xn===0?Sa(L):co,Xn<Er-1){var nf=T((Pt-hi[Xn])/(De[Xn].split(" ").length-1)),cs=De[Xn].split(" ");j.push([cs[0]+" ",ls,Ss]),co=0;for(var fi=1;fi<cs.length;fi++){var $u=(bc(cs[fi-1]+" "+cs[fi])-bc(cs[fi]))*Ca+nf;fi==cs.length-1?j.push([cs[fi],$u,0]):j.push([cs[fi]+" ",$u,0]),co-=$u}}else j.push([De[Xn],ls,Ss]);j.push(["",co,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Er=De.length,Pt=Pt!==0?Pt:Zp,Xn=0;Xn<Er;Xn++)Ss=Xn===0?ao(J):-zu,ls=Xn===0?Sa(L):0,Xn<Er-1?Ko.push(B(T((Pt-hi[Xn])/(De[Xn].split(" ").length-1)))):Ko.push(0),j.push([De[Xn],ls,Ss])}}var eg=typeof ae.R2L=="boolean"?ae.R2L:be;eg===!0&&(j=Xh(j,function(Sn,Cn,Zn){return[Sn.split("").reverse().join(""),Cn,Zn]})),Se={text:j,x:L,y:J,options:ae,mutex:{pdfEscape:Ns,activeFontKey:kt,fonts:Jt,activeFontSize:le}},an.publish("postProcessText",Se),j=Se.text,$i=Se.mutex.isHex||!1;var rf=Jt[kt].encoding;rf!=="WinAnsiEncoding"&&rf!=="StandardEncoding"||(j=Xh(j,function(Sn,Cn,Zn){return[Jp(Sn),Cn,Zn]})),De=Jh(j),j=[];for(var jc,Nc,Xo,_c=0,Uu=1,Sc=Array.isArray(De[0])?Uu:_c,Zo="",sf=function(Sn,Cn,Zn){var pr="";return Zn instanceof vt?(Zn=typeof ae.angle=="number"?Di(Zn,new vt(1,0,0,1,Sn,Cn)):Di(new vt(1,0,0,1,Sn,Cn),Zn),S===x.ADVANCED&&(Zn=Di(new vt(1,0,0,-1,0,0),Zn)),pr=Zn.join(" ")+` Tm
`):pr=B(Sn)+" "+B(Cn)+` Td
`,pr},mi=0;mi<De.length;mi++){switch(Zo="",Sc){case Uu:Xo=($i?"<":"(")+De[mi][0]+($i?">":")"),jc=parseFloat(De[mi][1]),Nc=parseFloat(De[mi][2]);break;case _c:Xo=($i?"<":"(")+De[mi]+($i?">":")"),jc=Sa(L),Nc=ao(J)}Ko!==void 0&&Ko[mi]!==void 0&&(Zo=Ko[mi]+` Tw
`),mi===0?j.push(Zo+sf(jc,Nc,qn)+Xo):Sc===_c?j.push(Zo+Xo):Sc===Uu&&j.push(Zo+sf(jc,Nc,qn)+Xo)}j=Sc===_c?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var pi=`BT
/`;return pi+=kt+" "+le+` Tf
`,pi+=B(le*Vs)+` TL
`,pi+=yc+`
`,pi+=jr,pi+=j,Z(pi+="ET"),m[kt]=!0,lr};var p1=p.__private__.clip=p.clip=function(j){return Z(j==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return p1("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var _a=p.__private__.isValidStyle=function(j){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(L=!0),L};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(j){return _a(j)&&(u=j),this};var Up=p.__private__.getStyle=p.getStyle=function(j){var L=u;switch(j){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=j}return L},qp=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(j){return Au("f",j),this},p.fillEvenOdd=function(j){return Au("f*",j),this},p.fillStroke=function(j){return Au("B",j),this},p.fillStrokeEvenOdd=function(j){return Au("B*",j),this};var Au=function(j,L){gn(L)==="object"?v1(L,j):Z(j)},Bh=function(j){j===null||S===x.ADVANCED&&j===void 0||(j=Up(j),Z(j))};function g1(j,L,J,ae,ge){var Se=new kd(L||this.boundingBox,J||this.xStep,ae||this.yStep,this.gState,ge||this.matrix);Se.stream=this.stream;var De=j+"$$"+this.cloneIndex+++"$$";return js(De,Se),Se}var v1=function(j,L){var J=en[j.key],ae=Ze[J];if(ae instanceof Dc)Z("q"),Z(x1(L)),ae.gState&&p.setGState(ae.gState),Z(j.matrix.toString()+" cm"),Z("/"+J+" sh"),Z("Q");else if(ae instanceof kd){var ge=new vt(1,0,0,-1,0,Yo());j.matrix&&(ge=ge.multiply(j.matrix||ba),J=g1.call(ae,j.key,j.boundingBox,j.xStep,j.yStep,ge).id),Z("q"),Z("/Pattern cs"),Z("/"+J+" scn"),ae.gState&&p.setGState(ae.gState),Z(L),Z("Q")}},x1=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},$h=p.moveTo=function(j,L){return Z(B(T(j))+" "+B(U(L))+" m"),this},vc=p.lineTo=function(j,L){return Z(B(T(j))+" "+B(U(L))+" l"),this},Ho=p.curveTo=function(j,L,J,ae,ge,Se){return Z([B(T(j)),B(U(L)),B(T(J)),B(U(ae)),B(T(ge)),B(U(Se)),"c"].join(" ")),this};p.__private__.line=p.line=function(j,L,J,ae,ge){if(isNaN(j)||isNaN(L)||isNaN(J)||isNaN(ae)||!_a(ge))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[J-j,ae-L]],j,L,[1,1],ge||"S"):this.lines([[J-j,ae-L]],j,L,[1,1]).stroke()},p.__private__.lines=p.lines=function(j,L,J,ae,ge,Se){var De,tt,mt,Et,Pt,Xt,In,qn,lr,Vr,jr,$i;if(typeof j=="number"&&($i=J,J=L,L=j,j=$i),ae=ae||[1,1],Se=Se||!1,isNaN(L)||isNaN(J)||!Array.isArray(j)||!Array.isArray(ae)||!_a(ge)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($h(L,J),De=ae[0],tt=ae[1],Et=j.length,Vr=L,jr=J,mt=0;mt<Et;mt++)(Pt=j[mt]).length===2?(Vr=Pt[0]*De+Vr,jr=Pt[1]*tt+jr,vc(Vr,jr)):(Xt=Pt[0]*De+Vr,In=Pt[1]*tt+jr,qn=Pt[2]*De+Vr,lr=Pt[3]*tt+jr,Vr=Pt[4]*De+Vr,jr=Pt[5]*tt+jr,Ho(Xt,In,qn,lr,Vr,jr));return Se&&qp(),Bh(ge),this},p.path=function(j){for(var L=0;L<j.length;L++){var J=j[L],ae=J.c;switch(J.op){case"m":$h(ae[0],ae[1]);break;case"l":vc(ae[0],ae[1]);break;case"c":Ho.apply(this,ae);break;case"h":qp()}}return this},p.__private__.rect=p.rect=function(j,L,J,ae,ge){if(isNaN(j)||isNaN(L)||isNaN(J)||isNaN(ae)||!_a(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(ae=-ae),Z([B(T(j)),B(U(L)),B(T(J)),B(T(ae)),"re"].join(" ")),Bh(ge),this},p.__private__.triangle=p.triangle=function(j,L,J,ae,ge,Se,De){if(isNaN(j)||isNaN(L)||isNaN(J)||isNaN(ae)||isNaN(ge)||isNaN(Se)||!_a(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-j,ae-L],[ge-J,Se-ae],[j-ge,L-Se]],j,L,[1,1],De,!0),this},p.__private__.roundedRect=p.roundedRect=function(j,L,J,ae,ge,Se,De){if(isNaN(j)||isNaN(L)||isNaN(J)||isNaN(ae)||isNaN(ge)||isNaN(Se)||!_a(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*J),Se=Math.min(Se,.5*ae),this.lines([[J-2*ge,0],[ge*tt,0,ge,Se-Se*tt,ge,Se],[0,ae-2*Se],[0,Se*tt,-ge*tt,Se,-ge,Se],[2*ge-J,0],[-ge*tt,0,-ge,-Se*tt,-ge,-Se],[0,2*Se-ae],[0,-Se*tt,ge*tt,-Se,ge,-Se]],j+ge,L,[1,1],De,!0),this},p.__private__.ellipse=p.ellipse=function(j,L,J,ae,ge){if(isNaN(j)||isNaN(L)||isNaN(J)||isNaN(ae)||!_a(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*J,De=4/3*(Math.SQRT2-1)*ae;return $h(j+J,L),Ho(j+J,L-De,j+Se,L-ae,j,L-ae),Ho(j-Se,L-ae,j-J,L-De,j-J,L),Ho(j-J,L+De,j-Se,L+ae,j,L+ae),Ho(j+Se,L+ae,j+J,L+De,j+J,L),Bh(ge),this},p.__private__.circle=p.circle=function(j,L,J,ae){if(isNaN(j)||isNaN(L)||isNaN(J)||!_a(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,L,J,J,ae)},p.setFont=function(j,L,J){return J&&(L=z(L,J)),kt=zp(j,L,{disableWarning:!1}),this};var y1=p.__private__.getFont=p.getFont=function(){return Jt[zp.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var j,L,J={};for(j in Qt)if(Qt.hasOwnProperty(j))for(L in J[j]=[],Qt[j])Qt[j].hasOwnProperty(L)&&J[j].push(L);return J},p.addFont=function(j,L,J,ae,ge){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(J=z(J,ae)),ge=ge||"Identity-H",Oh.call(this,j,L,J,ge)};var xc,Uh=e.lineWidth||.200025,Eu=p.__private__.getLineWidth=p.getLineWidth=function(){return Uh},Vp=p.__private__.setLineWidth=p.setLineWidth=function(j){return Uh=j,Z(B(T(j))+" w"),this};p.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(j,L){if(j=j||[],L=L||0,isNaN(L)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(J){return B(T(J))}).join(" "),L=B(T(L)),Z("["+j+"] "+L+" d"),this};var Wp=p.__private__.getLineHeight=p.getLineHeight=function(){return le*xc};p.__private__.getLineHeight=p.getLineHeight=function(){return le*xc};var Hp=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(xc=j),this},Gp=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return xc};Hp(e.lineHeight);var Sa=p.__private__.getHorizontalCoordinate=function(j){return T(j)},ao=p.__private__.getVerticalCoordinate=function(j){return S===x.ADVANCED?j:_t[q].mediaBox.topRightY-_t[q].mediaBox.bottomLeftY-T(j)},w1=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(j){return B(Sa(j))},Go=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(j){return B(ao(j))},Bi=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Oi(Bi)},p.__private__.setStrokeColor=p.setDrawColor=function(j,L,J,ae){return Bi=Fi({ch1:j,ch2:L,ch3:J,ch4:ae,pdfColorType:"draw",precision:2}),Z(Bi),this};var qh=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Oi(qh)},p.__private__.setFillColor=p.setFillColor=function(j,L,J,ae){return qh=Fi({ch1:j,ch2:L,ch3:J,ch4:ae,pdfColorType:"fill",precision:2}),Z(qh),this};var yc=e.textColor||"0 g",b1=p.__private__.getTextColor=p.getTextColor=function(){return Oi(yc)};p.__private__.setTextColor=p.setTextColor=function(j,L,J,ae){return yc=Fi({ch1:j,ch2:L,ch3:J,ch4:ae,pdfColorType:"text",precision:3}),this};var Lu=e.charSpace,j1=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Lu||0)};p.__private__.setCharSpace=p.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Lu=j,this};var Vh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(j){var L=p.CapJoinStyles[j];if(L===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vh=L,Z(L+" J"),this};var Wh=0;p.__private__.setLineJoin=p.setLineJoin=function(j){var L=p.CapJoinStyles[j];if(L===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wh=L,Z(L+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(B(T(j))+" M"),this},p.GState=P0,p.setGState=function(j){(j=typeof j=="string"?xt[Un[j]]:Yp(null,j)).equals(ar)||(Z("/"+j.id+" gs"),ar=j)};var Yp=function(j,L){if(!j||!Un[j]){var J=!1;for(var ae in xt)if(xt.hasOwnProperty(ae)&&xt[ae].equals(L)){J=!0;break}if(J)L=xt[ae];else{var ge="GS"+(Object.keys(xt).length+1).toString(10);xt[ge]=L,L.id=ge}return j&&(Un[j]=L.id),an.publish("addGState",L),L}};p.addGState=function(j,L){return Yp(j,L),this},p.saveGraphicsState=function(){return Z("q"),ui.push({key:kt,size:le,color:yc}),this},p.restoreGraphicsState=function(){Z("Q");var j=ui.pop();return kt=j.key,le=j.size,yc=j.color,ar=null,this},p.setCurrentTransformationMatrix=function(j){return Z(j.toString()+" cm"),this},p.comment=function(j){return Z("#"+j),this};var Tu=function(j,L){var J=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Se){isNaN(Se)||(J=parseFloat(Se))}});var ae=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Se){isNaN(Se)||(ae=parseFloat(Se))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Se){ge=Se.toString()}}),this},Hh=function(j,L,J,ae){Tu.call(this,j,L),this.type="rect";var ge=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(De){isNaN(De)||(ge=parseFloat(De))}});var Se=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(De){isNaN(De)||(Se=parseFloat(De))}}),this},Gh=function(){this.page=bn,this.currentPage=q,this.pages=ke.slice(0),this.pagesContext=_t.slice(0),this.x=Kn,this.y=Vt,this.matrix=os,this.width=wc(q),this.height=Yo(q),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Gh.prototype.restore=function(){bn=this.page,q=this.currentPage,_t=this.pagesContext,ke=this.pages,Kn=this.x,Vt=this.y,os=this.matrix,Yh(q,this.width),Kh(q,this.height),Fe=this.outputDestination};var Kp=function(j,L,J,ae,ge){wa.push(new Gh),bn=q=0,ke=[],Kn=j,Vt=L,os=ge,Fh([J,ae])},N1=function(j){if(ya[j])wa.pop().restore();else{var L=new Gh,J="Xo"+(Object.keys(Ar).length+1).toString(10);L.id=J,ya[j]=J,Ar[J]=L,an.publish("addFormObject",L),wa.pop().restore()}};for(var Mu in p.beginFormObject=function(j,L,J,ae,ge){return Kp(j,L,J,ae,ge),this},p.endFormObject=function(j){return N1(j),this},p.doFormObject=function(j,L){var J=Ar[ya[j]];return Z("q"),Z(L.toString()+" cm"),Z("/"+J.id+" Do"),Z("Q"),this},p.getFormObject=function(j){var L=Ar[ya[j]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},p.save=function(j,L){return j=j||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(Mc(ku(io()),j),typeof Mc.unload=="function"&&wt.setTimeout&&setTimeout(Mc.unload,911),this):new Promise(function(J,ae){try{var ge=Mc(ku(io()),j);typeof Mc.unload=="function"&&wt.setTimeout&&setTimeout(Mc.unload,911),J(ge)}catch(Se){ae(Se.message)}})},yt.API)yt.API.hasOwnProperty(Mu)&&(Mu==="events"&&yt.API.events.length?function(j,L){var J,ae,ge;for(ge=L.length-1;ge!==-1;ge--)J=L[ge][0],ae=L[ge][1],j.subscribe.apply(j,[J].concat(typeof ae=="function"?[ae]:ae))}(an,yt.API.events):p[Mu]=yt.API[Mu]);var wc=p.getPageWidth=function(j){return(_t[j=j||q].mediaBox.topRightX-_t[j].mediaBox.bottomLeftX)/Je},Yh=p.setPageWidth=function(j,L){_t[j].mediaBox.topRightX=L*Je+_t[j].mediaBox.bottomLeftX},Yo=p.getPageHeight=function(j){return(_t[j=j||q].mediaBox.topRightY-_t[j].mediaBox.bottomLeftY)/Je},Kh=p.setPageHeight=function(j,L){_t[j].mediaBox.topRightY=L*Je+_t[j].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ns,getStyle:Up,getFont:y1,getFontSize:we,getCharSpace:j1,getTextColor:b1,getLineHeight:Wp,getLineHeightFactor:Gp,getLineWidth:Eu,write:pt,getHorizontalCoordinate:Sa,getVerticalCoordinate:ao,getCoordinateString:w1,getVerticalCoordinateString:Go,collections:{},newObject:mr,newAdditionalObject:yu,newObjectDeferred:or,newObjectDeferredBegin:qs,getFilters:ja,putStream:di,events:an,scaleFactor:Je,pageSize:{getWidth:function(){return wc(q)},setWidth:function(j){Yh(q,j)},getHeight:function(){return Yo(q)},setHeight:function(j){Kh(q,j)}},encryptionOptions:d,encryption:qr,getEncryptor:f1,output:Pu,getNumberOfPages:l1,pages:ke,out:Z,f2:ee,f3:M,getPageInfo:$p,getPageInfoByObjId:Ct,getCurrentPageInfo:m1,getPDFVersion:v,Point:Tu,Rectangle:Hh,Matrix:vt,hasHotfix:Bp},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return wc(q)},set:function(j){Yh(q,j)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Yo(q)},set:function(j){Kh(q,j)},enumerable:!0,configurable:!0}),a1.call(p,X),kt="F1",Op(s,n),an.publish("initialized"),p}dd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},dd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dd.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},dd.prototype.processOwnerPassword=function(e,t){return nb(tb(t).substr(0,5),e)},dd.prototype.encryptor=function(e,t){var n=tb(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return nb(n,r)}},P0.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||gn(e)!==gn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},yt.API={events:[]},yt.version="3.0.1";var Hn=yt.API,Cj=1,vu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(e){return e.toFixed(2)},dl=function(e){return e.toFixed(5)};Hn.__acroform__={};var Us=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},a3=function(e){return e*Cj},Ea=function(e){var t=new VL,n=lt.internal.getHeight(e)||0,r=lt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(At(r)),Number(At(n))],t},WX=Hn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},HX=Hn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},GX=Hn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},er=Hn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GX(e,t-1)},tr=Hn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WX(e,t-1)},nr=Hn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HX(e,t-1)},YX=Hn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(s+o)||0,c.upperRight_Y=r(a)||0,[Number(At(c.lowerLeft_X)),Number(At(c.lowerLeft_Y)),Number(At(c.upperRight_X)),Number(At(c.upperRight_Y))]},KX=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=rb(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+At(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ea(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},rb=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(M){return M.split(`
`)}):s.map(function(M){return[M]});var a=n,o=lt.internal.getHeight(e)||0;o=o<0?-o:o;var l=lt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(M,T,V){if(M+1<s.length){var U=T+" "+s[M+1][0];return ev(U,e,V).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,h=ev("3",e,a).height,m=e.multiline?o-a:(o-h)/2,p=m+=2,w=0,v=0,N=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+ev(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",x=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var k=!1;if(s[S].length!==1&&N!==s[S].length-1){if((h+2)*(x+2)+2>o)continue e;y+=s[S][N],k=!0,v=S,S--}else{y=(y+=s[S][N]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(S),z=c(P,y,a),B=S>=s.length-1;if(z&&!B){y+=" ",N=0;continue}if(z||B){if(B)v=P;else if(e.multiline&&(h+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(x+2)+2>o)continue e;v=P}}for(var R="",K=w;K<=v;K++){var ee=s[K];if(e.multiline){if(K===v){R+=ee[N]+" ",N=(N+1)%ee.length;continue}if(K===w){R+=ee[ee.length-1]+" ";continue}}R+=ee[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,d=ev(R,e,a).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=At(u)+" "+At(p)+` Td
`,t+="("+vu(R)+`) Tj
`,t+=-At(u)+` 0 Td
`,p=-(a+2),d=0,w=k?v:v+1,x++,y=""}break}return r.text=t,r.fontSize=a,r},ev=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},JX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XX=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},ZX=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),gn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},QX=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(va.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(JX)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Cj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new WL,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a.objId=void 0,a.hasAnnotation&&XX(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var a=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=YX(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=lt.createDefaultAppearanceStream(l),gn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=KX(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var w=p[o];typeof w=="function"&&(w=w.call(s,l)),h+="/"+o+" "+w+" ",s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w)}}else typeof(w=p)=="function"&&(w=w.call(s,l)),h+="/"+o+" "+w,s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}a&&ZX(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},qL=Hn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),gn(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+vu(r(e[a].toString()))+")"):s+=e[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},t2=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+vu(r(e))+")"},Ua=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ua.prototype.toString=function(){return this.objId+" 0 R"},Ua.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ua.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:qL(s,this.objId,this.scope)}):s instanceof Ua?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var VL=function(){Ua.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Us(VL,Ua);var WL=function(){Ua.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+vu(n(e))+")"}},set:function(n){e=n}})};Us(WL,Ua);var va=function e(){Ua.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!er(t,3)},set:function(y){y?this.F=tr(t,3):this.F=nr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof A0)return;a="FieldObject"+e.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+vu(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Cj:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof A0||this instanceof Yc))return t2(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof kr?m:t2(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof kr?y:y.substr(0,1)==="("?rd(y.substr(1,y.length-2)):rd(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kr?rd(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof kr?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof kr?p:t2(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof kr?y:y.substr(0,1)==="("?rd(y.substr(1,y.length-2)):rd(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kr?rd(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof kr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(y){w=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,1)},set:function(y){y?this.Ff=tr(this.Ff,1):this.Ff=nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,2)},set:function(y){y?this.Ff=tr(this.Ff,2):this.Ff=nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,3)},set:function(y){y?this.Ff=tr(this.Ff,3):this.Ff=nr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');N=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(N){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};Us(va,Ua);var Bd=function(){va.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qL(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,18)},set:function(n){n?this.Ff=tr(this.Ff,18):this.Ff=nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=tr(this.Ff,19):this.Ff=nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,20)},set:function(n){n?(this.Ff=tr(this.Ff,20),t.sort()):this.Ff=nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,22)},set:function(n){n?this.Ff=tr(this.Ff,22):this.Ff=nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(n){n?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,27)},set:function(n){n?this.Ff=tr(this.Ff,27):this.Ff=nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Us(Bd,va);var $d=function(){Bd.call(this),this.fontName="helvetica",this.combo=!1};Us($d,Bd);var Ud=function(){$d.call(this),this.combo=!0};Us(Ud,$d);var jv=function(){Ud.call(this),this.edit=!0};Us(jv,Ud);var kr=function(){va.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,15)},set:function(n){n?this.Ff=tr(this.Ff,15):this.Ff=nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,16)},set:function(n){n?this.Ff=tr(this.Ff,16):this.Ff=nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,17)},set:function(n){n?this.Ff=tr(this.Ff,17):this.Ff=nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(n){n?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+vu(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){gn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Us(kr,va);var Nv=function(){kr.call(this),this.pushButton=!0};Us(Nv,kr);var qd=function(){kr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Us(qd,kr);var A0=function(){var e,t;va.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+vu(s(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(s){gn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Us(A0,va),qd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},qd.prototype.createOption=function(e){var t=new A0;return t.Parent=this,t.optionName=e,this.Kids.push(t),eZ.call(this.scope,t),t};var _v=function(){kr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lt.CheckBox.createAppearanceStream()};Us(_v,kr);var Yc=function(){va.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,13)},set:function(t){t?this.Ff=tr(this.Ff,13):this.Ff=nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,21)},set:function(t){t?this.Ff=tr(this.Ff,21):this.Ff=nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(t){t?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,24)},set:function(t){t?this.Ff=tr(this.Ff,24):this.Ff=nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,25)},set:function(t){t?this.Ff=tr(this.Ff,25):this.Ff=nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(t){t?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Us(Yc,va);var Sv=function(){Yc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,14)},set:function(e){e?this.Ff=tr(this.Ff,14):this.Ff=nr(this.Ff,14)}}),this.password=!0};Us(Sv,Yc);var lt={CheckBox:{createAppearanceStream:function(){return{N:{On:lt.CheckBox.YesNormal},D:{On:lt.CheckBox.YesPushDown,Off:lt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ea(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=rb(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+At(lt.internal.getWidth(e))+" "+At(lt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+At(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Ea(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],a=lt.internal.getHeight(e),o=lt.internal.getWidth(e),l=rb(e,e.caption);return s.push("1 g"),s.push("0 0 "+At(o)+" "+At(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+At(o-1)+" "+At(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+At(l.fontSize)+" Tf "+r),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Ea(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(lt.internal.getWidth(e))+" "+At(lt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:lt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=lt.RadioButton.Circle.YesNormal,t.D[e]=lt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ea(e);t.scope=e.scope;var n=[],r=lt.internal.getWidth(e)<=lt.internal.getHeight(e)?lt.internal.getWidth(e)/4:lt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=lt.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+dl(lt.internal.getWidth(e)/2)+" "+dl(lt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ea(e);t.scope=e.scope;var n=[],r=lt.internal.getWidth(e)<=lt.internal.getHeight(e)?lt.internal.getWidth(e)/4:lt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*lt.internal.Bezier_C).toFixed(5)),o=Number((r*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dl(lt.internal.getWidth(e)/2)+" "+dl(lt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+dl(lt.internal.getWidth(e)/2)+" "+dl(lt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ea(e);t.scope=e.scope;var n=[],r=lt.internal.getWidth(e)<=lt.internal.getHeight(e)?lt.internal.getWidth(e)/4:lt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dl(lt.internal.getWidth(e)/2)+" "+dl(lt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:lt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=lt.RadioButton.Cross.YesNormal,t.D[e]=lt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ea(e);t.scope=e.scope;var n=[],r=lt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+At(lt.internal.getWidth(e)-2)+" "+At(lt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ea(e);t.scope=e.scope;var n=lt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+At(lt.internal.getWidth(e))+" "+At(lt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+At(lt.internal.getWidth(e)-2)+" "+At(lt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ea(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(lt.internal.getWidth(e))+" "+At(lt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};lt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=lt.internal.getWidth(e),n=lt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},lt.internal.getWidth=function(e){var t=0;return gn(e)==="object"&&(t=a3(e.Rect[2])),t},lt.internal.getHeight=function(e){var t=0;return gn(e)==="object"&&(t=a3(e.Rect[3])),t};var eZ=Hn.addField=function(e){if(QX(this,e),!(e instanceof va))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Hn.AcroFormChoiceField=Bd,Hn.AcroFormListBox=$d,Hn.AcroFormComboBox=Ud,Hn.AcroFormEditBox=jv,Hn.AcroFormButton=kr,Hn.AcroFormPushButton=Nv,Hn.AcroFormRadioButton=qd,Hn.AcroFormCheckBox=_v,Hn.AcroFormTextField=Yc,Hn.AcroFormPasswordField=Sv,Hn.AcroFormAppearance=lt,Hn.AcroForm={ChoiceField:Bd,ListBox:$d,ComboBox:Ud,EditBox:jv,Button:kr,PushButton:Nv,RadioButton:qd,CheckBox:_v,TextField:Yc,PasswordField:Sv,Appearance:lt},yt.AcroForm={ChoiceField:Bd,ListBox:$d,ComboBox:Ud,EditBox:jv,Button:kr,PushButton:Nv,RadioButton:qd,CheckBox:_v,TextField:Yc,PasswordField:Sv,Appearance:lt};function HL(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(M,T){var V,U,oe,te,Q,I=t;if((T=T||t)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(z(M))for(Q in n)for(oe=n[Q],V=0;V<oe.length;V+=1){for(te=!0,U=0;U<oe[V].length;U+=1)if(oe[V][U]!==void 0&&oe[V][U]!==M[U]){te=!1;break}if(te===!0){I=Q;break}}else for(Q in n)for(oe=n[Q],V=0;V<oe.length;V+=1){for(te=!0,U=0;U<oe[V].length;U+=1)if(oe[V][U]!==void 0&&oe[V][U]!==M.charCodeAt(U)){te=!1;break}if(te===!0){I=Q;break}}return I===t&&T!==t&&(I=T),I},s=function M(T){for(var V=this.internal.write,U=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:T.width}),te.push({key:"Height",value:T.height}),T.colorSpace===N.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===N.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var Q="",I=0,G=T.transparency.length;I<G;I++)Q+=T.transparency[I]+" "+T.transparency[I]+" ";te.push({key:"Mask",value:"["+Q+"]"})}T.sMask!==void 0&&te.push({key:"SMask",value:T.objectId+1+" 0 R"});var ie=T.filter!==void 0?["/"+T.filter]:void 0;if(U({data:T.data,additionalKeyValues:te,alreadyAppliedFilters:ie,objectId:T.objectId}),V("endobj"),"sMask"in T&&T.sMask!==void 0){var ve="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,A={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:ve,data:T.sMask};"filter"in T&&(A.filter=T.filter),M.call(this,A)}if(T.colorSpace===N.INDEXED){var q=this.internal.newObject();U({data:R(new Uint8Array(T.palette)),objectId:q}),V("endobj")}},a=function(){var M=this.internal.collections.addImage_images;for(var T in M)s.call(this,M[T])},o=function(){var M,T=this.internal.collections.addImage_images,V=this.internal.write;for(var U in T)V("/I"+(M=T[U]).index,M.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var M=this.internal.collections.addImage_images;return l.call(this),M},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(M){return typeof e["process"+M.toUpperCase()]=="function"},h=function(M){return gn(M)==="object"&&M.nodeType===1},m=function(M,T){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var V=""+M.getAttribute("src");if(V.indexOf("data:image/")===0)return tm(unescape(V).split("base64,").pop());var U=e.loadFile(V,!0);if(U!==void 0)return U}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var oe;switch(T){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return tm(M.toDataURL(oe,1).split("base64,").pop())}},p=function(M){var T=this.internal.collections.addImage_images;if(T){for(var V in T)if(M===T[V].alias)return T[V]}},w=function(M,T,V){return M||T||(M=-96,T=-96),M<0&&(M=-1*V.width*72/M/this.internal.scaleFactor),T<0&&(T=-1*V.height*72/T/this.internal.scaleFactor),M===0&&(M=T*V.width/V.height),T===0&&(T=M*V.height/V.width),[M,T]},v=function(M,T,V,U,oe,te){var Q=w.call(this,V,U,oe),I=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,ie=c.call(this);if(V=Q[0],U=Q[1],ie[oe.index]=oe,te){te*=Math.PI/180;var ve=Math.cos(te),A=Math.sin(te),q=function(ne){return ne.toFixed(4)},H=[q(ve),q(A),q(-1*A),q(ve),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,I(M),G(T+U),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([I(V),"0","0",I(U),"0","0","cm"].join(" "))):this.internal.write([I(V),"0","0",I(U),I(M),G(T+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(M){var T,V,U=0;if(typeof M=="string")for(V=M.length,T=0;T<V;T++)U=(U<<5)-U+M.charCodeAt(T),U|=0;else if(z(M))for(V=M.byteLength/2,T=0;T<V;T++)U=(U<<5)-U+M[T],U|=0;return U},S=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var T=!0;return M.length===0&&(T=!1),M.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(T=!1),T},k=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var T=M.indexOf(",");return T<0?null:M.substring(0,T).trim().endsWith("base64")?M.substring(T+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(M){return P()&&M instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(M){return P()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},B=e.__addimage__.binaryStringToUint8Array=function(M){for(var T=M.length,V=new Uint8Array(T),U=0;U<T;U++)V[U]=M.charCodeAt(U);return V},R=e.__addimage__.arrayBufferToBinaryString=function(M){for(var T="",V=z(M)?M:new Uint8Array(M),U=0;U<V.length;U+=8192)T+=String.fromCharCode.apply(null,V.subarray(U,U+8192));return T};e.addImage=function(){var M,T,V,U,oe,te,Q,I,G;if(typeof arguments[1]=="number"?(T=t,V=arguments[1],U=arguments[2],oe=arguments[3],te=arguments[4],Q=arguments[5],I=arguments[6],G=arguments[7]):(T=arguments[1],V=arguments[2],U=arguments[3],oe=arguments[4],te=arguments[5],Q=arguments[6],I=arguments[7],G=arguments[8]),gn(M=arguments[0])==="object"&&!h(M)&&"imageData"in M){var ie=M;M=ie.imageData,T=ie.format||T||t,V=ie.x||V||0,U=ie.y||U||0,oe=ie.w||ie.width||oe,te=ie.h||ie.height||te,Q=ie.alias||Q,I=ie.compression||I,G=ie.rotation||ie.angle||G}var ve=this.internal.getFilters();if(I===void 0&&ve.indexOf("FlateEncode")!==-1&&(I="SLOW"),isNaN(V)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var A=K.call(this,M,T,Q,I);return v.call(this,V,U,oe,te,A,G),this};var K=function(M,T,V,U){var oe,te,Q;if(typeof M=="string"&&r(M)===t){M=unescape(M);var I=ee(M,!1);(I!==""||(I=e.loadFile(M,!0))!==void 0)&&(M=I)}if(h(M)&&(M=m(M,T)),T=r(M,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((Q=V)==null||Q.length===0)&&(V=function(G){return typeof G=="string"||z(G)?x(G):z(G.data)?x(G.data):null}(M)),(oe=p.call(this,V))||(P()&&(M instanceof Uint8Array||T==="RGBA"||(te=M,M=B(M))),oe=this["process"+T.toUpperCase()](M,u.call(this),V,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:y.NONE}(U),te)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},ee=e.__addimage__.convertBase64ToBinaryString=function(M,T){T=typeof T!="boolean"||T;var V,U="";if(typeof M=="string"){var oe;V=(oe=k(M))!==null&&oe!==void 0?oe:M;try{U=tm(V)}catch(te){if(T)throw S(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(M){var T,V,U="";if(h(M)&&(M=m(M)),typeof M=="string"&&r(M)===t&&((U=ee(M,!1))===""&&(U=e.loadFile(M)||""),M=U),V=r(M),!d(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!P()||M instanceof Uint8Array||(M=B(M)),!(T=this["process"+V.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=V,T}})(yt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};yt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((r=u[h]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),x=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+p(y(r.contents))+")",a+=" /Popup "+N.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(y(x))+") >>",v.content=a;var S=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",N.content=a,this.internal.write(v.objId,"0 R",N.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(w(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var P=this.annotations._nameMap[r.options.name];r.options.pageNumber=P.page,r.options.top=P.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var z=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+z+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+s),h:u(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,s,a){var o,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(n,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(n,r,s,a),s+=.2*u,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,s-u,l,o,a),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(yt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&s.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(v){var N=0,y=n,x="",S=0;for(N=0;N<v.length;N+=1)y[v.charCodeAt(N)]!==void 0?(S++,typeof(y=y[v.charCodeAt(N)])=="number"&&(x+=String.fromCharCode(y),y=n,S=0),N===v.length-1&&(y=n,x+=v.charAt(N-(S-1)),N-=S-1,S=0)):(y=n,x+=v.charAt(N-S),N-=S,S=0);return x};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(v,N,y){return o(v)?a(v)===!1?-1:!u(v)||!o(N)&&!o(y)||!o(y)&&l(N)||l(v)&&!o(N)||l(v)&&c(N)||l(v)&&l(N)?0:d(v)&&o(N)&&!l(N)&&o(y)&&u(y)?3:l(v)||!o(y)?1:2:-1},p=function(v){var N=0,y=0,x=0,S="",k="",P="",z=(v=v||"").split("\\s+"),B=[];for(N=0;N<z.length;N+=1){for(B.push(""),y=0;y<z[N].length;y+=1)S=z[N][y],k=z[N][y-1],P=z[N][y+1],o(S)?(x=m(S,k,P),B[N]+=x!==-1?String.fromCharCode(t[S.charCodeAt(0)][x]):S):B[N]+=S;B[N]=h(B[N])}return B.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var v,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(N)){var x=0;for(y=[],x=0;x<N.length;x+=1)Array.isArray(N[x])?y.push([p(N[x][0]),N[x][1],N[x][2]]):y.push([p(N[x])]);v=y}else v=p(N);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",w])}(yt.API),yt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(yt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(v){w=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,w=0,v=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,k){return S.concat(N.splitTextToSize(k,y))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)p<(v=this.getStringUnitWidth(c[x],{font:h})*d)&&(p=v);return p!==0&&(w=c.length),{w:p/=m,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,w,v,N,y=[],x=[],S=[],k={},P={},z=[],B=[],R=(m=m||{}).autoSize||!1,K=m.printHeaders!==!1,ee=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,M=m.margins||Object.assign({width:this.getPageWidth()},t),T=typeof m.padding=="number"?m.padding:3,V=m.headerBackgroundColor||"#c8c8c8",U=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=U,this.setFontSize(ee),h==null)x=y=Object.keys(d[0]),S=y.map(function(){return"left"});else if(Array.isArray(h)&&gn(h[0])==="object")for(y=h.map(function(ie){return ie.name}),x=h.map(function(ie){return ie.prompt||ie.name||""}),S=h.map(function(ie){return ie.align||"left"}),p=0;p<h.length;p+=1)P[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(x=y=h,S=y.map(function(){return"left"}));if(R||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<y.length;p+=1){for(k[N=y[p]]=d.map(function(ie){return ie[N]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=k[N],this.setFont(void 0,"normal"),v=0;v<w.length;v+=1)z.push(this.getTextDimensions(w[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[N]=Math.max.apply(null,z)+T+T,z=[]}if(K){var oe={};for(p=0;p<y.length;p+=1)oe[y[p]]={},oe[y[p]].text=x[p],oe[y[p]].align=S[p];var te=l.call(this,oe,P);B=y.map(function(ie){return new a(c,u,P[ie],te,oe[ie].text,void 0,oe[ie].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var Q=h.reduce(function(ie,ve){return ie[ve.name]=ve.align,ie},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var I=l.call(this,d[p],P);for(v=0;v<y.length;v+=1){var G=d[p][y[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:v,data:G},this),o.call(this,new a(c,u,P[y[v]],I,G,p+2,Q[y[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(p){var w=c[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+d+d},this).reduce(function(p,w){return Math.max(p,w)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(w)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(yt.API);var GL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],sb=HL(YL),KL=[100,200,300,400,500,600,700,800,900],tZ=HL(KL);function ib(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return GL[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(a){return typeof sb[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function o3(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var nZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},l3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function c3(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function rZ(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},nZ,n.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(s[(a=ib(t[l])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+c3(a)+"' and default family '"+r+"'.");if(o=function(c,u){if(u[c])return u[c];var d=sb[c],h=d<=sb.normal?-1:1,m=o3(u,YL,d,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m}(a.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=GL[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=tZ[c],h=o3(u,KL,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+c3(a)+"'.");return o}function u3(e){return e.trimLeft()}function sZ(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function iZ(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var tv,d3,h3,n2=["times"];(function(e){var t,n,r,s,a,o,l,c,u,d=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new c,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=A;Object.defineProperty(this,"pdf",{get:function(){return q}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(Ne){H=!!Ne}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Ne){ne=!!Ne}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Ne){isNaN(Ne)||(re=Ne)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(Ne){isNaN(Ne)||(se=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ne){var Z;typeof Ne=="number"?Z=[Ne,Ne,Ne,Ne]:((Z=new Array(4))[0]=Ne[0],Z[1]=Ne.length>=2?Ne[1]:Z[0],Z[2]=Ne.length>=3?Ne[2]:Z[0],Z[3]=Ne.length>=4?Ne[3]:Z[1]),u.margin=Z}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(Ne){de=Ne}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Ne){me=Ne}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Ne){Ce=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ne){Ne instanceof d&&(u=Ne)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ne){u.path=Ne}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Ne){ke=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var Z;Z=m(Ne),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var Z=m(Ne);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var Me=null;function Fe(Ne,Z){if(Me===null){var pt=function(Y){var X=[];return Object.keys(Y).forEach(function(le){Y[le].forEach(function(je){var we=null;switch(je){case"bold":we={family:le,weight:"bold"};break;case"italic":we={family:le,style:"italic"};break;case"bolditalic":we={family:le,weight:"bold",style:"italic"};break;case"":case"normal":we={family:le}}we!==null&&(we.ref={name:le,style:je},X.push(we))})}),X}(Ne.getFontList());Me=function(Y){for(var X={},le=0;le<Y.length;++le){var je=ib(Y[le]),we=je.family,be=je.stretch,Ie=je.style,He=je.weight;X[we]=X[we]||{},X[we][be]=X[we][be]||{},X[we][be][Ie]=X[we][be][Ie]||{},X[we][be][Ie][He]=je}return X}(pt.concat(Z))}return Me}var at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(Ne){Me=null,at=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var Z;if(this.ctx.font=Ne,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var pt=Z[1];Z[2];var Y=Z[3],X=Z[4];Z[5];var le=Z[6],je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(X)[2];X=Math.floor(je==="px"?parseFloat(X)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(X)*this.pdf.getFontSize():parseFloat(X)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(X);var we=function(ft){var kt,Je,Kn=[],Vt=ft.trim();if(Vt==="")return n2;if(Vt in l3)return[l3[Vt]];for(;Vt!=="";){switch(Je=null,kt=(Vt=u3(Vt)).charAt(0)){case'"':case"'":Je=sZ(Vt.substring(1),kt);break;default:Je=iZ(Vt)}if(Je===null||(Kn.push(Je[0]),(Vt=u3(Je[1]))!==""&&Vt.charAt(0)!==","))return n2;Vt=Vt.replace(/^,/,"")}return Kn}(le);if(this.fontFaces){var be=rZ(Fe(this.pdf,this.fontFaces),we.map(function(ft){return{family:ft,stretch:"normal",weight:Y,style:pt}}));this.pdf.setFont(be.ref.name,be.ref.style)}else{var Ie="";(Y==="bold"||parseInt(Y,10)>=700||pt==="bold")&&(Ie="bold"),pt==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var He="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<we.length;dt++){if(this.pdf.internal.getFont(we[dt],Ie,{noFallback:!0,disableWarning:!0})!==void 0){He=we[dt];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(we[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=we[dt],Ie="bold";else if(this.pdf.internal.getFont(we[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=we[dt],Ie="normal";break}}if(He===""){for(var Bt=0;Bt<we.length;Bt++)if(ct[we[Bt]]){He=ct[we[Bt]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};h.prototype.setLineDash=function(A){this.lineDash=A},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(A,q){if(isNaN(A)||isNaN(q))throw Nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new o(A,q));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(A,q)},h.prototype.closePath=function(){var A=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&gn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){A=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},h.prototype.lineTo=function(A,q){if(isNaN(A)||isNaN(q))throw Nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new o(A,q));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(A,q,H,ne){if(isNaN(H)||isNaN(ne)||isNaN(A)||isNaN(q))throw Nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(H,ne)),se=this.ctx.transform.applyToPoint(new o(A,q));this.path.push({type:"qct",x1:se.x,y1:se.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},h.prototype.bezierCurveTo=function(A,q,H,ne,re,se){if(isNaN(re)||isNaN(se)||isNaN(A)||isNaN(q)||isNaN(H)||isNaN(ne))throw Nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(re,se)),me=this.ctx.transform.applyToPoint(new o(A,q)),Ce=this.ctx.transform.applyToPoint(new o(H,ne));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Ce.x,y2:Ce.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},h.prototype.arc=function(A,q,H,ne,re,se){if(isNaN(A)||isNaN(q)||isNaN(H)||isNaN(ne)||isNaN(re))throw Nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(A,q));A=de.x,q=de.y;var me=this.ctx.transform.applyToPoint(new o(0,H)),Ce=this.ctx.transform.applyToPoint(new o(0,0));H=Math.sqrt(Math.pow(me.x-Ce.x,2)+Math.pow(me.y-Ce.y,2))}Math.abs(re-ne)>=2*Math.PI&&(ne=0,re=2*Math.PI),this.path.push({type:"arc",x:A,y:q,radius:H,startAngle:ne,endAngle:re,counterclockwise:se})},h.prototype.arcTo=function(A,q,H,ne,re){throw new Error("arcTo not implemented.")},h.prototype.rect=function(A,q,H,ne){if(isNaN(A)||isNaN(q)||isNaN(H)||isNaN(ne))throw Nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,q),this.lineTo(A+H,q),this.lineTo(A+H,q+ne),this.lineTo(A,q+ne),this.lineTo(A,q),this.lineTo(A+H,q),this.lineTo(A,q)},h.prototype.fillRect=function(A,q,H,ne){if(isNaN(A)||isNaN(q)||isNaN(H)||isNaN(ne))throw Nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,q,H,ne),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},h.prototype.strokeRect=function(A,q,H,ne){if(isNaN(A)||isNaN(q)||isNaN(H)||isNaN(ne))throw Nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(A,q,H,ne),this.stroke())},h.prototype.clearRect=function(A,q,H,ne){if(isNaN(A)||isNaN(q)||isNaN(H)||isNaN(ne))throw Nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,q,H,ne))},h.prototype.save=function(A){A=typeof A!="boolean"||A;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},h.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(q),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(A){var q,H,ne,re;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))q=0,H=0,ne=0,re=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(se!==null)q=parseInt(se[1]),H=parseInt(se[2]),ne=parseInt(se[3]),re=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)q=parseInt(se[1]),H=parseInt(se[2]),ne=parseInt(se[3]),re=parseFloat(se[4]);else{if(re=1,typeof A=="string"&&A.charAt(0)!=="#"){var de=new BL(A);A=de.ok?de.toHex():"#000000"}A.length===4?(q=A.substring(1,2),q+=q,H=A.substring(2,3),H+=H,ne=A.substring(3,4),ne+=ne):(q=A.substring(1,3),H=A.substring(3,5),ne=A.substring(5,7)),q=parseInt(q,16),H=parseInt(H,16),ne=parseInt(ne,16)}}return{r:q,g:H,b:ne,a:re,style:A}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(A,q,H,ne){if(isNaN(q)||isNaN(H)||typeof A!="string")throw Nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var re=I(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;T.call(this,{text:A,x:q,y:H,scale:se,angle:re,align:this.textAlign,maxWidth:ne})}},h.prototype.strokeText=function(A,q,H,ne){if(isNaN(q)||isNaN(H)||typeof A!="string")throw Nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ne=isNaN(ne)?void 0:ne;var re=I(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;T.call(this,{text:A,x:q,y:H,scale:se,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ne})}},h.prototype.measureText=function(A){if(typeof A!="string")throw Nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,H=this.pdf.internal.scaleFactor,ne=q.internal.getFontSize(),re=q.getStringUnitWidth(A)*ne/q.internal.scaleFactor,se=function(de){var me=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new se({width:re*=Math.round(96*H/72*1e4)/1e4})},h.prototype.scale=function(A,q){if(isNaN(A)||isNaN(q))throw Nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(A,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},h.prototype.rotate=function(A){if(isNaN(A))throw Nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(A,q){if(isNaN(A)||isNaN(q))throw Nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,A,q);this.ctx.transform=this.ctx.transform.multiply(H)},h.prototype.transform=function(A,q,H,ne,re,se){if(isNaN(A)||isNaN(q)||isNaN(H)||isNaN(ne)||isNaN(re)||isNaN(se))throw Nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(A,q,H,ne,re,se);this.ctx.transform=this.ctx.transform.multiply(de)},h.prototype.setTransform=function(A,q,H,ne,re,se){A=isNaN(A)?1:A,q=isNaN(q)?0:q,H=isNaN(H)?0:H,ne=isNaN(ne)?1:ne,re=isNaN(re)?0:re,se=isNaN(se)?0:se,this.ctx.transform=new c(A,q,H,ne,re,se)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(A,q,H,ne,re,se,de,me,Ce){var ke=this.pdf.getImageProperties(A),Me=1,Fe=1,at=1,Ne=1;ne!==void 0&&me!==void 0&&(at=me/ne,Ne=Ce/re,Me=ke.width/ne*me/ne,Fe=ke.height/re*Ce/re),se===void 0&&(se=q,de=H,q=0,H=0),ne!==void 0&&me===void 0&&(me=ne,Ce=re),ne===void 0&&me===void 0&&(me=ke.width,Ce=ke.height);for(var Z,pt=this.ctx.transform.decompose(),Y=I(pt.rotate.shx),X=new c,le=(X=(X=(X=X.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new l(se-q*at,de-H*Ne,ne*Me,re*Fe)),je=N.call(this,le),we=[],be=0;be<je.length;be+=1)we.indexOf(je[be])===-1&&we.push(je[be]);if(S(we),this.autoPaging)for(var Ie=we[0],He=we[we.length-1],ct=Ie;ct<He+1;ct++){this.pdf.setPage(ct);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=ct===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=ct===1?0:ft+(ct-2)*kt;if(this.ctx.clip_path.length!==0){var Kn=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Z,this.posX+this.margin[3],-Je+Bt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Kn}var Vt=JSON.parse(JSON.stringify(le));Vt=x([Vt],this.posX+this.margin[3],-Je+Bt+this.ctx.prevPageLastElemOffset)[0];var os=(ct>Ie||ct<He)&&v.call(this);os&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,kt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Y),os&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",le.x,le.y,le.w,le.h,null,null,Y)};var N=function(A,q,H){var ne=[];q=q||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":ne.push(Math.floor((A.y+re)/H)+1);break;case"arc":ne.push(Math.floor((A.y+re-A.radius)/H)+1),ne.push(Math.floor((A.y+re+A.radius)/H)+1);break;case"qct":var se=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);ne.push(Math.floor((se.y+re)/H)+1),ne.push(Math.floor((se.y+se.h+re)/H)+1);break;case"bct":var de=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);ne.push(Math.floor((de.y+re)/H)+1),ne.push(Math.floor((de.y+de.h+re)/H)+1);break;case"rect":ne.push(Math.floor((A.y+re)/H)+1),ne.push(Math.floor((A.y+A.h+re)/H)+1)}for(var me=0;me<ne.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ne[me];)y.call(this);return ne},y=function(){var A=this.fillStyle,q=this.strokeStyle,H=this.font,ne=this.lineCap,re=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=q,this.font=H,this.lineCap=ne,this.lineWidth=re,this.lineJoin=se},x=function(A,q,H){for(var ne=0;ne<A.length;ne++)switch(A[ne].type){case"bct":A[ne].x2+=q,A[ne].y2+=H;case"qct":A[ne].x1+=q,A[ne].y1+=H;case"mt":case"lt":case"arc":default:A[ne].x+=q,A[ne].y+=H}return A},S=function(A){return A.sort(function(q,H){return q-H})},k=function(A,q){for(var H,ne,re=this.fillStyle,se=this.strokeStyle,de=this.lineCap,me=this.lineWidth,Ce=Math.abs(me*this.ctx.transform.scaleX),ke=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),at=[],Ne=0;Ne<Fe.length;Ne++)if(Fe[Ne].x!==void 0)for(var Z=N.call(this,Fe[Ne]),pt=0;pt<Z.length;pt+=1)at.indexOf(Z[pt])===-1&&at.push(Z[pt]);for(var Y=0;Y<at.length;Y++)for(;this.pdf.internal.getNumberOfPages()<at[Y];)y.call(this);if(S(at),this.autoPaging)for(var X=at[0],le=at[at.length-1],je=X;je<le+1;je++){this.pdf.setPage(je),this.fillStyle=re,this.strokeStyle=se,this.lineCap=de,this.lineWidth=Ce,this.lineJoin=ke;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=je===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=je===1?0:Ie+(je-2)*He;if(this.ctx.clip_path.length!==0){var dt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(H,this.posX+this.margin[3],-ct+be+this.ctx.prevPageLastElemOffset),P.call(this,A,!0),this.path=dt}if(ne=JSON.parse(JSON.stringify(Me)),this.path=x(ne,this.posX+this.margin[3],-ct+be+this.ctx.prevPageLastElemOffset),q===!1||je===0){var Bt=(je>X||je<le)&&v.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,He,null).clip().discardPath()),P.call(this,A,q),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Ce,P.call(this,A,q),this.lineWidth=me;this.path=Me},P=function(A,q){if((A!=="stroke"||q||!w.call(this))&&(A==="stroke"||q||!p.call(this))){for(var H,ne,re=[],se=this.path,de=0;de<se.length;de++){var me=se[de];switch(me.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:me,deltas:[],abs:[]});break;case"lt":var Ce=re.length;if(se[de-1]&&!isNaN(se[de-1].x)&&(H=[me.x-se[de-1].x,me.y-se[de-1].y],Ce>0)){for(;Ce>=0;Ce--)if(re[Ce-1].close!==!0&&re[Ce-1].begin!==!0){re[Ce-1].deltas.push(H),re[Ce-1].abs.push(me);break}}break;case"bct":H=[me.x1-se[de-1].x,me.y1-se[de-1].y,me.x2-se[de-1].x,me.y2-se[de-1].y,me.x-se[de-1].x,me.y-se[de-1].y],re[re.length-1].deltas.push(H);break;case"qct":var ke=se[de-1].x+2/3*(me.x1-se[de-1].x),Me=se[de-1].y+2/3*(me.y1-se[de-1].y),Fe=me.x+2/3*(me.x1-me.x),at=me.y+2/3*(me.y1-me.y),Ne=me.x,Z=me.y;H=[ke-se[de-1].x,Me-se[de-1].y,Fe-se[de-1].x,at-se[de-1].y,Ne-se[de-1].x,Z-se[de-1].y],re[re.length-1].deltas.push(H);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(me)}}ne=q?null:A==="stroke"?"stroke":"fill";for(var pt=!1,Y=0;Y<re.length;Y++)if(re[Y].arc)for(var X=re[Y].abs,le=0;le<X.length;le++){var je=X[le];je.type==="arc"?R.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,q,!pt):V.call(this,je.x,je.y),pt=!0}else if(re[Y].close===!0)this.pdf.internal.out("h"),pt=!1;else if(re[Y].begin!==!0){var we=re[Y].start.x,be=re[Y].start.y;U.call(this,re[Y].deltas,we,be),pt=!0}ne&&K.call(this,ne),q&&ee.call(this)}},z=function(A){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-H;case"top":return A+q-H;case"hanging":return A+q-2*H;case"middle":return A+q/2-H;case"ideographic":return A;case"alphabetic":default:return A}},B=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(q,H){this.colorStops.push([q,H])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(A,q,H,ne,re,se,de,me,Ce){for(var ke=te.call(this,H,ne,re,se),Me=0;Me<ke.length;Me++){var Fe=ke[Me];Me===0&&(Ce?M.call(this,Fe.x1+A,Fe.y1+q):V.call(this,Fe.x1+A,Fe.y1+q)),oe.call(this,A,q,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}me?ee.call(this):K.call(this,de)},K=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(A,q){this.pdf.internal.out(n(A)+" "+r(q)+" m")},T=function(A){var q;switch(A.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var H=this.pdf.getTextDimensions(A.text),ne=z.call(this,A.y),re=B.call(this,ne)-H.h,se=this.ctx.transform.applyToPoint(new o(A.x,ne)),de=this.ctx.transform.decompose(),me=new c;me=(me=(me=me.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Ce,ke,Me,Fe=this.ctx.transform.applyToRectangle(new l(A.x,ne,H.w,H.h)),at=me.applyToRectangle(new l(A.x,re,H.w,H.h)),Ne=N.call(this,at),Z=[],pt=0;pt<Ne.length;pt+=1)Z.indexOf(Ne[pt])===-1&&Z.push(Ne[pt]);if(S(Z),this.autoPaging)for(var Y=Z[0],X=Z[Z.length-1],le=Y;le<X+1;le++){this.pdf.setPage(le);var je=le===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ie=be-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],ct=He-this.margin[3],dt=le===1?0:we+(le-2)*Ie;if(this.ctx.clip_path.length!==0){var Bt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ce,this.posX+this.margin[3],-1*dt+je),P.call(this,"fill",!0),this.path=Bt}var ft=x([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-dt+je+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*A.scale),Me=this.lineWidth,this.lineWidth=Me*A.scale);var kt=this.autoPaging!=="text";if(kt||ft.y+ft.h<=be){if(kt||ft.y>=je&&ft.x<=He){var Je=kt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||He-ft.x)[0],Kn=x([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-dt+je+this.ctx.prevPageLastElemOffset)[0],Vt=kt&&(le>Y||le<X)&&v.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Ie,null).clip().discardPath()),this.pdf.text(Je,Kn.x,Kn.y,{angle:A.angle,align:q,renderingMode:A.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else ft.y<be&&(this.ctx.prevPageLastElemOffset+=be-ft.y);A.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Me)}else A.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*A.scale),Me=this.lineWidth,this.lineWidth=Me*A.scale),this.pdf.text(A.text,se.x+this.posX,se.y+this.posY,{angle:A.angle,align:q,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Me)},V=function(A,q,H,ne){H=H||0,ne=ne||0,this.pdf.internal.out(n(A+H)+" "+r(q+ne)+" l")},U=function(A,q,H){return this.pdf.lines(A,q,H,null,null)},oe=function(A,q,H,ne,re,se,de,me){this.pdf.internal.out([t(s(H+A)),t(a(ne+q)),t(s(re+A)),t(a(se+q)),t(s(de+A)),t(a(me+q)),"c"].join(" "))},te=function(A,q,H,ne){for(var re=2*Math.PI,se=Math.PI/2;q>H;)q-=re;var de=Math.abs(H-q);de<re&&ne&&(de=re-de);for(var me=[],Ce=ne?-1:1,ke=q;de>1e-5;){var Me=ke+Ce*Math.min(de,se);me.push(Q.call(this,A,ke,Me)),de-=Math.abs(Me-ke),ke=Me}return me},Q=function(A,q,H){var ne=(H-q)/2,re=A*Math.cos(ne),se=A*Math.sin(ne),de=re,me=-se,Ce=de*de+me*me,ke=Ce+de*re+me*se,Me=4/3*(Math.sqrt(2*Ce*ke)-ke)/(de*se-me*re),Fe=de-Me*me,at=me+Me*de,Ne=Fe,Z=-at,pt=ne+q,Y=Math.cos(pt),X=Math.sin(pt);return{x1:A*Math.cos(q),y1:A*Math.sin(q),x2:Fe*Y-at*X,y2:Fe*X+at*Y,x3:Ne*Y-Z*X,y3:Ne*X+Z*Y,x4:A*Math.cos(H),y4:A*Math.sin(H)}},I=function(A){return 180*A/Math.PI},G=function(A,q,H,ne,re,se){var de=A+.5*(H-A),me=q+.5*(ne-q),Ce=re+.5*(H-re),ke=se+.5*(ne-se),Me=Math.min(A,re,de,Ce),Fe=Math.max(A,re,de,Ce),at=Math.min(q,se,me,ke),Ne=Math.max(q,se,me,ke);return new l(Me,at,Fe-Me,Ne-at)},ie=function(A,q,H,ne,re,se,de,me){var Ce,ke,Me,Fe,at,Ne,Z,pt,Y,X,le,je,we,be,Ie=H-A,He=ne-q,ct=re-H,dt=se-ne,Bt=de-re,ft=me-se;for(ke=0;ke<41;ke++)Y=(Z=(Me=A+(Ce=ke/40)*Ie)+Ce*((at=H+Ce*ct)-Me))+Ce*(at+Ce*(re+Ce*Bt-at)-Z),X=(pt=(Fe=q+Ce*He)+Ce*((Ne=ne+Ce*dt)-Fe))+Ce*(Ne+Ce*(se+Ce*ft-Ne)-pt),ke==0?(le=Y,je=X,we=Y,be=X):(le=Math.min(le,Y),je=Math.min(je,X),we=Math.max(we,Y),be=Math.max(be,X));return new l(Math.round(le),Math.round(je),Math.round(we-le),Math.round(be-je))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,q,H=(A=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:q}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(yt.API),function(e){var t=function(a){var o,l,c,u,d,h,m,p,w,v;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(v=d%85))/85)-(w=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)%85,l.push(h+33,m+33,p+33,w+33,v+33)):l.push(122);return function(N,y){for(var x=y;x>0;x--)N.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,u,d,h=String,m="length",p=255,w="charCodeAt",v="slice",N="replace";for(a[v](-2),a=a[v](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],u=0,d=(a+=o="uuuuu"[v](a[m]%5||5))[m];d>u;u+=5)l=52200625*(a[w](u)-33)+614125*(a[w](u+1)-33)+7225*(a[w](u+2)-33)+85*(a[w](u+3)-33)+(a[w](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,x){for(var S=x;S>0;S--)y.pop()}(c,o[m]),h.fromCharCode.apply(h,c)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=Qw(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(yt.API),function(e){e.loadFile=function(t,n,r){return function(s,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,m=0,p=function(w){var v=w.length,N=[],y=String.fromCharCode;for(m=0;m<v;m+=1)N.push(y(255&w.charCodeAt(m)));return N.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(s,a,o)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(yt.API),function(e){function t(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):Oo(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):Oo(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=gn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(c(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var p=u[m],w=p.src.find(function(v){return v.format==="truetype"});w&&c.addFont(w.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,yt.getPageSize=function(o,l,c){if(gn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,w=0,v=0;if(m.hasOwnProperty(h))w=m[h][1]/d,v=m[h][0]/d;else try{w=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",v>w&&(p=v,v=w,w=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>v&&(p=v,v=w,w=p)}return{width:v,height:w,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(ib):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(yt.API),yt.API.addJS=function(e){return h3=e,this.internal.events.subscribe("postPutResources",function(){tv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(tv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),d3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+h3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){tv!==void 0&&d3!==void 0&&this.internal.out("/Names <</JavaScript "+tv+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var o=s[a],l=r.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=n.internal.newObject();d.push(h);var m=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,a){var o={title:s,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var a=0;a<s.children.length;a++)r.count++,this.count_r(r,s.children[a]);return r.count}}])}(yt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,a,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,v={width:0,height:0,numcomponents:1},N=4;N<w;N+=2){if(N+=p,t.indexOf(h.charCodeAt(N+1))!==-1){m=256*h.charCodeAt(N+5)+h.charCodeAt(N+6),v={width:256*h.charCodeAt(N+7)+h.charCodeAt(N+8),height:m,numcomponents:h.charCodeAt(N+9)};break}p=256*h.charCodeAt(N+2)+h.charCodeAt(N+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:s}}return d}}(yt.API);var sd,nv,f3,m3,p3,aZ=function(){var e,t,n;function r(a){var o,l,c,u,d,h,m,p,w,v,N,y,x,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),w=(function(){var k,P;for(P=[],k=0;k<4;++k)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),a=(h!=null?h.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((v=c-this.transparency.indexed.length)>0)for(x=0;0<=v?x<v:x>v;0<=v?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(N=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,N.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,N.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(h,m,p,w){var v,N,y,x,S,k,P,z,B,R,K,ee,M,T,V,U,oe,te,Q,I,G,ie=Math.ceil((u.width-h)/p),ve=Math.ceil((u.height-m)/w),A=u.width==ie&&u.height==ve;for(T=o*ie,ee=A?l:new Uint8Array(T*ve),k=a.length,M=0,N=0;M<ve&&c<k;){switch(a[c++]){case 0:for(x=oe=0;oe<T;x=oe+=1)ee[N++]=a[c++];break;case 1:for(x=te=0;te<T;x=te+=1)v=a[c++],S=x<o?0:ee[N-o],ee[N++]=(v+S)%256;break;case 2:for(x=Q=0;Q<T;x=Q+=1)v=a[c++],y=(x-x%o)/o,V=M&&ee[(M-1)*T+y*o+x%o],ee[N++]=(V+v)%256;break;case 3:for(x=I=0;I<T;x=I+=1)v=a[c++],y=(x-x%o)/o,S=x<o?0:ee[N-o],V=M&&ee[(M-1)*T+y*o+x%o],ee[N++]=(v+Math.floor((S+V)/2))%256;break;case 4:for(x=G=0;G<T;x=G+=1)v=a[c++],y=(x-x%o)/o,S=x<o?0:ee[N-o],M===0?V=U=0:(V=ee[(M-1)*T+y*o+x%o],U=y&&ee[(M-1)*T+(y-1)*o+x%o]),P=S+V-U,z=Math.abs(P-S),R=Math.abs(P-V),K=Math.abs(P-U),B=z<=R&&z<=K?S:R<=K?V:U,ee[N++]=(v+B)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!A){var q=((m+M*w)*u.width+h)*o,H=M*T;for(x=0;x<ie;x+=1){for(var ne=0;ne<o;ne+=1)l[q++]=ee[H++];q+=(p-1)*o}}M++}}return a=FX(a),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},r.prototype.decodePalette=function(){var a,o,l,c,u,d,h,m,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,a=0,o=h=0,m=l.length;h<m;o=h+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[a++])!=null?p:255;return u},r.prototype.copyToImageData=function(a,o){var l,c,u,d,h,m,p,w,v,N,y;if(c=this.colors,v=null,l=this.hasAlphaChannel,this.palette.length&&(v=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,l=!0),w=(u=a.data||a).length,h=v||o,d=m=0,c===1)for(;d<w;)p=v?4*o[d/4]:m,N=h[p++],u[d++]=N,u[d++]=N,u[d++]=N,u[d++]=l?h[p++]:255,m=p;else for(;d<w;)p=v?4*o[d/4]:m,u[d++]=h[p++],u[d++]=h[p++],u[d++]=h[p++],u[d++]=l?h[p++]:255,m=p},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(wt)==="[object Window]"){try{t=wt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(a){var o;if(s()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,l,c,u,d,h,m,p;if(this.animation){for(p=[],l=d=0,h=(m=this.animation.frames).length;d<h;l=++d)o=m[l],c=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},r.prototype.renderFrame=function(a,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var o,l,c,u,d,h,m=this;return l=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(o=function(){var p,w;if(p=l++%u,w=c[p],m.renderFrame(a,p),u>1&&l/u<d)return m.animation._timeout=setTimeout(o,w.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function oZ(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var u=!0,d=[],h=0,m=null,p=0,w=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],!(1&v)&&(m=null),p=v>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++],P=k>>6&1,z=1<<(7&k)+1,B=l,R=c,K=!1;k>>7&&(K=!0,B=t,R=z,t+=3*z);var ee=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}d.push({x:N,y,width:x,height:S,has_local_palette:K,palette_offset:B,palette_size:R,data_offset:ee,data_length:t-ee,transparent_index:m,interlaced:!!P,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,V){var U=this.frameInfo(T),oe=U.width*U.height,te=new Uint8Array(oe);g3(e,U.data_offset,te,oe);var Q=U.palette_offset,I=U.transparent_index;I===null&&(I=256);var G=U.width,ie=n-G,ve=G,A=4*(U.y*n+U.x),q=4*((U.y+U.height)*n+U.x),H=A,ne=4*ie;U.interlaced===!0&&(ne+=4*n*7);for(var re=8,se=0,de=te.length;se<de;++se){var me=te[se];if(ve===0&&(ve=G,(H+=ne)>=q&&(ne=4*ie+4*n*(re-1),H=A+(G+ie)*(re<<1),re>>=1)),me===I)H+=4;else{var Ce=e[Q+3*me],ke=e[Q+3*me+1],Me=e[Q+3*me+2];V[H++]=Me,V[H++]=ke,V[H++]=Ce,V[H++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(T,V){var U=this.frameInfo(T),oe=U.width*U.height,te=new Uint8Array(oe);g3(e,U.data_offset,te,oe);var Q=U.palette_offset,I=U.transparent_index;I===null&&(I=256);var G=U.width,ie=n-G,ve=G,A=4*(U.y*n+U.x),q=4*((U.y+U.height)*n+U.x),H=A,ne=4*ie;U.interlaced===!0&&(ne+=4*n*7);for(var re=8,se=0,de=te.length;se<de;++se){var me=te[se];if(ve===0&&(ve=G,(H+=ne)>=q&&(ne=4*ie+4*n*(re-1),H=A+(G+ie)*(re<<1),re>>=1)),me===I)H+=4;else{var Ce=e[Q+3*me],ke=e[Q+3*me+1],Me=e[Q+3*me+2];V[H++]=Ce,V[H++]=ke,V[H++]=Me,V[H++]=255}--ve}}}function g3(e,t,n,r){for(var s=e[t++],a=1<<s,o=a+1,l=o+1,c=s+1,u=(1<<c)-1,d=0,h=0,m=0,p=e[t++],w=new Int32Array(4096),v=null;;){for(;d<16&&p!==0;)h|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var N=h&u;if(h>>=c,d-=c,N!==a){if(N===o)break;for(var y=N<l?N:v,x=0,S=y;S>a;)S=w[S]>>8,++x;var k=S;if(m+x+(y!==N?1:0)>r)return void Nn.log("Warning, gif stream longer than expected.");n[m++]=k;var P=m+=x;for(y!==N&&(n[m++]=k),S=y;x--;)S=w[S],n[--P]=255&S,S>>=8;v!==null&&l<4096&&(w[l++]=v<<8|k,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=N}else l=o+1,u=(1<<(c=s+1))-1,v=null}return m!==r&&Nn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function r2(e){var t,n,r,s,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),w=new Array(64),v=[],N=0,y=7,x=new Array(64),S=new Array(64),k=new Array(64),P=new Array(256),z=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(A,q){for(var H=0,ne=0,re=new Array,se=1;se<=16;se++){for(var de=1;de<=A[se];de++)re[q[ne]]=[],re[q[ne]][0]=H,re[q[ne]][1]=se,ne++,H++;H*=2}return re}function Q(A){for(var q=A[0],H=A[1]-1;H>=0;)q&1<<H&&(N|=1<<y),H--,--y<0&&(N==255?(I(255),I(0)):I(N),y=7,N=0)}function I(A){v.push(A)}function G(A){I(A>>8&255),I(255&A)}function ie(A,q,H,ne,re){for(var se,de=re[0],me=re[240],Ce=function(X,le){var je,we,be,Ie,He,ct,dt,Bt,ft,kt,Je=0;for(ft=0;ft<8;++ft){je=X[Je],we=X[Je+1],be=X[Je+2],Ie=X[Je+3],He=X[Je+4],ct=X[Je+5],dt=X[Je+6];var Kn=je+(Bt=X[Je+7]),Vt=je-Bt,os=we+dt,Jt=we-dt,Qt=be+ct,ui=be-ct,Ze=Ie+He,en=Ie-He,xt=Kn+Ze,Un=Kn-Ze,ar=os+Qt,bn=os-Qt;X[Je]=xt+ar,X[Je+4]=xt-ar;var _t=.707106781*(bn+Un);X[Je+2]=Un+_t,X[Je+6]=Un-_t;var an=.382683433*((xt=en+ui)-(bn=Jt+Vt)),pc=.5411961*xt+an,Ar=1.306562965*bn+an,ya=.707106781*(ar=ui+Jt),wa=Vt+ya,vt=Vt-ya;X[Je+5]=vt+pc,X[Je+3]=vt-pc,X[Je+1]=wa+Ar,X[Je+7]=wa-Ar,Je+=8}for(Je=0,ft=0;ft<8;++ft){je=X[Je],we=X[Je+8],be=X[Je+16],Ie=X[Je+24],He=X[Je+32],ct=X[Je+40],dt=X[Je+48];var Di=je+(Bt=X[Je+56]),ba=je-Bt,js=we+dt,mr=we-dt,or=be+ct,qs=be-ct,yu=Ie+He,so=Ie-He,Ii=Di+yu,Oi=Di-yu,Fi=js+or,ja=js-or;X[Je]=Ii+Fi,X[Je+32]=Ii-Fi;var di=.707106781*(ja+Oi);X[Je+16]=Oi+di,X[Je+48]=Oi-di;var Na=.382683433*((Ii=so+qs)-(ja=mr+ba)),gc=.5411961*Ii+Na,wu=1.306562965*ja+Na,bu=.707106781*(Fi=qs+mr),ju=ba+bu,Nu=ba-bu;X[Je+40]=Nu+gc,X[Je+24]=Nu-gc,X[Je+8]=ju+wu,X[Je+56]=ju-wu,Je++}for(ft=0;ft<64;++ft)kt=X[ft]*le[ft],p[ft]=kt>0?kt+.5|0:kt-.5|0;return p}(A,q),ke=0;ke<64;++ke)w[B[ke]]=Ce[ke];var Me=w[0]-H;H=w[0],Me==0?Q(ne[0]):(Q(ne[m[se=32767+Me]]),Q(h[se]));for(var Fe=63;Fe>0&&w[Fe]==0;)Fe--;if(Fe==0)return Q(de),H;for(var at,Ne=1;Ne<=Fe;){for(var Z=Ne;w[Ne]==0&&Ne<=Fe;)++Ne;var pt=Ne-Z;if(pt>=16){at=pt>>4;for(var Y=1;Y<=at;++Y)Q(me);pt&=15}se=32767+w[Ne],Q(re[(pt<<4)+m[se]]),Q(h[se]),Ne++}return Fe!=63&&Q(de),H}function ve(A){A=Math.min(Math.max(A,1),100),a!=A&&(function(q){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var re=o((H[ne]*q+50)/100);re=Math.min(Math.max(re,1),255),l[B[ne]]=re}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var me=o((se[de]*q+50)/100);me=Math.min(Math.max(me,1),255),c[B[de]]=me}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Me=0;Me<8;Me++)for(var Fe=0;Fe<8;Fe++)u[ke]=1/(l[B[ke]]*Ce[Me]*Ce[Fe]*8),d[ke]=1/(c[B[ke]]*Ce[Me]*Ce[Fe]*8),ke++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),a=A)}this.encode=function(A,q){q&&ve(q),v=new Array,N=0,y=7,G(65496),G(65504),G(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),G(1),G(1),I(0),I(0),function(){G(65499),G(132),I(0);for(var we=0;we<64;we++)I(l[we]);I(1);for(var be=0;be<64;be++)I(c[be])}(),function(we,be){G(65472),G(17),I(8),G(be),G(we),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(A.width,A.height),function(){G(65476),G(418),I(0);for(var we=0;we<16;we++)I(R[we+1]);for(var be=0;be<=11;be++)I(K[be]);I(16);for(var Ie=0;Ie<16;Ie++)I(ee[Ie+1]);for(var He=0;He<=161;He++)I(M[He]);I(1);for(var ct=0;ct<16;ct++)I(T[ct+1]);for(var dt=0;dt<=11;dt++)I(V[dt]);I(17);for(var Bt=0;Bt<16;Bt++)I(U[Bt+1]);for(var ft=0;ft<=161;ft++)I(oe[ft])}(),G(65498),G(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var H=0,ne=0,re=0;N=0,y=7,this.encode.displayName="_encode_";for(var se,de,me,Ce,ke,Me,Fe,at,Ne,Z=A.data,pt=A.width,Y=A.height,X=4*pt,le=0;le<Y;){for(se=0;se<X;){for(ke=X*le+se,Fe=-1,at=0,Ne=0;Ne<64;Ne++)Me=ke+(at=Ne>>3)*X+(Fe=4*(7&Ne)),le+at>=Y&&(Me-=X*(le+1+at-Y)),se+Fe>=X&&(Me-=se+Fe-X+4),de=Z[Me++],me=Z[Me++],Ce=Z[Me++],x[Ne]=(z[de]+z[me+256>>0]+z[Ce+512>>0]>>16)-128,S[Ne]=(z[de+768>>0]+z[me+1024>>0]+z[Ce+1280>>0]>>16)-128,k[Ne]=(z[de+1280>>0]+z[me+1536>>0]+z[Ce+1792>>0]>>16)-128;H=ie(x,u,H,t,r),ne=ie(S,d,ne,n,s),re=ie(k,d,re,n,s),se+=32}le+=8}if(y>=0){var je=[];je[1]=y+1,je[0]=(1<<y+1)-1,Q(je)}return G(65497),new Uint8Array(v)},e=e||50,function(){for(var A=String.fromCharCode,q=0;q<256;q++)P[q]=A(q)}(),t=te(R,K),n=te(T,V),r=te(ee,M),s=te(U,oe),function(){for(var A=1,q=2,H=1;H<=15;H++){for(var ne=A;ne<q;ne++)m[32767+ne]=H,h[32767+ne]=[],h[32767+ne][1]=H,h[32767+ne][0]=ne;for(var re=-(q-1);re<=-A;re++)m[32767+re]=H,h[32767+re]=[],h[32767+re][1]=H,h[32767+re][0]=q-1+re;A<<=1,q<<=1}}(),function(){for(var A=0;A<256;A++)z[A]=19595*A,z[A+256>>0]=38470*A,z[A+512>>0]=7471*A+32768,z[A+768>>0]=-11059*A,z[A+1024>>0]=-21709*A,z[A+1280>>0]=32768*A+8421375,z[A+1536>>0]=-27439*A,z[A+1792>>0]=-5329*A}(),ve(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function v3(e){function t(R){if(!R)throw Error("assert :P")}function n(R,K,ee){for(var M=0;4>M;M++)if(R[K+M]!=ee.charCodeAt(M))return!0;return!1}function r(R,K,ee,M,T){for(var V=0;V<T;V++)R[K+V]=ee[M+V]}function s(R,K,ee,M){for(var T=0;T<M;T++)R[K+T]=ee}function a(R){return new Int32Array(R)}function o(R,K){for(var ee=[],M=0;M<R;M++)ee.push(new K);return ee}function l(R,K){var ee=[];return function M(T,V,U){for(var oe=U[V],te=0;te<oe&&(T.push(U.length>V+1?[]:new K),!(U.length<V+1));te++)M(T[te],V+1,U)}(ee,0,R),ee}var c=function(){var R=this;function K(f,g){for(var _=1<<g-1>>>0;f&_;)_>>>=1;return _?(f&_-1)+_:f}function ee(f,g,_,C,E){t(!(C%_));do f[g+(C-=_)]=E;while(0<C)}function M(f,g,_,C,E){if(t(2328>=E),512>=E)var D=a(512);else if((D=a(E))==null)return 0;return function(O,F,$,W,ce,xe){var ye,pe,Le=F,_e=1<<$,ue=a(16),he=a(16);for(t(ce!=0),t(W!=null),t(O!=null),t(0<$),pe=0;pe<ce;++pe){if(15<W[pe])return 0;++ue[W[pe]]}if(ue[0]==ce)return 0;for(he[1]=0,ye=1;15>ye;++ye){if(ue[ye]>1<<ye)return 0;he[ye+1]=he[ye]+ue[ye]}for(pe=0;pe<ce;++pe)ye=W[pe],0<W[pe]&&(xe[he[ye]++]=pe);if(he[15]==1)return(W=new T).g=0,W.value=xe[0],ee(O,Le,1,_e,W),_e;var Pe,Re=-1,Ee=_e-1,nt=0,Ye=1,gt=1,Xe=1<<$;for(pe=0,ye=1,ce=2;ye<=$;++ye,ce<<=1){if(Ye+=gt<<=1,0>(gt-=ue[ye]))return 0;for(;0<ue[ye];--ue[ye])(W=new T).g=ye,W.value=xe[pe++],ee(O,Le+nt,ce,Xe,W),nt=K(nt,ye)}for(ye=$+1,ce=2;15>=ye;++ye,ce<<=1){if(Ye+=gt<<=1,0>(gt-=ue[ye]))return 0;for(;0<ue[ye];--ue[ye]){if(W=new T,(nt&Ee)!=Re){for(Le+=Xe,Pe=1<<(Re=ye)-$;15>Re&&!(0>=(Pe-=ue[Re]));)++Re,Pe<<=1;_e+=Xe=1<<(Pe=Re-$),O[F+(Re=nt&Ee)].g=Pe+$,O[F+Re].value=Le-F-Re}W.g=ye-$,W.value=xe[pe++],ee(O,Le+(nt>>$),ce,Xe,W),nt=K(nt,ye)}}return Ye!=2*he[15]-1?0:_e}(f,g,_,C,E,D)}function T(){this.value=this.g=0}function V(){this.value=this.g=0}function U(){this.G=o(5,T),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Er,V)}function oe(f,g,_,C){t(f!=null),t(g!=null),t(2147483648>C),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=_,f.Jd=g,f.Yc=_+C,f.Zc=4<=C?_+C-4+1:_,se(f)}function te(f,g){for(var _=0;0<g--;)_|=me(f,128)<<g;return _}function Q(f,g){var _=te(f,g);return de(f)?-_:_}function I(f,g,_,C){var E,D=0;for(t(f!=null),t(g!=null),t(4294967288>C),f.Sb=C,f.Ra=0,f.u=0,f.h=0,4<C&&(C=4),E=0;E<C;++E)D+=g[_+E]<<8*E;f.Ra=D,f.bb=C,f.oa=g,f.pa=_}function G(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Fu-8>>>0,++f.bb,f.u-=8;H(f)&&(f.h=1,f.u=0)}function ie(f,g){if(t(0<=g),!f.h&&g<=Ou){var _=q(f)&Iu[g];return f.u+=g,G(f),_}return f.h=1,f.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(f){return f.Ra>>>(f.u&Fu-1)>>>0}function H(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Fu}function ne(f,g){f.u=g,f.h=H(f)}function re(f){f.u>=ef&&(t(f.u>=ef),G(f))}function se(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function de(f){return te(f,1)}function me(f,g){var _=f.Ca;0>f.b&&se(f);var C=f.b,E=_*g>>>8,D=(f.I>>>C>E)+0;for(D?(_-=E,f.I-=E+1<<C>>>0):_=E+1,C=_,E=0;256<=C;)E+=8,C>>=8;return C=7^E+_s[C],f.b-=C,f.Ca=(_<<C)-1,D}function Ce(f,g,_){f[g+0]=_>>24&255,f[g+1]=_>>16&255,f[g+2]=_>>8&255,f[g+3]=_>>0&255}function ke(f,g){return f[g+0]<<0|f[g+1]<<8}function Me(f,g){return ke(f,g)|f[g+2]<<16}function Fe(f,g){return ke(f,g)|ke(f,g+2)<<16}function at(f,g){var _=1<<g;return t(f!=null),t(0<g),f.X=a(_),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function Ne(f,g){t(f!=null),t(g!=null),t(f.Xa==g.Xa),r(g.X,0,f.X,0,1<<g.Xa)}function Z(){this.X=[],this.Xa=this.Mb=0}function pt(f,g,_,C){t(_!=null),t(C!=null);var E=_[0],D=C[0];return E==0&&(E=(f*D+g/2)/g),D==0&&(D=(g*E+f/2)/f),0>=E||0>=D?0:(_[0]=E,C[0]=D,1)}function Y(f,g){return f+(1<<g)-1>>>g}function X(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function le(f,g){R[g]=function(_,C,E,D,O,F,$){var W;for(W=0;W<O;++W){var ce=R[f](F[$+W-1],E,D+W);F[$+W]=X(_[C+W],ce)}}}function je(){this.ud=this.hd=this.jd=0}function we(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function be(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Ie(f,g){return be(f+(f-g+.5>>1))}function He(f,g,_){return Math.abs(g-_)-Math.abs(f-_)}function ct(f,g,_,C,E,D,O){for(C=D[O-1],_=0;_<E;++_)D[O+_]=C=X(f[g+_],C)}function dt(f,g,_,C,E){var D;for(D=0;D<_;++D){var O=f[g+D],F=O>>8&255,$=16711935&($=($=16711935&O)+((F<<16)+F));C[E+D]=(4278255360&O)+$>>>0}}function Bt(f,g){g.jd=f>>0&255,g.hd=f>>8&255,g.ud=f>>16&255}function ft(f,g,_,C,E,D){var O;for(O=0;O<C;++O){var F=g[_+O],$=F>>>8,W=F,ce=255&(ce=(ce=F>>>16)+((f.jd<<24>>24)*($<<24>>24)>>>5));W=255&(W=(W=W+((f.hd<<24>>24)*($<<24>>24)>>>5))+((f.ud<<24>>24)*(ce<<24>>24)>>>5)),E[D+O]=(4278255360&F)+(ce<<16)+W}}function kt(f,g,_,C,E){R[g]=function(D,O,F,$,W,ce,xe,ye,pe){for($=xe;$<ye;++$)for(xe=0;xe<pe;++xe)W[ce++]=E(F[C(D[O++])])},R[f]=function(D,O,F,$,W,ce,xe){var ye=8>>D.b,pe=D.Ea,Le=D.K[0],_e=D.w;if(8>ye)for(D=(1<<D.b)-1,_e=(1<<ye)-1;O<F;++O){var ue,he=0;for(ue=0;ue<pe;++ue)ue&D||(he=C($[W++])),ce[xe++]=E(Le[he&_e]),he>>=ye}else R["VP8LMapColor"+_]($,W,Le,_e,ce,xe,O,F,pe)}}function Je(f,g,_,C,E){for(_=g+_;g<_;){var D=f[g++];C[E++]=D>>16&255,C[E++]=D>>8&255,C[E++]=D>>0&255}}function Kn(f,g,_,C,E){for(_=g+_;g<_;){var D=f[g++];C[E++]=D>>16&255,C[E++]=D>>8&255,C[E++]=D>>0&255,C[E++]=D>>24&255}}function Vt(f,g,_,C,E){for(_=g+_;g<_;){var D=(O=f[g++])>>16&240|O>>12&15,O=O>>0&240|O>>28&15;C[E++]=D,C[E++]=O}}function os(f,g,_,C,E){for(_=g+_;g<_;){var D=(O=f[g++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;C[E++]=D,C[E++]=O}}function Jt(f,g,_,C,E){for(_=g+_;g<_;){var D=f[g++];C[E++]=D>>0&255,C[E++]=D>>8&255,C[E++]=D>>16&255}}function Qt(f,g,_,C,E,D){if(D==0)for(_=g+_;g<_;)Ce(C,((D=f[g++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),E+=32;else r(C,E,f,g,_)}function ui(f,g){R[g][0]=R[f+"0"],R[g][1]=R[f+"1"],R[g][2]=R[f+"2"],R[g][3]=R[f+"3"],R[g][4]=R[f+"4"],R[g][5]=R[f+"5"],R[g][6]=R[f+"6"],R[g][7]=R[f+"7"],R[g][8]=R[f+"8"],R[g][9]=R[f+"9"],R[g][10]=R[f+"10"],R[g][11]=R[f+"11"],R[g][12]=R[f+"12"],R[g][13]=R[f+"13"],R[g][14]=R[f+"0"],R[g][15]=R[f+"0"]}function Ze(f){return f==k1||f==P1||f==og||f==A1}function en(){this.eb=[],this.size=this.A=this.fb=0}function xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Un(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new en,this.f.kb=new xt,this.sd=null}function ar(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _t(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function an(f,g){var _=f.T,C=g.ba.f.RGBA,E=C.eb,D=C.fb+f.ka*C.A,O=vi[g.ba.S],F=f.y,$=f.O,W=f.f,ce=f.N,xe=f.ea,ye=f.W,pe=g.cc,Le=g.dc,_e=g.Mc,ue=g.Nc,he=f.ka,Pe=f.ka+f.T,Re=f.U,Ee=Re+1>>1;for(he==0?O(F,$,null,null,W,ce,xe,ye,W,ce,xe,ye,E,D,null,null,Re):(O(g.ec,g.fc,F,$,pe,Le,_e,ue,W,ce,xe,ye,E,D-C.A,E,D,Re),++_);he+2<Pe;he+=2)pe=W,Le=ce,_e=xe,ue=ye,ce+=f.Rc,ye+=f.Rc,D+=2*C.A,O(F,($+=2*f.fa)-f.fa,F,$,pe,Le,_e,ue,W,ce,xe,ye,E,D-C.A,E,D,Re);return $+=f.fa,f.j+Pe<f.o?(r(g.ec,g.fc,F,$,Re),r(g.cc,g.dc,W,ce,Ee),r(g.Mc,g.Nc,xe,ye,Ee),_--):1&Pe||O(F,$,null,null,W,ce,xe,ye,W,ce,xe,ye,E,D+C.A,null,null,Re),_}function pc(f,g,_){var C=f.F,E=[f.J];if(C!=null){var D=f.U,O=g.ba.S,F=O==ag||O==og;g=g.ba.f.RGBA;var $=[0],W=f.ka;$[0]=f.T,f.Kb&&(W==0?--$[0]:(--W,E[0]-=f.width),f.j+f.ka+f.T==f.o&&($[0]=f.o-f.j-W));var ce=g.eb;W=g.fb+W*g.A,f=Cn(C,E[0],f.width,D,$,ce,W+(F?0:3),g.A),t(_==$),f&&Ze(O)&&pi(ce,W,F,D,$,g.A)}return 0}function Ar(f){var g=f.ma,_=g.ba.S,C=11>_,E=_==sg||_==ig||_==ag||_==C1||_==12||Ze(_);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Zh(g.Oa,f,E?11:12))return 0;if(E&&Ze(_)&&De(),f.da)alert("todo:use_scaling");else{if(C){if(g.Ib=_t,f.Kb){if(_=f.U+1>>1,g.memory=a(f.U+2*_),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+_,g.Ib=an,De()}}else alert("todo:EmitYUV");E&&(g.Jb=pc,C&&ge())}if(C&&!Vj){for(f=0;256>f;++f)XT[f]=89858*(f-128)+cg>>lg,eM[f]=-22014*(f-128)+cg,QT[f]=-45773*(f-128),ZT[f]=113618*(f-128)+cg>>lg;for(f=lf;f<T1;++f)g=76283*(f-16)+cg>>lg,tM[f-lf]=Vs(g,255),nM[f-lf]=Vs(g+8>>4,15);Vj=1}return 1}function ya(f){var g=f.ma,_=f.U,C=f.T;return t(!(1&f.ka)),0>=_||0>=C?0:(_=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,_),g.Dc+=_,1)}function wa(f){f.ma.memory=null}function vt(f,g,_,C){return ie(f,8)!=47?0:(g[0]=ie(f,14)+1,_[0]=ie(f,14)+1,C[0]=ie(f,1),ie(f,3)!=0?0:!f.h)}function Di(f,g){if(4>f)return f+1;var _=f-2>>1;return(2+(1&f)<<_)+ie(g,_)+1}function ba(f,g){return 120<g?g-120:1<=(_=((_=OT[g-1])>>4)*f+(8-(15&_)))?_:1;var _}function js(f,g,_){var C=q(_),E=f[g+=255&C].g-8;return 0<E&&(ne(_,_.u+8),C=q(_),g+=f[g].value,g+=C&(1<<E)-1),ne(_,_.u+f[g].g),f[g].value}function mr(f,g,_){return _.g+=f.g,_.value+=f.value<<g>>>0,t(8>=_.g),f.g}function or(f,g,_){var C=f.xc;return t((g=C==0?0:f.vc[f.md*(_>>C)+(g>>C)])<f.Wb),f.Ya[g]}function qs(f,g,_,C){var E=f.ab,D=f.c*g,O=f.C;g=O+g;var F=_,$=C;for(C=f.Ta,_=f.Ua;0<E--;){var W=f.gc[E],ce=O,xe=g,ye=F,pe=$,Le=($=C,F=_,W.Ea);switch(t(ce<xe),t(xe<=W.nc),W.hc){case 2:Xp(ye,pe,(xe-ce)*Le,$,F);break;case 0:var _e=ce,ue=xe,he=$,Pe=F,Re=(Xe=W).Ea;_e==0&&(_1(ye,pe,null,null,1,he,Pe),ct(ye,pe+1,0,0,Re-1,he,Pe+1),pe+=Re,Pe+=Re,++_e);for(var Ee=1<<Xe.b,nt=Ee-1,Ye=Y(Re,Xe.b),gt=Xe.K,Xe=Xe.w+(_e>>Xe.b)*Ye;_e<ue;){var sn=gt,hn=Xe,tn=1;for(tf(ye,pe,he,Pe-Re,1,he,Pe);tn<Re;){var Ht=(tn&~nt)+Ee;Ht>Re&&(Ht=Re),(0,Ko[sn[hn++]>>8&15])(ye,pe+ +tn,he,Pe+tn-Re,Ht-tn,he,Pe+tn),tn=Ht}pe+=Re,Pe+=Re,++_e&nt||(Xe+=Ye)}xe!=W.nc&&r($,F-Le,$,F+(xe-ce-1)*Le,Le);break;case 1:for(Le=ye,ue=pe,Re=(ye=W.Ea)-(Pe=ye&~(he=(pe=1<<W.b)-1)),_e=Y(ye,W.b),Ee=W.K,W=W.w+(ce>>W.b)*_e;ce<xe;){for(nt=Ee,Ye=W,gt=new je,Xe=ue+Pe,sn=ue+ye;ue<Xe;)Bt(nt[Ye++],gt),bc(gt,Le,ue,pe,$,F),ue+=pe,F+=pe;ue<sn&&(Bt(nt[Ye++],gt),bc(gt,Le,ue,Re,$,F),ue+=Re,F+=Re),++ce&he||(W+=_e)}break;case 3:if(ye==$&&pe==F&&0<W.b){for(ue=$,ye=Le=F+(xe-ce)*Le-(Pe=(xe-ce)*Y(W.Ea,W.b)),pe=$,he=F,_e=[],Pe=(Re=Pe)-1;0<=Pe;--Pe)_e[Pe]=pe[he+Pe];for(Pe=Re-1;0<=Pe;--Pe)ue[ye+Pe]=_e[Pe];hi(W,ce,xe,$,Le,$,F)}else hi(W,ce,xe,ye,pe,$,F)}F=C,$=_}$!=_&&r(C,_,F,$,D)}function yu(f,g){var _=f.V,C=f.Ba+f.c*f.C,E=g-f.C;if(t(g<=f.l.o),t(16>=E),0<E){var D=f.l,O=f.Ta,F=f.Ua,$=D.width;if(qs(f,E,_,C),E=F=[F],t((_=f.C)<(C=g)),t(D.v<D.va),C>D.o&&(C=D.o),_<D.j){var W=D.j-_;_=D.j,E[0]+=W*$}if(_>=C?_=0:(E[0]+=4*D.v,D.ka=_-D.j,D.U=D.va-D.v,D.T=C-_,_=1),_){if(F=F[0],11>(_=f.ca).S){var ce=_.f.RGBA,xe=(C=_.S,E=D.U,D=D.T,W=ce.eb,ce.A),ye=D;for(ce=ce.fb+f.Ma*ce.A;0<ye--;){var pe=O,Le=F,_e=E,ue=W,he=ce;switch(C){case rg:Ss(pe,Le,_e,ue,he);break;case sg:ls(pe,Le,_e,ue,he);break;case k1:ls(pe,Le,_e,ue,he),pi(ue,he,0,_e,1,0);break;case Rj:lo(pe,Le,_e,ue,he);break;case ig:Qt(pe,Le,_e,ue,he,1);break;case P1:Qt(pe,Le,_e,ue,he,1),pi(ue,he,0,_e,1,0);break;case ag:Qt(pe,Le,_e,ue,he,0);break;case og:Qt(pe,Le,_e,ue,he,0),pi(ue,he,1,_e,1,0);break;case C1:Jo(pe,Le,_e,ue,he);break;case A1:Jo(pe,Le,_e,ue,he),Sn(ue,he,_e,1,0);break;case Dj:oo(pe,Le,_e,ue,he);break;default:t(0)}F+=$,ce+=xe}f.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=_.height)}}f.C=g,t(f.C<=f.i)}function so(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var _=f.Ya[g].G,C=f.Ya[g].H;if(0<_[1][C[1]+0].g||0<_[2][C[2]+0].g||0<_[3][C[3]+0].g)return 0}return 1}function Ii(f,g,_,C,E,D){if(f.Z!=0){var O=f.qd,F=f.rd;for(t(el[f.Z]!=null);g<_;++g)el[f.Z](O,F,C,E,C,E,D),O=C,F=E,E+=D;f.qd=O,f.rd=F}}function Oi(f,g){var _=f.l.ma,C=_.Z==0||_.Z==1?f.l.j:f.C;if(C=f.C<C?C:f.C,t(g<=f.l.o),g>C){var E=f.l.width,D=_.ca,O=_.tb+E*C,F=f.V,$=f.Ba+f.c*C,W=f.gc;t(f.ab==1),t(W[0].hc==3),Zp(W[0],C,g,F,$,D,O),Ii(_,C,g,D,O,E)}f.C=f.Ma=g}function Fi(f,g,_,C,E,D,O){var F=f.$/C,$=f.$%C,W=f.m,ce=f.s,xe=_+f.$,ye=xe;E=_+C*E;var pe=_+C*D,Le=280+ce.ua,_e=f.Pb?F:16777216,ue=0<ce.ua?ce.Wa:null,he=ce.wc,Pe=xe<pe?or(ce,$,F):null;t(f.C<D),t(pe<=E);var Re=!1;e:for(;;){for(;Re||xe<pe;){var Ee=0;if(F>=_e){var nt=xe-_;t((_e=f).Pb),_e.wd=_e.m,_e.xd=nt,0<_e.s.ua&&Ne(_e.s.Wa,_e.s.vb),_e=F+zT}if($&he||(Pe=or(ce,$,F)),t(Pe!=null),Pe.Qb&&(g[xe]=Pe.qb,Re=!0),!Re)if(re(W),Pe.jc){Ee=W,nt=g;var Ye=xe,gt=Pe.pd[q(Ee)&Er-1];t(Pe.jc),256>gt.g?(ne(Ee,Ee.u+gt.g),nt[Ye]=gt.value,Ee=0):(ne(Ee,Ee.u+gt.g-256),t(256<=gt.value),Ee=gt.value),Ee==0&&(Re=!0)}else Ee=js(Pe.G[0],Pe.H[0],W);if(W.h)break;if(Re||256>Ee){if(!Re)if(Pe.nd)g[xe]=(Pe.qb|Ee<<8)>>>0;else{if(re(W),Re=js(Pe.G[1],Pe.H[1],W),re(W),nt=js(Pe.G[2],Pe.H[2],W),Ye=js(Pe.G[3],Pe.H[3],W),W.h)break;g[xe]=(Ye<<24|Re<<16|Ee<<8|nt)>>>0}if(Re=!1,++xe,++$>=C&&($=0,++F,O!=null&&F<=D&&!(F%16)&&O(f,F),ue!=null))for(;ye<xe;)Ee=g[ye++],ue.X[(506832829*Ee&4294967295)>>>ue.Mb]=Ee}else if(280>Ee){if(Ee=Di(Ee-256,W),nt=js(Pe.G[4],Pe.H[4],W),re(W),nt=ba(C,nt=Di(nt,W)),W.h)break;if(xe-_<nt||E-xe<Ee)break e;for(Ye=0;Ye<Ee;++Ye)g[xe+Ye]=g[xe+Ye-nt];for(xe+=Ee,$+=Ee;$>=C;)$-=C,++F,O!=null&&F<=D&&!(F%16)&&O(f,F);if(t(xe<=E),$&he&&(Pe=or(ce,$,F)),ue!=null)for(;ye<xe;)Ee=g[ye++],ue.X[(506832829*Ee&4294967295)>>>ue.Mb]=Ee}else{if(!(Ee<Le))break e;for(Re=Ee-280,t(ue!=null);ye<xe;)Ee=g[ye++],ue.X[(506832829*Ee&4294967295)>>>ue.Mb]=Ee;Ee=xe,t(!(Re>>>(nt=ue).Xa)),g[Ee]=nt.X[Re],Re=!0}Re||t(W.h==H(W))}if(f.Pb&&W.h&&xe<E)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Ne(f.s.vb,f.s.Wa);else{if(W.h)break e;O!=null&&O(f,F>D?D:F),f.a=0,f.$=xe-_}return 1}return f.a=3,0}function ja(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,t(f!=null)}function di(){var f=new N1;return f==null?null:(f.a=0,f.xb=Fj,ui("Predictor","VP8LPredictors"),ui("Predictor","VP8LPredictors_C"),ui("PredictorAdd","VP8LPredictorsAdd"),ui("PredictorAdd","VP8LPredictorsAdd_C"),Xp=dt,bc=ft,Ss=Je,ls=Kn,Jo=Vt,oo=os,lo=Jt,R.VP8LMapColor32b=zu,R.VP8LMapColor8b=Qp,f)}function Na(f,g,_,C,E){var D=1,O=[f],F=[g],$=C.m,W=C.s,ce=null,xe=0;e:for(;;){if(_)for(;D&&ie($,1);){var ye=O,pe=F,Le=C,_e=1,ue=Le.m,he=Le.gc[Le.ab],Pe=ie(ue,2);if(Le.Oc&1<<Pe)D=0;else{switch(Le.Oc|=1<<Pe,he.hc=Pe,he.Ea=ye[0],he.nc=pe[0],he.K=[null],++Le.ab,t(4>=Le.ab),Pe){case 0:case 1:he.b=ie(ue,3)+2,_e=Na(Y(he.Ea,he.b),Y(he.nc,he.b),0,Le,he.K),he.K=he.K[0];break;case 3:var Re,Ee=ie(ue,8)+1,nt=16<Ee?0:4<Ee?1:2<Ee?2:3;if(ye[0]=Y(he.Ea,nt),he.b=nt,Re=_e=Na(Ee,1,0,Le,he.K)){var Ye,gt=Ee,Xe=he,sn=1<<(8>>Xe.b),hn=a(sn);if(hn==null)Re=0;else{var tn=Xe.K[0],Ht=Xe.w;for(hn[0]=Xe.K[0][0],Ye=1;Ye<1*gt;++Ye)hn[Ye]=X(tn[Ht+Ye],hn[Ye-1]);for(;Ye<4*sn;++Ye)hn[Ye]=0;Xe.K[0]=null,Xe.K[0]=hn,Re=1}}_e=Re;break;case 2:break;default:t(0)}D=_e}}if(O=O[0],F=F[0],D&&ie($,1)&&!(D=1<=(xe=ie($,4))&&11>=xe)){C.a=3;break e}var jn;if(jn=D)t:{var wn,Lt,cr,Cs=C,ur=O,ks=F,fn=xe,Hs=_,Gs=Cs.m,Nr=Cs.s,Lr=[null],us=1,xi=0,ka=FT[fn];n:for(;;){if(Hs&&ie(Gs,1)){var _r=ie(Gs,3)+2,fo=Y(ur,_r),Cc=Y(ks,_r),Vu=fo*Cc;if(!Na(fo,Cc,0,Cs,Lr))break n;for(Lr=Lr[0],Nr.xc=_r,wn=0;wn<Vu;++wn){var tl=Lr[wn]>>8&65535;Lr[wn]=tl,tl>=us&&(us=tl+1)}}if(Gs.h)break n;for(Lt=0;5>Lt;++Lt){var Vn=Ij[Lt];!Lt&&0<fn&&(Vn+=1<<fn),xi<Vn&&(xi=Vn)}var M1=o(us*ka,T),Gj=us,Yj=o(Gj,U);if(Yj==null)var dg=null;else t(65536>=Gj),dg=Yj;var cf=a(xi);if(dg==null||cf==null||M1==null){Cs.a=1;break n}var hg=M1;for(wn=cr=0;wn<us;++wn){var qi=dg[wn],Wu=qi.G,Hu=qi.H,Kj=0,fg=1,Jj=0;for(Lt=0;5>Lt;++Lt){Vn=Ij[Lt],Wu[Lt]=hg,Hu[Lt]=cr,!Lt&&0<fn&&(Vn+=1<<fn);s:{var mg,R1=Vn,pg=Cs,uf=cf,iM=hg,aM=cr,D1=0,nl=pg.m,oM=ie(nl,1);if(s(uf,0,0,R1),oM){var lM=ie(nl,1)+1,cM=ie(nl,1),Xj=ie(nl,cM==0?1:8);uf[Xj]=1,lM==2&&(uf[Xj=ie(nl,8)]=1);var gg=1}else{var Zj=a(19),Qj=ie(nl,4)+4;if(19<Qj){pg.a=3;var vg=0;break s}for(mg=0;mg<Qj;++mg)Zj[IT[mg]]=ie(nl,3);var I1=void 0,df=void 0,eN=pg,uM=Zj,xg=R1,tN=uf,O1=0,rl=eN.m,nN=8,rN=o(128,T);r:for(;M(rN,0,7,uM,19);){if(ie(rl,1)){var dM=2+2*ie(rl,3);if((I1=2+ie(rl,dM))>xg)break r}else I1=xg;for(df=0;df<xg&&I1--;){re(rl);var sN=rN[0+(127&q(rl))];ne(rl,rl.u+sN.g);var Gu=sN.value;if(16>Gu)tN[df++]=Gu,Gu!=0&&(nN=Gu);else{var hM=Gu==16,iN=Gu-16,fM=RT[iN],aN=ie(rl,MT[iN])+fM;if(df+aN>xg)break r;for(var mM=hM?nN:0;0<aN--;)tN[df++]=mM}}O1=1;break r}O1||(eN.a=3),gg=O1}(gg=gg&&!nl.h)&&(D1=M(iM,aM,8,uf,R1)),gg&&D1!=0?vg=D1:(pg.a=3,vg=0)}if(vg==0)break n;if(fg&&DT[Lt]==1&&(fg=hg[cr].g==0),Kj+=hg[cr].g,cr+=vg,3>=Lt){var hf,F1=cf[0];for(hf=1;hf<Vn;++hf)cf[hf]>F1&&(F1=cf[hf]);Jj+=F1}}if(qi.nd=fg,qi.Qb=0,fg&&(qi.qb=(Wu[3][Hu[3]+0].value<<24|Wu[1][Hu[1]+0].value<<16|Wu[2][Hu[2]+0].value)>>>0,Kj==0&&256>Wu[0][Hu[0]+0].value&&(qi.Qb=1,qi.qb+=Wu[0][Hu[0]+0].value<<8)),qi.jc=!qi.Qb&&6>Jj,qi.jc){var yg,mo=qi;for(yg=0;yg<Er;++yg){var sl=yg,il=mo.pd[sl],wg=mo.G[0][mo.H[0]+sl];256<=wg.value?(il.g=wg.g+256,il.value=wg.value):(il.g=0,il.value=0,sl>>=mr(wg,8,il),sl>>=mr(mo.G[1][mo.H[1]+sl],16,il),sl>>=mr(mo.G[2][mo.H[2]+sl],0,il),mr(mo.G[3][mo.H[3]+sl],24,il))}}}Nr.vc=Lr,Nr.Wb=us,Nr.Ya=dg,Nr.yc=M1,jn=1;break t}jn=0}if(!(D=jn)){C.a=3;break e}if(0<xe){if(W.ua=1<<xe,!at(W.Wa,xe)){C.a=1,D=0;break e}}else W.ua=0;var z1=C,oN=O,pM=F,B1=z1.s,$1=B1.xc;if(z1.c=oN,z1.i=pM,B1.md=Y(oN,$1),B1.wc=$1==0?-1:(1<<$1)-1,_){C.xb=HT;break e}if((ce=a(O*F))==null){C.a=1,D=0;break e}D=(D=Fi(C,ce,0,O,F,F,null))&&!$.h;break e}return D?(E!=null?E[0]=ce:(t(ce==null),t(_)),C.$=0,_||ja(W)):ja(W),D}function gc(f,g){var _=f.c*f.i,C=_+g+16*g;return t(f.c<=g),f.V=a(C),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+_+g,1)}function wu(f,g){var _=f.C,C=g-_,E=f.V,D=f.Ba+f.c*_;for(t(g<=f.l.o);0<C;){var O=16<C?16:C,F=f.l.ma,$=f.l.width,W=$*O,ce=F.ca,xe=F.tb+$*_,ye=f.Ta,pe=f.Ua;qs(f,O,E,D),Zn(ye,pe,ce,xe,W),Ii(F,_,_+O,ce,xe,$),C-=O,E+=O*f.c,_+=O}t(_==g),f.C=f.Ma=g}function bu(){this.ub=this.yd=this.td=this.Rb=0}function ju(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Nu(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Lp(){this.Yb=function(){var f=[];return function g(_,C,E){for(var D=E[C],O=0;O<D&&(_.push(E.length>C+1?[]:0),!(E.length<C+1));O++)g(_[O],C+1,E)}(f,0,[3,11]),f}()}function e1(){this.jb=a(3),this.Wc=l([4,8],Lp),this.Xc=l([4,17],Lp)}function t1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function _u(){this.ld=this.La=this.dd=this.tc=0}function Tp(){this.Na=this.la=0}function n1(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ih(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function r1(){this.uc=this.M=this.Nb=0,this.wa=Array(new _u),this.Y=0,this.ya=Array(new Ih),this.aa=0,this.l=new Su}function Mp(){this.y=a(16),this.f=a(8),this.ea=a(8)}function s1(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new bu,this.Kc=new ju,this.ed=new t1,this.Qa=new Nu,this.Ic=this.$c=this.Aa=0,this.D=new r1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,n1),this.Pa=new e1,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Mp),this.Hd=0,this.rb=Array(new Tp),this.sb=0,this.wa=Array(new _u),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ih),this.L=this.aa=0,this.gd=l([4,2],_u),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Su(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function i1(){var f=new s1;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,of||(of=Ip)),f}function Jn(f,g,_){return f.a==0&&(f.a=g,f.sc=_,f.cb=0),0}function Rp(f,g,_){return 3<=_&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function Dp(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return Jn(f,2,"null VP8Io passed to VP8GetHeaders()");var _=g.data,C=g.w,E=g.ha;if(4>E)return Jn(f,7,"Truncated header.");var D=_[C+0]|_[C+1]<<8|_[C+2]<<16,O=f.Od;if(O.Rb=!(1&D),O.td=D>>1&7,O.yd=D>>4&1,O.ub=D>>5,3<O.td)return Jn(f,3,"Incorrect keyframe parameters.");if(!O.yd)return Jn(f,4,"Frame not displayable.");C+=3,E-=3;var F=f.Kc;if(O.Rb){if(7>E)return Jn(f,7,"cannot parse picture header");if(!Rp(_,C,E))return Jn(f,3,"Bad code word");F.c=16383&(_[C+4]<<8|_[C+3]),F.Td=_[C+4]>>6,F.i=16383&(_[C+6]<<8|_[C+5]),F.Ud=_[C+6]>>6,C+=7,E-=7,f.za=F.c+15>>4,f.Ub=F.i+15>>4,g.width=F.c,g.height=F.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,s((D=f.Pa).jb,0,255,D.jb.length),t((D=f.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,s(D.Zb,0,0,D.Zb.length),s(D.Lb,0,0,D.Lb)}if(O.ub>E)return Jn(f,7,"bad partition length");oe(D=f.m,_,C,O.ub),C+=O.ub,E-=O.ub,O.Rb&&(F.Ld=de(D),F.Kd=de(D)),F=f.Qa;var $,W=f.Pa;if(t(D!=null),t(F!=null),F.Cb=de(D),F.Cb){if(F.Bb=de(D),de(D)){for(F.Fb=de(D),$=0;4>$;++$)F.Zb[$]=de(D)?Q(D,7):0;for($=0;4>$;++$)F.Lb[$]=de(D)?Q(D,6):0}if(F.Bb)for($=0;3>$;++$)W.jb[$]=de(D)?te(D,8):255}else F.Bb=0;if(D.Ka)return Jn(f,3,"cannot parse segment header");if((F=f.ed).zd=de(D),F.Tb=te(D,6),F.wb=te(D,3),F.Pc=de(D),F.Pc&&de(D)){for(W=0;4>W;++W)de(D)&&(F.vd[W]=Q(D,6));for(W=0;4>W;++W)de(D)&&(F.od[W]=Q(D,6))}if(f.L=F.Tb==0?0:F.zd?1:2,D.Ka)return Jn(f,3,"cannot parse filter header");var ce=E;if(E=$=C,C=$+ce,F=ce,f.Xb=(1<<te(f.m,2))-1,ce<3*(W=f.Xb))_=7;else{for($+=3*W,F-=3*W,ce=0;ce<W;++ce){var xe=_[E+0]|_[E+1]<<8|_[E+2]<<16;xe>F&&(xe=F),oe(f.Jc[+ce],_,$,xe),$+=xe,F-=xe,E+=3}oe(f.Jc[+W],_,$,F),_=$<C?0:5}if(_!=0)return Jn(f,_,"cannot parse partitions");for(_=te($=f.m,7),E=de($)?Q($,4):0,C=de($)?Q($,4):0,F=de($)?Q($,4):0,W=de($)?Q($,4):0,$=de($)?Q($,4):0,ce=f.Qa,xe=0;4>xe;++xe){if(ce.Cb){var ye=ce.Zb[xe];ce.Fb||(ye+=_)}else{if(0<xe){f.pb[xe]=f.pb[0];continue}ye=_}var pe=f.pb[xe];pe.Sc[0]=E1[Vs(ye+E,127)],pe.Sc[1]=L1[Vs(ye+0,127)],pe.Eb[0]=2*E1[Vs(ye+C,127)],pe.Eb[1]=101581*L1[Vs(ye+F,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=E1[Vs(ye+W,117)],pe.Qc[1]=L1[Vs(ye+$,127)],pe.lc=ye+$}if(!O.Rb)return Jn(f,4,"Not a key frame.");for(de(D),O=f.Pa,_=0;4>_;++_){for(E=0;8>E;++E)for(C=0;3>C;++C)for(F=0;11>F;++F)W=me(D,VT[_][E][C][F])?te(D,8):UT[_][E][C][F],O.Wc[_][E].Yb[C][F]=W;for(E=0;17>E;++E)O.Xc[_][E]=O.Wc[_][WT[E]]}return f.kc=de(D),f.kc&&(f.Bd=te(D,8)),f.cb=1}function Ip(f,g,_,C,E,D,O){var F=g[E].Yb[_];for(_=0;16>E;++E){if(!me(f,F[_+0]))return E;for(;!me(f,F[_+1]);)if(F=g[++E].Yb[0],_=0,E==16)return 16;var $=g[E+1].Yb;if(me(f,F[_+2])){var W=f,ce=0;if(me(W,(ye=F)[(xe=_)+3]))if(me(W,ye[xe+6])){for(F=0,xe=2*(ce=me(W,ye[xe+8]))+(ye=me(W,ye[xe+9+ce])),ce=0,ye=BT[xe];ye[F];++F)ce+=ce+me(W,ye[F]);ce+=3+(8<<xe)}else me(W,ye[xe+7])?(ce=7+2*me(W,165),ce+=me(W,145)):ce=5+me(W,159);else ce=me(W,ye[xe+4])?3+me(W,ye[xe+5]):2;F=$[2]}else ce=1,F=$[1];$=O+$T[E],0>(W=f).b&&se(W);var xe,ye=W.b,pe=(xe=W.Ca>>1)-(W.I>>ye)>>31;--W.b,W.Ca+=pe,W.Ca|=1,W.I-=(xe+1&pe)<<ye,D[$]=((ce^pe)-pe)*C[(0<E)+0]}return 16}function Oh(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,s(f.zc,0,0,f.zc.length),f.ja=0}function a1(f,g){if(f==null)return 0;if(g==null)return Jn(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Dp(f,g))return 0;if(t(f.cb),g.ac==null||g.ac(g)){g.ob&&(f.L=0);var _=ug[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=g.v-_>>4,f.zb=g.j-_>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=g.o+15+_>>4,f.Hb=g.va+15+_>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var C=f.ed;for(_=0;4>_;++_){var E;if(f.Qa.Cb){var D=f.Qa.Lb[_];f.Qa.Fb||(D+=C.Tb)}else D=C.Tb;for(E=0;1>=E;++E){var O=f.gd[_][E],F=D;if(C.Pc&&(F+=C.vd[0],E&&(F+=C.od[0])),0<(F=0>F?0:63<F?63:F)){var $=F;0<C.wb&&($=4<C.wb?$>>2:$>>1)>9-C.wb&&($=9-C.wb),1>$&&($=1),O.dd=$,O.tc=2*F+$,O.ld=40<=F?2:15<=F?1:0}else O.tc=0;O.La=E}}}_=0}else Jn(f,6,"Frame setup failed"),_=f.a;if(_=_==0){if(_){f.$c=0,0<f.Aa||(f.Ic=sM);e:{_=f.Ic,C=4*($=f.za);var W=32*$,ce=$+1,xe=0<f.L?$*(0<f.Aa?2:1):0,ye=(f.Aa==2?2:1)*$;if((O=C+832+(E=3*(16*_+ug[f.L])/2*W)+(D=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=O)_=0;else{if(O>f.Vb){if(f.Vb=0,f.Ec=a(O),f.Fc=0,f.Ec==null){_=Jn(f,1,"no memory during frame initialization.");break e}f.Vb=O}O=f.Ec,F=f.Fc,f.Ac=O,f.Bc=F,F+=C,f.Gd=o(W,Mp),f.Hd=0,f.rb=o(ce+1,Tp),f.sb=1,f.wa=xe?o(xe,_u):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=$),t(!0),f.oc=O,f.pc=F,F+=832,f.ya=o(ye,Ih),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=$),f.R=16*$,f.B=8*$,$=(W=ug[f.L])*f.R,W=W/2*f.B,f.sa=O,f.ta=F+$,f.qa=f.sa,f.ra=f.ta+16*_*f.R+W,f.Ha=f.qa,f.Ia=f.ra+8*_*f.B+W,f.$c=0,F+=E,f.mb=D?O:null,f.nb=D?F:null,t(F+D<=f.Fc+f.Vb),Oh(f),s(f.Ac,f.Bc,0,C),_=1}}if(_){if(g.ka=0,g.y=f.sa,g.O=f.ta,g.f=f.qa,g.N=f.ra,g.ea=f.Ha,g.Vd=f.Ia,g.fa=f.R,g.Rc=f.B,g.F=null,g.J=0,!tg){for(_=-255;255>=_;++_)pr[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)uo[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)af[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)qu[255+_]=0>_?0:255<_?255:_;tg=1}Bu=c1,co=o1,nf=Fp,cs=l1,fi=zp,Xn=Op,$u=qh,eg=yc,rf=j1,jc=Vh,Nc=b1,Xo=Lu,_c=Wh,Uu=Yp,Sc=Gp,Zo=Sa,sf=ao,mi=w1,Ui[0]=_a,Ui[1]=u1,Ui[2]=m1,Ui[3]=p1,Ui[4]=Up,Ui[5]=Au,Ui[6]=qp,Ui[7]=Bh,Ui[8]=v1,Ui[9]=g1,Qo[0]=Bp,Qo[1]=h1,Qo[2]=io,Qo[3]=ku,Qo[4]=qr,Qo[5]=f1,Qo[6]=$p,ho[0]=Ho,ho[1]=d1,ho[2]=x1,ho[3]=$h,ho[4]=xc,ho[5]=y1,ho[6]=Uh,_=1}else _=0}_&&(_=function(pe,Le){for(pe.M=0;pe.M<pe.Va;++pe.M){var _e,ue=pe.Jc[pe.M&pe.Xb],he=pe.m,Pe=pe;for(_e=0;_e<Pe.za;++_e){var Re=he,Ee=Pe,nt=Ee.Ac,Ye=Ee.Bc+4*_e,gt=Ee.zc,Xe=Ee.ya[Ee.aa+_e];if(Ee.Qa.Bb?Xe.$b=me(Re,Ee.Pa.jb[0])?2+me(Re,Ee.Pa.jb[2]):me(Re,Ee.Pa.jb[1]):Xe.$b=0,Ee.kc&&(Xe.Ad=me(Re,Ee.Bd)),Xe.Za=!me(Re,145)+0,Xe.Za){var sn=Xe.Ob,hn=0;for(Ee=0;4>Ee;++Ee){var tn,Ht=gt[0+Ee];for(tn=0;4>tn;++tn){Ht=qT[nt[Ye+tn]][Ht];for(var jn=Oj[me(Re,Ht[0])];0<jn;)jn=Oj[2*jn+me(Re,Ht[jn])];Ht=-jn,nt[Ye+tn]=Ht}r(sn,hn,nt,Ye,4),hn+=4,gt[0+Ee]=Ht}}else Ht=me(Re,156)?me(Re,128)?1:3:me(Re,163)?2:0,Xe.Ob[0]=Ht,s(nt,Ye,Ht,4),s(gt,0,Ht,4);Xe.Dd=me(Re,142)?me(Re,114)?me(Re,183)?1:3:2:0}if(Pe.m.Ka)return Jn(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Pe=ue,Re=(he=pe).rb[he.sb-1],nt=he.rb[he.sb+he.ja],_e=he.ya[he.aa+he.ja],Ye=he.kc?_e.Ad:0)Re.la=nt.la=0,_e.Za||(Re.Na=nt.Na=0),_e.Hc=0,_e.Gc=0,_e.ia=0;else{var wn,Lt;if(Re=nt,nt=Pe,Ye=he.Pa.Xc,gt=he.ya[he.aa+he.ja],Xe=he.pb[gt.$b],Ee=gt.ad,sn=0,hn=he.rb[he.sb-1],Ht=tn=0,s(Ee,sn,0,384),gt.Za)var cr=0,Cs=Ye[3];else{jn=a(16);var ur=Re.Na+hn.Na;if(ur=of(nt,Ye[1],ur,Xe.Eb,0,jn,0),Re.Na=hn.Na=(0<ur)+0,1<ur)Bu(jn,0,Ee,sn);else{var ks=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)Ee[sn+jn]=ks}cr=1,Cs=Ye[0]}var fn=15&Re.la,Hs=15&hn.la;for(jn=0;4>jn;++jn){var Gs=1&Hs;for(ks=Lt=0;4>ks;++ks)fn=fn>>1|(Gs=(ur=of(nt,Cs,ur=Gs+(1&fn),Xe.Sc,cr,Ee,sn))>cr)<<7,Lt=Lt<<2|(3<ur?3:1<ur?2:Ee[sn+0]!=0),sn+=16;fn>>=4,Hs=Hs>>1|Gs<<7,tn=(tn<<8|Lt)>>>0}for(Cs=fn,cr=Hs>>4,wn=0;4>wn;wn+=2){for(Lt=0,fn=Re.la>>4+wn,Hs=hn.la>>4+wn,jn=0;2>jn;++jn){for(Gs=1&Hs,ks=0;2>ks;++ks)ur=Gs+(1&fn),fn=fn>>1|(Gs=0<(ur=of(nt,Ye[2],ur,Xe.Qc,0,Ee,sn)))<<3,Lt=Lt<<2|(3<ur?3:1<ur?2:Ee[sn+0]!=0),sn+=16;fn>>=2,Hs=Hs>>1|Gs<<5}Ht|=Lt<<4*wn,Cs|=fn<<4<<wn,cr|=(240&Hs)<<wn}Re.la=Cs,hn.la=cr,gt.Hc=tn,gt.Gc=Ht,gt.ia=43690&Ht?0:Xe.ia,Ye=!(tn|Ht)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[_e.$b][_e.Za],he.wa[he.Y+he.ja].La|=!Ye),Pe.Ka)return Jn(pe,7,"Premature end-of-file encountered.")}if(Oh(pe),he=Le,Pe=1,_e=(ue=pe).D,Re=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(_e.M=ue.M,_e.uc=Re,Xh(ue,_e),Pe=1,_e=(Lt=ue.D).Nb,Re=(Ht=ug[ue.L])*ue.R,nt=Ht/2*ue.B,jn=16*_e*ue.R,ks=8*_e*ue.B,Ye=ue.sa,gt=ue.ta-Re+jn,Xe=ue.qa,Ee=ue.ra-nt+ks,sn=ue.Ha,hn=ue.Ia-nt+ks,Hs=(fn=Lt.M)==0,tn=fn>=ue.Va-1,ue.Aa==2&&Xh(ue,Lt),Lt.uc)for(Gs=(ur=ue).D.M,t(ur.D.uc),Lt=ur.yb;Lt<ur.Hb;++Lt){cr=Lt,Cs=Gs;var Nr=(Lr=(Vn=ur).D).Nb;wn=Vn.R;var Lr=Lr.wa[Lr.Y+cr],us=Vn.sa,xi=Vn.ta+16*Nr*wn+16*cr,ka=Lr.dd,_r=Lr.tc;if(_r!=0)if(t(3<=_r),Vn.L==1)0<cr&&Zo(us,xi,wn,_r+4),Lr.La&&mi(us,xi,wn,_r),0<Cs&&Sc(us,xi,wn,_r+4),Lr.La&&sf(us,xi,wn,_r);else{var fo=Vn.B,Cc=Vn.qa,Vu=Vn.ra+8*Nr*fo+8*cr,tl=Vn.Ha,Vn=Vn.Ia+8*Nr*fo+8*cr;Nr=Lr.ld,0<cr&&(eg(us,xi,wn,_r+4,ka,Nr),jc(Cc,Vu,tl,Vn,fo,_r+4,ka,Nr)),Lr.La&&(Xo(us,xi,wn,_r,ka,Nr),Uu(Cc,Vu,tl,Vn,fo,_r,ka,Nr)),0<Cs&&($u(us,xi,wn,_r+4,ka,Nr),rf(Cc,Vu,tl,Vn,fo,_r+4,ka,Nr)),Lr.La&&(Nc(us,xi,wn,_r,ka,Nr),_c(Cc,Vu,tl,Vn,fo,_r,ka,Nr))}}if(ue.ia&&alert("todo:DitherRow"),he.put!=null){if(Lt=16*fn,fn=16*(fn+1),Hs?(he.y=ue.sa,he.O=ue.ta+jn,he.f=ue.qa,he.N=ue.ra+ks,he.ea=ue.Ha,he.W=ue.Ia+ks):(Lt-=Ht,he.y=Ye,he.O=gt,he.f=Xe,he.N=Ee,he.ea=sn,he.W=hn),tn||(fn-=Ht),fn>he.o&&(fn=he.o),he.F=null,he.J=null,ue.Fa!=null&&0<ue.Fa.length&&Lt<fn&&(he.J=Kh(ue,he,Lt,fn-Lt),he.F=ue.mb,he.F==null&&he.F.length==0)){Pe=Jn(ue,3,"Could not decode alpha data.");break e}Lt<he.j&&(Ht=he.j-Lt,Lt=he.j,t(!(1&Ht)),he.O+=ue.R*Ht,he.N+=ue.B*(Ht>>1),he.W+=ue.B*(Ht>>1),he.F!=null&&(he.J+=he.width*Ht)),Lt<fn&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=Lt-he.j,he.U=he.va-he.v,he.T=fn-Lt,Pe=he.put(he))}_e+1!=ue.Ic||tn||(r(ue.sa,ue.ta-Re,Ye,gt+16*ue.R,Re),r(ue.qa,ue.ra-nt,Xe,Ee+8*ue.B,nt),r(ue.Ha,ue.Ia-nt,sn,hn+8*ue.B,nt))}if(!Pe)return Jn(pe,6,"Output aborted.")}return 1}(f,g)),g.bc!=null&&g.bc(g),_&=1}return _?(f.cb=0,_):0}function zi(f,g,_,C,E){E=f[g+_+32*C]+(E>>3),f[g+_+32*C]=-256&E?0>E?0:255:E}function Cu(f,g,_,C,E,D){zi(f,g,0,_,C+E),zi(f,g,1,_,C+D),zi(f,g,2,_,C-D),zi(f,g,3,_,C-E)}function Ns(f){return(20091*f>>16)+f}function Fh(f,g,_,C){var E,D=0,O=a(16);for(E=0;4>E;++E){var F=f[g+0]+f[g+8],$=f[g+0]-f[g+8],W=(35468*f[g+4]>>16)-Ns(f[g+12]),ce=Ns(f[g+4])+(35468*f[g+12]>>16);O[D+0]=F+ce,O[D+1]=$+W,O[D+2]=$-W,O[D+3]=F-ce,D+=4,g++}for(E=D=0;4>E;++E)F=(f=O[D+0]+4)+O[D+8],$=f-O[D+8],W=(35468*O[D+4]>>16)-Ns(O[D+12]),zi(_,C,0,0,F+(ce=Ns(O[D+4])+(35468*O[D+12]>>16))),zi(_,C,1,0,$+W),zi(_,C,2,0,$-W),zi(_,C,3,0,F-ce),D++,C+=32}function Op(f,g,_,C){var E=f[g+0]+4,D=35468*f[g+4]>>16,O=Ns(f[g+4]),F=35468*f[g+1]>>16;Cu(_,C,0,E+O,f=Ns(f[g+1]),F),Cu(_,C,1,E+D,f,F),Cu(_,C,2,E-D,f,F),Cu(_,C,3,E-O,f,F)}function o1(f,g,_,C,E){Fh(f,g,_,C),E&&Fh(f,g+16,_,C+4)}function Fp(f,g,_,C){co(f,g+0,_,C,1),co(f,g+32,_,C+128,1)}function l1(f,g,_,C){var E;for(f=f[g+0]+4,E=0;4>E;++E)for(g=0;4>g;++g)zi(_,C,g,E,f)}function zp(f,g,_,C){f[g+0]&&cs(f,g+0,_,C),f[g+16]&&cs(f,g+16,_,C+4),f[g+32]&&cs(f,g+32,_,C+128),f[g+48]&&cs(f,g+48,_,C+128+4)}function c1(f,g,_,C){var E,D=a(16);for(E=0;4>E;++E){var O=f[g+0+E]+f[g+12+E],F=f[g+4+E]+f[g+8+E],$=f[g+4+E]-f[g+8+E],W=f[g+0+E]-f[g+12+E];D[0+E]=O+F,D[8+E]=O-F,D[4+E]=W+$,D[12+E]=W-$}for(E=0;4>E;++E)O=(f=D[0+4*E]+3)+D[3+4*E],F=D[1+4*E]+D[2+4*E],$=D[1+4*E]-D[2+4*E],W=f-D[3+4*E],_[C+0]=O+F>>3,_[C+16]=W+$>>3,_[C+32]=O-F>>3,_[C+48]=W-$>>3,C+=64}function zh(f,g,_){var C,E=g-32,D=Ws,O=255-f[E-1];for(C=0;C<_;++C){var F,$=D,W=O+f[g-1];for(F=0;F<_;++F)f[g+F]=$[W+f[E+F]];g+=32}}function u1(f,g){zh(f,g,4)}function d1(f,g){zh(f,g,8)}function h1(f,g){zh(f,g,16)}function io(f,g){var _;for(_=0;16>_;++_)r(f,g+32*_,f,g-32,16)}function ku(f,g){var _;for(_=16;0<_;--_)s(f,g,f[g-1],16),g+=32}function Pu(f,g,_){var C;for(C=0;16>C;++C)s(g,_+32*C,f,16)}function Bp(f,g){var _,C=16;for(_=0;16>_;++_)C+=f[g-1+32*_]+f[g+_-32];Pu(C>>5,f,g)}function qr(f,g){var _,C=8;for(_=0;16>_;++_)C+=f[g-1+32*_];Pu(C>>4,f,g)}function f1(f,g){var _,C=8;for(_=0;16>_;++_)C+=f[g+_-32];Pu(C>>4,f,g)}function $p(f,g){Pu(128,f,g)}function Ct(f,g,_){return f+2*g+_+2>>2}function m1(f,g){var _,C=g-32;for(C=new Uint8Array([Ct(f[C-1],f[C+0],f[C+1]),Ct(f[C+0],f[C+1],f[C+2]),Ct(f[C+1],f[C+2],f[C+3]),Ct(f[C+2],f[C+3],f[C+4])]),_=0;4>_;++_)r(f,g+32*_,C,0,C.length)}function p1(f,g){var _=f[g-1],C=f[g-1+32],E=f[g-1+64],D=f[g-1+96];Ce(f,g+0,16843009*Ct(f[g-1-32],_,C)),Ce(f,g+32,16843009*Ct(_,C,E)),Ce(f,g+64,16843009*Ct(C,E,D)),Ce(f,g+96,16843009*Ct(E,D,D))}function _a(f,g){var _,C=4;for(_=0;4>_;++_)C+=f[g+_-32]+f[g-1+32*_];for(C>>=3,_=0;4>_;++_)s(f,g+32*_,C,4)}function Up(f,g){var _=f[g-1+0],C=f[g-1+32],E=f[g-1+64],D=f[g-1-32],O=f[g+0-32],F=f[g+1-32],$=f[g+2-32],W=f[g+3-32];f[g+0+96]=Ct(C,E,f[g-1+96]),f[g+1+96]=f[g+0+64]=Ct(_,C,E),f[g+2+96]=f[g+1+64]=f[g+0+32]=Ct(D,_,C),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=Ct(O,D,_),f[g+3+64]=f[g+2+32]=f[g+1+0]=Ct(F,O,D),f[g+3+32]=f[g+2+0]=Ct($,F,O),f[g+3+0]=Ct(W,$,F)}function qp(f,g){var _=f[g+1-32],C=f[g+2-32],E=f[g+3-32],D=f[g+4-32],O=f[g+5-32],F=f[g+6-32],$=f[g+7-32];f[g+0+0]=Ct(f[g+0-32],_,C),f[g+1+0]=f[g+0+32]=Ct(_,C,E),f[g+2+0]=f[g+1+32]=f[g+0+64]=Ct(C,E,D),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=Ct(E,D,O),f[g+3+32]=f[g+2+64]=f[g+1+96]=Ct(D,O,F),f[g+3+64]=f[g+2+96]=Ct(O,F,$),f[g+3+96]=Ct(F,$,$)}function Au(f,g){var _=f[g-1+0],C=f[g-1+32],E=f[g-1+64],D=f[g-1-32],O=f[g+0-32],F=f[g+1-32],$=f[g+2-32],W=f[g+3-32];f[g+0+0]=f[g+1+64]=D+O+1>>1,f[g+1+0]=f[g+2+64]=O+F+1>>1,f[g+2+0]=f[g+3+64]=F+$+1>>1,f[g+3+0]=$+W+1>>1,f[g+0+96]=Ct(E,C,_),f[g+0+64]=Ct(C,_,D),f[g+0+32]=f[g+1+96]=Ct(_,D,O),f[g+1+32]=f[g+2+96]=Ct(D,O,F),f[g+2+32]=f[g+3+96]=Ct(O,F,$),f[g+3+32]=Ct(F,$,W)}function Bh(f,g){var _=f[g+0-32],C=f[g+1-32],E=f[g+2-32],D=f[g+3-32],O=f[g+4-32],F=f[g+5-32],$=f[g+6-32],W=f[g+7-32];f[g+0+0]=_+C+1>>1,f[g+1+0]=f[g+0+64]=C+E+1>>1,f[g+2+0]=f[g+1+64]=E+D+1>>1,f[g+3+0]=f[g+2+64]=D+O+1>>1,f[g+0+32]=Ct(_,C,E),f[g+1+32]=f[g+0+96]=Ct(C,E,D),f[g+2+32]=f[g+1+96]=Ct(E,D,O),f[g+3+32]=f[g+2+96]=Ct(D,O,F),f[g+3+64]=Ct(O,F,$),f[g+3+96]=Ct(F,$,W)}function g1(f,g){var _=f[g-1+0],C=f[g-1+32],E=f[g-1+64],D=f[g-1+96];f[g+0+0]=_+C+1>>1,f[g+2+0]=f[g+0+32]=C+E+1>>1,f[g+2+32]=f[g+0+64]=E+D+1>>1,f[g+1+0]=Ct(_,C,E),f[g+3+0]=f[g+1+32]=Ct(C,E,D),f[g+3+32]=f[g+1+64]=Ct(E,D,D),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=D}function v1(f,g){var _=f[g-1+0],C=f[g-1+32],E=f[g-1+64],D=f[g-1+96],O=f[g-1-32],F=f[g+0-32],$=f[g+1-32],W=f[g+2-32];f[g+0+0]=f[g+2+32]=_+O+1>>1,f[g+0+32]=f[g+2+64]=C+_+1>>1,f[g+0+64]=f[g+2+96]=E+C+1>>1,f[g+0+96]=D+E+1>>1,f[g+3+0]=Ct(F,$,W),f[g+2+0]=Ct(O,F,$),f[g+1+0]=f[g+3+32]=Ct(_,O,F),f[g+1+32]=f[g+3+64]=Ct(C,_,O),f[g+1+64]=f[g+3+96]=Ct(E,C,_),f[g+1+96]=Ct(D,E,C)}function x1(f,g){var _;for(_=0;8>_;++_)r(f,g+32*_,f,g-32,8)}function $h(f,g){var _;for(_=0;8>_;++_)s(f,g,f[g-1],8),g+=32}function vc(f,g,_){var C;for(C=0;8>C;++C)s(g,_+32*C,f,8)}function Ho(f,g){var _,C=8;for(_=0;8>_;++_)C+=f[g+_-32]+f[g-1+32*_];vc(C>>4,f,g)}function y1(f,g){var _,C=4;for(_=0;8>_;++_)C+=f[g+_-32];vc(C>>3,f,g)}function xc(f,g){var _,C=4;for(_=0;8>_;++_)C+=f[g-1+32*_];vc(C>>3,f,g)}function Uh(f,g){vc(128,f,g)}function Eu(f,g,_){var C=f[g-_],E=f[g+0],D=3*(E-C)+S1[1020+f[g-2*_]-f[g+_]],O=ng[112+(D+4>>3)];f[g-_]=Ws[255+C+ng[112+(D+3>>3)]],f[g+0]=Ws[255+E-O]}function Vp(f,g,_,C){var E=f[g+0],D=f[g+_];return gi[255+f[g-2*_]-f[g-_]]>C||gi[255+D-E]>C}function Wp(f,g,_,C){return 4*gi[255+f[g-_]-f[g+0]]+gi[255+f[g-2*_]-f[g+_]]<=C}function Hp(f,g,_,C,E){var D=f[g-3*_],O=f[g-2*_],F=f[g-_],$=f[g+0],W=f[g+_],ce=f[g+2*_],xe=f[g+3*_];return 4*gi[255+F-$]+gi[255+O-W]>C?0:gi[255+f[g-4*_]-D]<=E&&gi[255+D-O]<=E&&gi[255+O-F]<=E&&gi[255+xe-ce]<=E&&gi[255+ce-W]<=E&&gi[255+W-$]<=E}function Gp(f,g,_,C){var E=2*C+1;for(C=0;16>C;++C)Wp(f,g+C,_,E)&&Eu(f,g+C,_)}function Sa(f,g,_,C){var E=2*C+1;for(C=0;16>C;++C)Wp(f,g+C*_,1,E)&&Eu(f,g+C*_,1)}function ao(f,g,_,C){var E;for(E=3;0<E;--E)Gp(f,g+=4*_,_,C)}function w1(f,g,_,C){var E;for(E=3;0<E;--E)Sa(f,g+=4,_,C)}function Go(f,g,_,C,E,D,O,F){for(D=2*D+1;0<E--;){if(Hp(f,g,_,D,O))if(Vp(f,g,_,F))Eu(f,g,_);else{var $=f,W=g,ce=_,xe=$[W-2*ce],ye=$[W-ce],pe=$[W+0],Le=$[W+ce],_e=$[W+2*ce],ue=27*(Pe=S1[1020+3*(pe-ye)+S1[1020+xe-Le]])+63>>7,he=18*Pe+63>>7,Pe=9*Pe+63>>7;$[W-3*ce]=Ws[255+$[W-3*ce]+Pe],$[W-2*ce]=Ws[255+xe+he],$[W-ce]=Ws[255+ye+ue],$[W+0]=Ws[255+pe-ue],$[W+ce]=Ws[255+Le-he],$[W+2*ce]=Ws[255+_e-Pe]}g+=C}}function Bi(f,g,_,C,E,D,O,F){for(D=2*D+1;0<E--;){if(Hp(f,g,_,D,O))if(Vp(f,g,_,F))Eu(f,g,_);else{var $=f,W=g,ce=_,xe=$[W-ce],ye=$[W+0],pe=$[W+ce],Le=ng[112+((_e=3*(ye-xe))+4>>3)],_e=ng[112+(_e+3>>3)],ue=Le+1>>1;$[W-2*ce]=Ws[255+$[W-2*ce]+ue],$[W-ce]=Ws[255+xe+_e],$[W+0]=Ws[255+ye-Le],$[W+ce]=Ws[255+pe-ue]}g+=C}}function qh(f,g,_,C,E,D){Go(f,g,_,1,16,C,E,D)}function yc(f,g,_,C,E,D){Go(f,g,1,_,16,C,E,D)}function b1(f,g,_,C,E,D){var O;for(O=3;0<O;--O)Bi(f,g+=4*_,_,1,16,C,E,D)}function Lu(f,g,_,C,E,D){var O;for(O=3;0<O;--O)Bi(f,g+=4,1,_,16,C,E,D)}function j1(f,g,_,C,E,D,O,F){Go(f,g,E,1,8,D,O,F),Go(_,C,E,1,8,D,O,F)}function Vh(f,g,_,C,E,D,O,F){Go(f,g,1,E,8,D,O,F),Go(_,C,1,E,8,D,O,F)}function Wh(f,g,_,C,E,D,O,F){Bi(f,g+4*E,E,1,8,D,O,F),Bi(_,C+4*E,E,1,8,D,O,F)}function Yp(f,g,_,C,E,D,O,F){Bi(f,g+4,1,E,8,D,O,F),Bi(_,C+4,1,E,8,D,O,F)}function Tu(){this.ba=new Un,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Hh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Gh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kp(){this.ua=0,this.Wa=new Z,this.vb=new Z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new T}function N1(){this.xb=this.a=0,this.l=new Su,this.ca=new Un,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kp,this.ab=0,this.gc=o(4,Gh),this.Oc=0}function Mu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Su,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wc(f,g,_,C,E,D,O){for(f=f==null?0:f[g+0],g=0;g<O;++g)E[D+g]=f+_[C+g]&255,f=E[D+g]}function Yh(f,g,_,C,E,D,O){var F;if(f==null)wc(null,null,_,C,E,D,O);else for(F=0;F<O;++F)E[D+F]=f[g+F]+_[C+F]&255}function Yo(f,g,_,C,E,D,O){if(f==null)wc(null,null,_,C,E,D,O);else{var F,$=f[g+0],W=$,ce=$;for(F=0;F<O;++F)W=ce+($=f[g+F])-W,ce=_[C+F]+(-256&W?0>W?0:255:W)&255,W=$,E[D+F]=ce}}function Kh(f,g,_,C){var E=g.width,D=g.o;if(t(f!=null&&g!=null),0>_||0>=C||_+C>D)return null;if(!f.Cc){if(f.ga==null){var O;if(f.ga=new Mu,(O=f.ga==null)||(O=g.width*g.o,t(f.Gb.length==0),f.Gb=a(O),f.Uc=0,f.Gb==null?O=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,O=1),O=!O),!O){O=f.ga;var F=f.Fa,$=f.P,W=f.qc,ce=f.mb,xe=f.nb,ye=$+1,pe=W-1,Le=O.l;if(t(F!=null&&ce!=null&&g!=null),el[0]=null,el[1]=wc,el[2]=Yh,el[3]=Yo,O.ca=ce,O.tb=xe,O.c=g.width,O.i=g.height,t(0<O.c&&0<O.i),1>=W)g=0;else if(O.$a=F[$+0]>>0&3,O.Z=F[$+0]>>2&3,O.Lc=F[$+0]>>4&3,$=F[$+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||$)g=0;else if(Le.put=ya,Le.ac=Ar,Le.bc=wa,Le.ma=O,Le.width=g.width,Le.height=g.height,Le.Da=g.Da,Le.v=g.v,Le.va=g.va,Le.j=g.j,Le.o=g.o,O.$a)e:{t(O.$a==1),g=di();t:for(;;){if(g==null){g=0;break e}if(t(O!=null),O.mc=g,g.c=O.c,g.i=O.i,g.l=O.l,g.l.ma=O,g.l.width=O.c,g.l.height=O.i,g.a=0,I(g.m,F,ye,pe),!Na(O.c,O.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&so(g.s)?(O.ic=1,F=g.c*g.i,g.Ta=null,g.Ua=0,g.V=a(F),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(O.ic=0,g=gc(g,O.c)),!g))break t;g=1;break e}O.mc=null,g=0}else g=pe>=O.c*O.i;O=!g}if(O)return null;f.ga.Lc!=1?f.Ga=0:C=D-_}t(f.ga!=null),t(_+C<=D);e:{if(g=(F=f.ga).c,D=F.l.o,F.$a==0){if(ye=f.rc,pe=f.Vc,Le=f.Fa,$=f.P+1+_*g,W=f.mb,ce=f.nb+_*g,t($<=f.P+f.qc),F.Z!=0)for(t(el[F.Z]!=null),O=0;O<C;++O)el[F.Z](ye,pe,Le,$,W,ce,g),ye=W,pe=ce,ce+=g,$+=g;else for(O=0;O<C;++O)r(W,ce,Le,$,g),ye=W,pe=ce,ce+=g,$+=g;f.rc=ye,f.Vc=pe}else{if(t(F.mc!=null),g=_+C,t((O=F.mc)!=null),t(g<=O.i),O.C>=g)g=1;else if(F.ic||ge(),F.ic){F=O.V,ye=O.Ba,pe=O.c;var _e=O.i,ue=(Le=1,$=O.$/pe,W=O.$%pe,ce=O.m,xe=O.s,O.$),he=pe*_e,Pe=pe*g,Re=xe.wc,Ee=ue<Pe?or(xe,W,$):null;t(ue<=he),t(g<=_e),t(so(xe));t:for(;;){for(;!ce.h&&ue<Pe;){if(W&Re||(Ee=or(xe,W,$)),t(Ee!=null),re(ce),256>(_e=js(Ee.G[0],Ee.H[0],ce)))F[ye+ue]=_e,++ue,++W>=pe&&(W=0,++$<=g&&!($%16)&&Oi(O,$));else{if(!(280>_e)){Le=0;break t}_e=Di(_e-256,ce);var nt,Ye=js(Ee.G[4],Ee.H[4],ce);if(re(ce),!(ue>=(Ye=ba(pe,Ye=Di(Ye,ce)))&&he-ue>=_e)){Le=0;break t}for(nt=0;nt<_e;++nt)F[ye+ue+nt]=F[ye+ue+nt-Ye];for(ue+=_e,W+=_e;W>=pe;)W-=pe,++$<=g&&!($%16)&&Oi(O,$);ue<Pe&&W&Re&&(Ee=or(xe,W,$))}t(ce.h==H(ce))}Oi(O,$>g?g:$);break t}!Le||ce.h&&ue<he?(Le=0,O.a=ce.h?5:3):O.$=ue,g=Le}else g=Fi(O,O.V,O.Ba,O.c,O.i,g,wu);if(!g){C=0;break e}}_+C>=D&&(f.Cc=1),C=1}if(!C)return null;if(f.Cc&&((C=f.ga)!=null&&(C.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+_*E}function j(f,g,_,C,E,D){for(;0<E--;){var O,F=f,$=g+(_?1:0),W=f,ce=g+(_?0:3);for(O=0;O<C;++O){var xe=W[ce+4*O];xe!=255&&(xe*=32897,F[$+4*O+0]=F[$+4*O+0]*xe>>23,F[$+4*O+1]=F[$+4*O+1]*xe>>23,F[$+4*O+2]=F[$+4*O+2]*xe>>23)}g+=D}}function L(f,g,_,C,E){for(;0<C--;){var D;for(D=0;D<_;++D){var O=f[g+2*D+0],F=15&(W=f[g+2*D+1]),$=4369*F,W=(240&W|W>>4)*$>>16;f[g+2*D+0]=(240&O|O>>4)*$>>16&240|(15&O|O<<4)*$>>16>>4&15,f[g+2*D+1]=240&W|F}g+=E}}function J(f,g,_,C,E,D,O,F){var $,W,ce=255;for(W=0;W<E;++W){for($=0;$<C;++$){var xe=f[g+$];D[O+4*$]=xe,ce&=xe}g+=_,O+=F}return ce!=255}function ae(f,g,_,C,E){var D;for(D=0;D<E;++D)_[C+D]=f[g+D]>>8}function ge(){pi=j,Sn=L,Cn=J,Zn=ae}function Se(f,g,_){R[f]=function(C,E,D,O,F,$,W,ce,xe,ye,pe,Le,_e,ue,he,Pe,Re){var Ee,nt=Re-1>>1,Ye=F[$+0]|W[ce+0]<<16,gt=xe[ye+0]|pe[Le+0]<<16;t(C!=null);var Xe=3*Ye+gt+131074>>2;for(g(C[E+0],255&Xe,Xe>>16,_e,ue),D!=null&&(Xe=3*gt+Ye+131074>>2,g(D[O+0],255&Xe,Xe>>16,he,Pe)),Ee=1;Ee<=nt;++Ee){var sn=F[$+Ee]|W[ce+Ee]<<16,hn=xe[ye+Ee]|pe[Le+Ee]<<16,tn=Ye+sn+gt+hn+524296,Ht=tn+2*(sn+gt)>>3;Xe=Ht+Ye>>1,Ye=(tn=tn+2*(Ye+hn)>>3)+sn>>1,g(C[E+2*Ee-1],255&Xe,Xe>>16,_e,ue+(2*Ee-1)*_),g(C[E+2*Ee-0],255&Ye,Ye>>16,_e,ue+(2*Ee-0)*_),D!=null&&(Xe=tn+gt>>1,Ye=Ht+hn>>1,g(D[O+2*Ee-1],255&Xe,Xe>>16,he,Pe+(2*Ee-1)*_),g(D[O+2*Ee+0],255&Ye,Ye>>16,he,Pe+(2*Ee+0)*_)),Ye=sn,gt=hn}1&Re||(Xe=3*Ye+gt+131074>>2,g(C[E+Re-1],255&Xe,Xe>>16,_e,ue+(Re-1)*_),D!=null&&(Xe=3*gt+Ye+131074>>2,g(D[O+Re-1],255&Xe,Xe>>16,he,Pe+(Re-1)*_)))}}function De(){vi[rg]=GT,vi[sg]=zj,vi[Rj]=YT,vi[ig]=Bj,vi[ag]=$j,vi[C1]=Uj,vi[Dj]=KT,vi[k1]=zj,vi[P1]=Bj,vi[og]=$j,vi[A1]=Uj}function tt(f){return f&~JT?0>f?0:255:f>>qj}function mt(f,g){return tt((19077*f>>8)+(26149*g>>8)-14234)}function Et(f,g,_){return tt((19077*f>>8)-(6419*g>>8)-(13320*_>>8)+8708)}function Pt(f,g){return tt((19077*f>>8)+(33050*g>>8)-17685)}function Xt(f,g,_,C,E){C[E+0]=mt(f,_),C[E+1]=Et(f,g,_),C[E+2]=Pt(f,g)}function In(f,g,_,C,E){C[E+0]=Pt(f,g),C[E+1]=Et(f,g,_),C[E+2]=mt(f,_)}function qn(f,g,_,C,E){var D=Et(f,g,_);g=D<<3&224|Pt(f,g)>>3,C[E+0]=248&mt(f,_)|D>>5,C[E+1]=g}function lr(f,g,_,C,E){var D=240&Pt(f,g)|15;C[E+0]=240&mt(f,_)|Et(f,g,_)>>4,C[E+1]=D}function Vr(f,g,_,C,E){C[E+0]=255,Xt(f,g,_,C,E+1)}function jr(f,g,_,C,E){In(f,g,_,C,E),C[E+3]=255}function $i(f,g,_,C,E){Xt(f,g,_,C,E),C[E+3]=255}function Vs(f,g){return 0>f?0:f>g?g:f}function Ca(f,g,_){R[f]=function(C,E,D,O,F,$,W,ce,xe){for(var ye=ce+(-2&xe)*_;ce!=ye;)g(C[E+0],D[O+0],F[$+0],W,ce),g(C[E+1],D[O+0],F[$+0],W,ce+_),E+=2,++O,++$,ce+=2*_;1&xe&&g(C[E+0],D[O+0],F[$+0],W,ce)}}function Jp(f,g,_){return _==0?f==0?g==0?6:5:g==0?4:0:_}function Jh(f,g,_,C,E){switch(f>>>30){case 3:co(g,_,C,E,0);break;case 2:Xn(g,_,C,E);break;case 1:cs(g,_,C,E)}}function Xh(f,g){var _,C,E=g.M,D=g.Nb,O=f.oc,F=f.pc+40,$=f.oc,W=f.pc+584,ce=f.oc,xe=f.pc+600;for(_=0;16>_;++_)O[F+32*_-1]=129;for(_=0;8>_;++_)$[W+32*_-1]=129,ce[xe+32*_-1]=129;for(0<E?O[F-1-32]=$[W-1-32]=ce[xe-1-32]=129:(s(O,F-32-1,127,21),s($,W-32-1,127,9),s(ce,xe-32-1,127,9)),C=0;C<f.za;++C){var ye=g.ya[g.aa+C];if(0<C){for(_=-1;16>_;++_)r(O,F+32*_-4,O,F+32*_+12,4);for(_=-1;8>_;++_)r($,W+32*_-4,$,W+32*_+4,4),r(ce,xe+32*_-4,ce,xe+32*_+4,4)}var pe=f.Gd,Le=f.Hd+C,_e=ye.ad,ue=ye.Hc;if(0<E&&(r(O,F-32,pe[Le].y,0,16),r($,W-32,pe[Le].f,0,8),r(ce,xe-32,pe[Le].ea,0,8)),ye.Za){var he=O,Pe=F-32+16;for(0<E&&(C>=f.za-1?s(he,Pe,pe[Le].y[15],4):r(he,Pe,pe[Le+1].y,0,4)),_=0;4>_;_++)he[Pe+128+_]=he[Pe+256+_]=he[Pe+384+_]=he[Pe+0+_];for(_=0;16>_;++_,ue<<=2)he=O,Pe=F+Wj[_],Ui[ye.Ob[_]](he,Pe),Jh(ue,_e,16*+_,he,Pe)}else if(he=Jp(C,E,ye.Ob[0]),Qo[he](O,F),ue!=0)for(_=0;16>_;++_,ue<<=2)Jh(ue,_e,16*+_,O,F+Wj[_]);for(_=ye.Gc,he=Jp(C,E,ye.Dd),ho[he]($,W),ho[he](ce,xe),ue=_e,he=$,Pe=W,255&(ye=_>>0)&&(170&ye?nf(ue,256,he,Pe):fi(ue,256,he,Pe)),ye=ce,ue=xe,255&(_>>=8)&&(170&_?nf(_e,320,ye,ue):fi(_e,320,ye,ue)),E<f.Ub-1&&(r(pe[Le].y,0,O,F+480,16),r(pe[Le].f,0,$,W+224,8),r(pe[Le].ea,0,ce,xe+224,8)),_=8*D*f.B,pe=f.sa,Le=f.ta+16*C+16*D*f.R,_e=f.qa,ye=f.ra+8*C+_,ue=f.Ha,he=f.Ia+8*C+_,_=0;16>_;++_)r(pe,Le+_*f.R,O,F+32*_,16);for(_=0;8>_;++_)r(_e,ye+_*f.B,$,W+32*_,8),r(ue,he+_*f.B,ce,xe+32*_,8)}}function Ru(f,g,_,C,E,D,O,F,$){var W=[0],ce=[0],xe=0,ye=$!=null?$.kd:0,pe=$??new Hh;if(f==null||12>_)return 7;pe.data=f,pe.w=g,pe.ha=_,g=[g],_=[_],pe.gb=[pe.gb];e:{var Le=g,_e=_,ue=pe.gb;if(t(f!=null),t(_e!=null),t(ue!=null),ue[0]=0,12<=_e[0]&&!n(f,Le[0],"RIFF")){if(n(f,Le[0]+8,"WEBP")){ue=3;break e}var he=Fe(f,Le[0]+4);if(12>he||4294967286<he){ue=3;break e}if(ye&&he>_e[0]-8){ue=7;break e}ue[0]=he,Le[0]+=12,_e[0]-=12}ue=0}if(ue!=0)return ue;for(he=0<pe.gb[0],_=_[0];;){e:{var Pe=f;_e=g,ue=_;var Re=W,Ee=ce,nt=Le=[0];if((Xe=xe=[xe])[0]=0,8>ue[0])ue=7;else{if(!n(Pe,_e[0],"VP8X")){if(Fe(Pe,_e[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var Ye=Fe(Pe,_e[0]+8),gt=1+Me(Pe,_e[0]+12);if(2147483648<=gt*(Pe=1+Me(Pe,_e[0]+15))){ue=3;break e}nt!=null&&(nt[0]=Ye),Re!=null&&(Re[0]=gt),Ee!=null&&(Ee[0]=Pe),_e[0]+=18,ue[0]-=18,Xe[0]=1}ue=0}}if(xe=xe[0],Le=Le[0],ue!=0)return ue;if(_e=!!(2&Le),!he&&xe)return 3;if(D!=null&&(D[0]=!!(16&Le)),O!=null&&(O[0]=_e),F!=null&&(F[0]=0),O=W[0],Le=ce[0],xe&&_e&&$==null){ue=0;break}if(4>_){ue=7;break}if(he&&xe||!he&&!xe&&!n(f,g[0],"ALPH")){_=[_],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Ye=f,ue=g,he=_;var Xe=pe.gb;Re=pe.na,Ee=pe.P,nt=pe.Sa,gt=22,t(Ye!=null),t(he!=null),Pe=ue[0];var sn=he[0];for(t(Re!=null),t(nt!=null),Re[0]=null,Ee[0]=null,nt[0]=0;;){if(ue[0]=Pe,he[0]=sn,8>sn){ue=7;break e}var hn=Fe(Ye,Pe+4);if(4294967286<hn){ue=3;break e}var tn=8+hn+1&-2;if(gt+=tn,0<Xe&&gt>Xe){ue=3;break e}if(!n(Ye,Pe,"VP8 ")||!n(Ye,Pe,"VP8L")){ue=0;break e}if(sn[0]<tn){ue=7;break e}n(Ye,Pe,"ALPH")||(Re[0]=Ye,Ee[0]=Pe+8,nt[0]=hn),Pe+=tn,sn-=tn}}if(_=_[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],ue!=0)break}_=[_],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(Xe=f,ue=g,he=_,Re=pe.gb[0],Ee=pe.Ja,nt=pe.xa,Ye=ue[0],Pe=!n(Xe,Ye,"VP8 "),gt=!n(Xe,Ye,"VP8L"),t(Xe!=null),t(he!=null),t(Ee!=null),t(nt!=null),8>he[0])ue=7;else{if(Pe||gt){if(Xe=Fe(Xe,Ye+4),12<=Re&&Xe>Re-12){ue=3;break e}if(ye&&Xe>he[0]-8){ue=7;break e}Ee[0]=Xe,ue[0]+=8,he[0]-=8,nt[0]=gt}else nt[0]=5<=he[0]&&Xe[Ye+0]==47&&!(Xe[Ye+4]>>5),Ee[0]=he[0];ue=0}if(_=_[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],g=g[0],ue!=0)break;if(4294967286<pe.Ja)return 3;if(F==null||_e||(F[0]=pe.xa?2:1),O=[O],Le=[Le],pe.xa){if(5>_){ue=7;break}F=O,ye=Le,_e=D,f==null||5>_?f=0:5<=_&&f[g+0]==47&&!(f[g+4]>>5)?(he=[0],Xe=[0],Re=[0],I(Ee=new A,f,g,_),vt(Ee,he,Xe,Re)?(F!=null&&(F[0]=he[0]),ye!=null&&(ye[0]=Xe[0]),_e!=null&&(_e[0]=Re[0]),f=1):f=0):f=0}else{if(10>_){ue=7;break}F=Le,f==null||10>_||!Rp(f,g+3,_-3)?f=0:(ye=f[g+0]|f[g+1]<<8|f[g+2]<<16,_e=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=pe.Ja||!_e||!f?f=0:(O&&(O[0]=_e),F&&(F[0]=f),f=1))}if(!f||(O=O[0],Le=Le[0],xe&&(W[0]!=O||ce[0]!=Le)))return 3;$!=null&&($[0]=pe,$.offset=g-$.w,t(4294967286>g-$.w),t($.offset==$.ha-_));break}return ue==0||ue==7&&xe&&$==null?(D!=null&&(D[0]|=pe.na!=null&&0<pe.na.length),C!=null&&(C[0]=O),E!=null&&(E[0]=Le),0):ue}function Zh(f,g,_){var C=g.width,E=g.height,D=0,O=0,F=C,$=E;if(g.Da=f!=null&&0<f.Da,g.Da&&(F=f.cd,$=f.bd,D=f.v,O=f.j,11>_||(D&=-2,O&=-2),0>D||0>O||0>=F||0>=$||D+F>C||O+$>E))return 0;if(g.v=D,g.j=O,g.va=D+F,g.o=O+$,g.U=F,g.T=$,g.da=f!=null&&0<f.da,g.da){if(!pt(F,$,_=[f.ib],D=[f.hb]))return 0;g.ib=_[0],g.hb=D[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*C/4&&g.hb<3*E/4,g.Kb=0),1}function Qh(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function Du(f,g,_,C){if(C==null||0>=f||0>=g)return 2;if(_!=null){if(_.Da){var E=_.cd,D=_.bd,O=-2&_.v,F=-2&_.j;if(0>O||0>F||0>=E||0>=D||O+E>f||F+D>g)return 2;f=E,g=D}if(_.da){if(!pt(f,g,E=[_.ib],D=[_.hb]))return 2;f=E[0],g=D[0]}}C.width=f,C.height=g;e:{var $=C.width,W=C.height;if(f=C.S,0>=$||0>=W||!(f>=rg&&13>f))f=2;else{if(0>=C.Rd&&C.sd==null){O=D=E=g=0;var ce=(F=$*Hj[f])*W;if(11>f||(D=(W+1)/2*(g=($+1)/2),f==12&&(O=(E=$)*W)),(W=a(ce+2*D+O))==null){f=1;break e}C.sd=W,11>f?(($=C.f.RGBA).eb=W,$.fb=0,$.A=F,$.size=ce):(($=C.f.kb).y=W,$.O=0,$.fa=F,$.Fd=ce,$.f=W,$.N=0+ce,$.Ab=g,$.Cd=D,$.ea=W,$.W=0+ce+D,$.Db=g,$.Ed=D,f==12&&($.F=W,$.J=0+ce+2*D),$.Tc=O,$.lb=E)}if(g=1,E=C.S,D=C.width,O=C.height,E>=rg&&13>E)if(11>E)f=C.f.RGBA,g&=(F=Math.abs(f.A))*(O-1)+D<=f.size,g&=F>=D*Hj[E],g&=f.eb!=null;else{f=C.f.kb,F=(D+1)/2,ce=(O+1)/2,$=Math.abs(f.fa),W=Math.abs(f.Ab);var xe=Math.abs(f.Db),ye=Math.abs(f.lb),pe=ye*(O-1)+D;g&=$*(O-1)+D<=f.Fd,g&=W*(ce-1)+F<=f.Cd,g=(g&=xe*(ce-1)+F<=f.Ed)&$>=D&W>=F&xe>=F,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,E==12&&(g&=ye>=D,g&=pe<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||_!=null&&_.fd&&(f=Qh(C)),f}var Er=64,Iu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ou=24,Fu=32,ef=8,_s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];le("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(f){return f},R.Predictor2=function(f,g,_){return g[_+0]},R.Predictor3=function(f,g,_){return g[_+1]},R.Predictor4=function(f,g,_){return g[_-1]},R.Predictor5=function(f,g,_){return we(we(f,g[_+1]),g[_+0])},R.Predictor6=function(f,g,_){return we(f,g[_-1])},R.Predictor7=function(f,g,_){return we(f,g[_+0])},R.Predictor8=function(f,g,_){return we(g[_-1],g[_+0])},R.Predictor9=function(f,g,_){return we(g[_+0],g[_+1])},R.Predictor10=function(f,g,_){return we(we(f,g[_-1]),we(g[_+0],g[_+1]))},R.Predictor11=function(f,g,_){var C=g[_+0];return 0>=He(C>>24&255,f>>24&255,(g=g[_-1])>>24&255)+He(C>>16&255,f>>16&255,g>>16&255)+He(C>>8&255,f>>8&255,g>>8&255)+He(255&C,255&f,255&g)?C:f},R.Predictor12=function(f,g,_){var C=g[_+0];return(be((f>>24&255)+(C>>24&255)-((g=g[_-1])>>24&255))<<24|be((f>>16&255)+(C>>16&255)-(g>>16&255))<<16|be((f>>8&255)+(C>>8&255)-(g>>8&255))<<8|be((255&f)+(255&C)-(255&g)))>>>0},R.Predictor13=function(f,g,_){var C=g[_-1];return(Ie((f=we(f,g[_+0]))>>24&255,C>>24&255)<<24|Ie(f>>16&255,C>>16&255)<<16|Ie(f>>8&255,C>>8&255)<<8|Ie(f>>0&255,C>>0&255))>>>0};var _1=R.PredictorAdd0;R.PredictorAdd1=ct,le("Predictor2","PredictorAdd2"),le("Predictor3","PredictorAdd3"),le("Predictor4","PredictorAdd4"),le("Predictor5","PredictorAdd5"),le("Predictor6","PredictorAdd6"),le("Predictor7","PredictorAdd7"),le("Predictor8","PredictorAdd8"),le("Predictor9","PredictorAdd9"),le("Predictor10","PredictorAdd10"),le("Predictor11","PredictorAdd11"),le("Predictor12","PredictorAdd12"),le("Predictor13","PredictorAdd13");var tf=R.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Xp,hi=R.ColorIndexInverseTransform,zu=R.MapARGB,Zp=R.VP8LColorIndexInverseTransformAlpha,Qp=R.MapAlpha,Ko=R.VP8LPredictorsAdd=[];Ko.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var bc,Ss,ls,Jo,oo,lo,Bu,co,Xn,nf,cs,fi,$u,eg,rf,jc,Nc,Xo,_c,Uu,Sc,Zo,sf,mi,pi,Sn,Cn,Zn,pr=a(511),uo=a(2041),af=a(225),qu=a(767),tg=0,S1=uo,ng=af,Ws=qu,gi=pr,rg=0,sg=1,Rj=2,ig=3,ag=4,C1=5,Dj=6,k1=7,P1=8,og=9,A1=10,MT=[2,3,7],RT=[3,3,11],Ij=[280,256,256,256,40],DT=[0,1,1,1,0],IT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],OT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],FT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zT=8,E1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],L1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],of=null,BT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$T=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Oj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],UT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],VT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],WT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qo=[],Ui=[],ho=[],HT=1,Fj=2,el=[],vi=[];Se("UpsampleRgbLinePair",Xt,3),Se("UpsampleBgrLinePair",In,3),Se("UpsampleRgbaLinePair",$i,4),Se("UpsampleBgraLinePair",jr,4),Se("UpsampleArgbLinePair",Vr,4),Se("UpsampleRgba4444LinePair",lr,2),Se("UpsampleRgb565LinePair",qn,2);var GT=R.UpsampleRgbLinePair,YT=R.UpsampleBgrLinePair,zj=R.UpsampleRgbaLinePair,Bj=R.UpsampleBgraLinePair,$j=R.UpsampleArgbLinePair,Uj=R.UpsampleRgba4444LinePair,KT=R.UpsampleRgb565LinePair,lg=16,cg=1<<lg-1,lf=-227,T1=482,qj=6,JT=(256<<qj)-1,Vj=0,XT=a(256),ZT=a(256),QT=a(256),eM=a(256),tM=a(T1-lf),nM=a(T1-lf);Ca("YuvToRgbRow",Xt,3),Ca("YuvToBgrRow",In,3),Ca("YuvToRgbaRow",$i,4),Ca("YuvToBgraRow",jr,4),Ca("YuvToArgbRow",Vr,4),Ca("YuvToRgba4444Row",lr,2),Ca("YuvToRgb565Row",qn,2);var Wj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ug=[0,2,8],rM=[8,7,6,4,4,2,2,2,1,1,1,1],sM=1;this.WebPDecodeRGBA=function(f,g,_,C,E){var D=sg,O=new Tu,F=new Un;O.ba=F,F.S=D,F.width=[F.width],F.height=[F.height];var $=F.width,W=F.height,ce=new ar;if(ce==null||f==null)var xe=2;else t(ce!=null),xe=Ru(f,g,_,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(xe!=0?$=0:($!=null&&($[0]=ce.width[0]),W!=null&&(W[0]=ce.height[0]),$=1),$){F.width=F.width[0],F.height=F.height[0],C!=null&&(C[0]=F.width),E!=null&&(E[0]=F.height);e:{if(C=new Su,(E=new Hh).data=f,E.w=g,E.ha=_,E.kd=1,g=[0],t(E!=null),((f=Ru(E.data,E.w,E.ha,null,null,null,g,null,E))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(t(O!=null),C.data=E.data,C.w=E.w+E.offset,C.ha=E.ha-E.offset,C.put=ya,C.ac=Ar,C.bc=wa,C.ma=O,E.xa){if((f=di())==null){O=1;break e}if(function(ye,pe){var Le=[0],_e=[0],ue=[0];t:for(;;){if(ye==null)return 0;if(pe==null)return ye.a=2,0;if(ye.l=pe,ye.a=0,I(ye.m,pe.data,pe.w,pe.ha),!vt(ye.m,Le,_e,ue)){ye.a=3;break t}if(ye.xb=Fj,pe.width=Le[0],pe.height=_e[0],!Na(Le[0],_e[0],1,ye,null))break t;return 1}return t(ye.a!=0),0}(f,C)){if(C=(g=Du(C.width,C.height,O.Oa,O.ba))==0){t:{C=f;n:for(;;){if(C==null){C=0;break t}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((_=C.l)!=null),t((E=_.ma)!=null),C.xb!=0){if(C.ca=E.ba,C.tb=E.tb,t(C.ca!=null),!Zh(E.Oa,_,ig)){C.a=2;break n}if(!gc(C,_.width)||_.da)break n;if((_.da||Ze(C.ca.S))&&ge(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&ge()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!at(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Fi(C,C.V,C.Ba,C.c,C.i,_.o,yu))break n;E.Dc=C.Ma,C=1;break t}t(C.a!=0),C=0}C=!C}C&&(g=f.a)}else g=f.a}else{if((f=new i1)==null){O=1;break e}if(f.Fa=E.na,f.P=E.P,f.qc=E.Sa,Dp(f,C)){if((g=Du(C.width,C.height,O.Oa,O.ba))==0){if(f.Aa=0,_=O.Oa,t((E=f)!=null),_!=null){if(0<($=0>($=_.Md)?0:100<$?255:255*$/100)){for(W=ce=0;4>W;++W)12>(xe=E.pb[W]).lc&&(xe.ia=$*rM[0>xe.lc?0:xe.lc]>>3),ce|=xe.ia;ce&&(alert("todo:VP8InitRandom"),E.ia=1)}E.Ga=_.Id,100<E.Ga?E.Ga=100:0>E.Ga&&(E.Ga=0)}a1(f,C)||(g=f.a)}}else g=f.a}g==0&&O.Oa!=null&&O.Oa.fd&&(g=Qh(O.ba))}O=g}D=O!=0?null:11>D?F.f.RGBA.eb:F.f.kb.y}else D=null;return D};var Hj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,K){for(var ee="",M=0;M<4;M++)ee+=String.fromCharCode(R[K++]);return ee}function d(R,K){return(R[K+0]<<0|R[K+1]<<8|R[K+2]<<16)>>>0}function h(R,K){return(R[K+0]<<0|R[K+1]<<8|R[K+2]<<16|R[K+3]<<24)>>>0}new c;var m=[0],p=[0],w=[],v=new c,N=e,y=function(R,K){var ee={},M=0,T=!1,V=0,U=0;if(ee.frames=[],!function(q,H,ne,re){for(var se=0;se<re;se++)if(q[H+se]!=ne.charCodeAt(se))return!0;return!1}(R,K,"RIFF",4)){for(h(R,K+=4),K+=8;K<R.length;){var oe=u(R,K),te=h(R,K+=4);K+=4;var Q=te+(1&te);switch(oe){case"VP8 ":case"VP8L":ee.frames[M]===void 0&&(ee.frames[M]={}),(ie=ee.frames[M]).src_off=T?U:K-8,ie.src_size=V+te+8,M++,T&&(T=!1,V=0,U=0);break;case"VP8X":(ie=ee.header={}).feature_flags=R[K];var I=K+4;ie.canvas_width=1+d(R,I),I+=3,ie.canvas_height=1+d(R,I),I+=3;break;case"ALPH":T=!0,V=Q+8,U=K-8;break;case"ANIM":(ie=ee.header).bgcolor=h(R,K),I=K+4,ie.loop_count=(ve=R)[(A=I)+0]<<0|ve[A+1]<<8,I+=2;break;case"ANMF":var G,ie;(ie=ee.frames[M]={}).offset_x=2*d(R,K),K+=3,ie.offset_y=2*d(R,K),K+=3,ie.width=1+d(R,K),K+=3,ie.height=1+d(R,K),K+=3,ie.duration=d(R,K),K+=3,G=R[K++],ie.dispose=1&G,ie.blend=G>>1&1}oe!="ANMF"&&(K+=Q)}var ve,A;return ee}}(N,0);y.response=N,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,S=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,m=[x.canvas_height],p=[x.canvas_width];for(var k=0;k<S.length&&S[k].blend!=0;k++);}var P=S[0],z=v.WebPDecodeRGBA(N,P.src_off,P.src_size,p,m);P.rgba=z,P.imgwidth=p[0],P.imgheight=m[0];for(var B=0;B<p[0]*m[0]*4;B++)w[B]=z[B];return this.width=p,this.height=m,this.data=w,this}(function(e){var t=function(){return typeof Qw=="function"},n=function(m,p,w,v){var N=4,y=o;switch(v){case e.image_compression.FAST:N=1,y=a;break;case e.image_compression.MEDIUM:N=6,y=l;break;case e.image_compression.SLOW:N=9,y=c}m=r(m,p,w,y);var x=Qw(m,{level:N});return e.__addimage__.arrayBufferToBinaryString(x)},r=function(m,p,w,v){for(var N,y,x,S=m.length/p,k=new Uint8Array(m.length+S),P=d(),z=0;z<S;z+=1){if(x=z*p,N=m.subarray(x,x+p),v)k.set(v(N,w,y),x+z);else{for(var B,R=P.length,K=[];B<R;B+=1)K[B]=P[B](N,w,y);var ee=h(K.concat());k.set(K[ee],x+z)}y=N}return k},s=function(m){var p=Array.apply([],m);return p.unshift(0),p},a=function(m,p){var w,v=[],N=m.length;v[0]=1;for(var y=0;y<N;y+=1)w=m[y-p]||0,v[y+1]=m[y]-w+256&255;return v},o=function(m,p,w){var v,N=[],y=m.length;N[0]=2;for(var x=0;x<y;x+=1)v=w&&w[x]||0,N[x+1]=m[x]-v+256&255;return N},l=function(m,p,w){var v,N,y=[],x=m.length;y[0]=3;for(var S=0;S<x;S+=1)v=m[S-p]||0,N=w&&w[S]||0,y[S+1]=m[S]+256-(v+N>>>1)&255;return y},c=function(m,p,w){var v,N,y,x,S=[],k=m.length;S[0]=4;for(var P=0;P<k;P+=1)v=m[P-p]||0,N=w&&w[P]||0,y=w&&w[P-p]||0,x=u(v,N,y),S[P+1]=m[P]-x+256&255;return S},u=function(m,p,w){if(m===p&&p===w)return m;var v=Math.abs(p-w),N=Math.abs(m-w),y=Math.abs(m+p-w-w);return v<=N&&v<=y?m:N<=y?p:w},d=function(){return[s,a,o,l,c]},h=function(m){var p=m.map(function(w){return w.reduce(function(v,N){return v+Math.abs(N)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(m,p,w,v){var N,y,x,S,k,P,z,B,R,K,ee,M,T,V,U,oe=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(x=new aZ(m)).imgData,y=x.bits,N=x.colorSpace,k=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){R=(B=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,ee=new Uint8Array(R*x.colors),K=new Uint8Array(R);var Q,I=x.pixelBitlength-x.bits;for(V=0,U=0;V<R;V++){for(T=B[V],Q=0;Q<I;)ee[U++]=T>>>Q&255,Q+=x.bits;K[V]=T>>>Q&255}}if(x.bits===16){R=(B=new Uint32Array(x.decodePixels().buffer)).length,ee=new Uint8Array(R*(32/x.pixelBitlength)*x.colors),K=new Uint8Array(R*(32/x.pixelBitlength)),M=x.colors>1,V=0,U=0;for(var G=0;V<R;)T=B[V++],ee[U++]=T>>>0&255,M&&(ee[U++]=T>>>16&255,T=B[V++],ee[U++]=T>>>0&255),K[G++]=T>>>16&255;y=8}v!==e.image_compression.NONE&&t()?(m=n(ee,x.width*x.colors,x.colors,v),z=n(K,x.width,1,v)):(m=ee,z=K,oe=void 0)}if(x.colorType===3&&(N=this.color_spaces.INDEXED,P=x.palette,x.transparency.indexed)){var ie=x.transparency.indexed,ve=0;for(V=0,R=ie.length;V<R;++V)ve+=ie[V];if((ve/=255)===R-1&&ie.indexOf(0)!==-1)S=[ie.indexOf(0)];else if(ve!==R){for(B=x.decodePixels(),K=new Uint8Array(B.length),V=0,R=B.length;V<R;V++)K[V]=ie[B[V]];z=n(K,x.width,1)}}var A=function(q){var H;switch(q){case e.image_compression.FAST:H=11;break;case e.image_compression.MEDIUM:H=13;break;case e.image_compression.SLOW:H=14;break;default:H=12}return H}(v);return oe===this.decode.FLATE_DECODE&&(te="/Predictor "+A+" "),te+="/Colors "+k+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:w,data:m,index:p,filter:oe,decodeParameters:te,transparency:S,palette:P,sMask:z,predictor:A,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:N}}}})(yt.API),function(e){e.processGIF89A=function(t,n,r,s){var a=new oZ(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new r2(100).encode(u,100);return e.processJPEG.call(this,d,n,r,s)},e.processGIF87A=e.processGIF89A}(yt.API),Hi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Nn.log("bit decode error:"+n)}},Hi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Hi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Hi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Hi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Hi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,d=s*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Hi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Hi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=o}},Hi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var a=new Hi(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new r2(100).encode(c,100);return e.processJPEG.call(this,u,n,r,s)}}(yt.API),v3.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var a=new v3(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new r2(100).encode(c,100);return e.processJPEG.call(this,u,n,r,s)}}(yt.API),yt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,a=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=r[u],h=r[u+1],m=r[u+2],p=r[u+3];a[l++]=d,a[l++]=h,a[l++]=m,o[c++]=p}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sd=yt.API,nv=sd.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,m=0,p=e.length,w=0,v=l[0]||c,N=[];for(n=0;n<p;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?N.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(m=h&&gn(u[r])==="object"&&!isNaN(parseInt(u[r][w],10))?u[r][w]/d:0,N.push((l[r]||v)/c+m)),w=r;return N},f3=sd.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return sd.processArabic&&(e=sd.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:nv.apply(this,arguments).reduce(function(a,o){return a+o},0)},m3=function(e,t,n,r){for(var s=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<n;)l+=t[a],a++;s.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>r&&(s.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&s.push(e.slice(c,a)),s},p3=function(e,t,n){n||(n={});var r,s,a,o,l,c,u,d=[],h=[d],m=n.textIndent||0,p=0,w=0,v=e.split(" "),N=nv.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var y=Array(c).join(" "),x=[];v.map(function(k){(k=k.split(/\s*\n/)).length>1?x=x.concat(k.map(function(P,z){return(z&&P.length?`
`:"")+P})):x.push(k[0])}),v=x,c=f3.apply(this,[y,n])}for(a=0,o=v.length;a<o;a++){var S=0;if(r=v[a],c&&r[0]==`
`&&(r=r.substr(1),S=1),m+p+(w=(s=nv.apply(this,[r,n])).reduce(function(k,P){return k+P},0))>t||S){if(w>t){for(l=m3.apply(this,[r,s,t-(m+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);w=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(k,P){return k+P},0)}else d=[r];h.push(d),m=w+c,p=N}else d.push(r),m+=p+w,p=N}return u=c?function(k,P){return(P?y:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(u)},sd.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(p3.apply(this,[r[l],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=e.__fontmetrics__.compress=function(h){var m,p,w,v,N=["{"];for(var y in h){if(m=h[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=a(y).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(w=a(m).slice(3),v="-"):(w=a(m).slice(2),v=""),w=v+w.slice(0,-1)+r[w.slice(-1)];else{if(gn(m)!=="object")throw new Error("Don't know what to do with value type "+gn(m)+".");w=o(m)}N.push(p+w)}return N.push("}"),N.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,w,v,N={},y=1,x=N,S=[],k="",P="",z=h.length-1,B=1;B<z;B+=1)(v=h[B])=="'"?m?(w=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(S.push([x,w]),x={},w=void 0):v=="}"?((p=S.pop())[0][p[1]]=x,w=void 0,x=p[0]):v=="-"?y=-1:w===void 0?n.hasOwnProperty(v)?(k+=n[v],w=parseInt(k,16)*y,y=1,k=""):k+=v:n.hasOwnProperty(v)?(P+=n[v],x[w]=parseInt(P,16)*y,y=1,w=void 0,P=""):P+=v;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var m=h.font,p=d.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var w=u.Unicode[m.postScriptName];w&&(m.metadata.Unicode.encoding=w,m.encoding=w.codePages[0])}])}(yt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=n.charCodeAt(a);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(tm(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(yt),function(e){function t(){return(wt.canvg?Promise.resolve(wt.canvg):Oo(()=>import("./index.es-CsuoPSyQ.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}yt.API.addSvgAsImage=function(n,r,s,a,o,l,c,u){if(isNaN(r)||isNaN(s))throw Nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=o;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(w){return w.fromString(h,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),r,s,a,o,c,u)})}}(),yt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},yt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function m(w,v){var N,y=!1;for(N=0;N<w.length;N+=1)w[N]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(h=0;h<p;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if(gn(e)==="object"){for(s in e)if(a=e[s],m(l,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&m(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(r=!1);r===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,v=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?v.push("/"+w+" /"+n[w].value):v.push("/"+w+" "+n[w].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(yt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,m=a.length;h<m;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},r=function(a){var o,l,c,u,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(a).sort(function(p,w){return p-w})).length;h<m;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",w=0;w<m.length;w++)p+=String.fromCharCode(m[w]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var N=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+hd(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+hd(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+hd(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var w=u();d({data:m,addLength1:!0,objectId:w}),c("endobj");var v=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var N=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+hd(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+hd(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var s=function(a){var o,l=a.text||"",c=a.x,u=a.y,d=a.options||{},h=a.mutex||{},m=h.pdfEscape,p=h.activeFontKey,w=h.fonts,v=p,N="",y=0,x="",S=w[v].encoding;if(w[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(x=l,v=p,Array.isArray(l)&&(x=l[0]),y=0;y<x.length;y+=1)w[v].metadata.hasOwnProperty("cmap")&&(o=w[v].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&w[v].metadata.hasOwnProperty("Unicode")?N+=x[y]:N+="";var k="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?k=m(N,v).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(k=n(N,w[v])),h.isHex=!0,{text:k,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=s(Object.assign({},c,{text:o})).text}])}(yt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(yt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,a,o,l,c,u,d,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var k=function(M){var T=M.charCodeAt(),V=T>>8,U=v[V];return U!==void 0?h[256*U+(255&T)]:V===252||V===253?"AL":y.test(V)?"L":V===8?"R":"N"},P=function(M){for(var T,V=0;V<M.length;V++){if((T=k(M.charAt(V)))==="L")return!1;if(T==="R")return!0}return!1},z=function(M,T,V,U){var oe,te,Q,I,G=T[U];switch(G){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(G="AN");break;case"AL":x=!0,G="R";break;case"WS":G="N";break;case"CS":U<1||U+1>=T.length||(oe=V[U-1])!=="EN"&&oe!=="AN"||(te=T[U+1])!=="EN"&&te!=="AN"?G="N":x&&(te="AN"),G=te===oe?te:"N";break;case"ES":G=(oe=U>0?V[U-1]:"B")==="EN"&&U+1<T.length&&T[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&V[U-1]==="EN"){G="EN";break}if(x){G="N";break}for(Q=U+1,I=T.length;Q<I&&T[Q]==="ET";)Q++;G=Q<I&&T[Q]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(I=T.length,Q=U+1;Q<I&&T[Q]==="NSM";)Q++;if(Q<I){var ie=M[U],ve=ie>=1425&&ie<=2303||ie===64286;if(oe=T[Q],ve&&(oe==="R"||oe==="AL")){G="R";break}}}G=U<1||(oe=T[U-1])==="B"?"N":V[U-1];break;case"B":x=!1,s=!0,G=S;break;case"S":a=!0,G="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":G="N"}return G},B=function(M,T,V){var U=M.split("");return V&&R(U,V,{hiLevel:S}),U.reverse(),T&&T.reverse(),U.join("")},R=function(M,T,V){var U,oe,te,Q,I,G=-1,ie=M.length,ve=0,A=[],q=S?p:m,H=[];for(x=!1,s=!1,a=!1,oe=0;oe<ie;oe++)H[oe]=k(M[oe]);for(te=0;te<ie;te++){if(I=ve,A[te]=z(M,H,A,te),U=240&(ve=q[I][w[A[te]]]),ve&=15,T[te]=Q=q[ve][5],U>0)if(U===16){for(oe=G;oe<te;oe++)T[oe]=1;G=-1}else G=-1;if(q[ve][6])G===-1&&(G=te);else if(G>-1){for(oe=G;oe<te;oe++)T[oe]=Q;G=-1}H[te]==="B"&&(T[te]=0),V.hiLevel|=Q}a&&function(ne,re,se){for(var de=0;de<se;de++)if(ne[de]==="S"){re[de]=S;for(var me=de-1;me>=0&&ne[me]==="WS";me--)re[me]=S}}(H,T,ie)},K=function(M,T,V,U,oe){if(!(oe.hiLevel<M)){if(M===1&&S===1&&!s)return T.reverse(),void(V&&V.reverse());for(var te,Q,I,G,ie=T.length,ve=0;ve<ie;){if(U[ve]>=M){for(I=ve+1;I<ie&&U[I]>=M;)I++;for(G=ve,Q=I-1;G<Q;G++,Q--)te=T[G],T[G]=T[Q],T[Q]=te,V&&(te=V[G],V[G]=V[Q],V[Q]=te);ve=I}ve++}}},ee=function(M,T,V){var U=M.split(""),oe={hiLevel:S};return V||(V=[]),R(U,V,oe),function(te,Q,I){if(I.hiLevel!==0&&d)for(var G,ie=0;ie<te.length;ie++)Q[ie]===1&&(G=N.indexOf(te[ie]))>=0&&(te[ie]=N[G+1])}(U,V,oe),K(2,U,T,V,oe),K(1,U,T,V,oe),U.join("")};return this.__bidiEngine__.doBidiReorder=function(M,T,V){if(function(oe,te){if(te)for(var Q=0;Q<oe.length;Q++)te[Q]=Q;l===void 0&&(l=P(oe)),u===void 0&&(u=P(oe))}(M,T),o||!c||u)if(o&&c&&l^u)S=l?1:0,M=B(M,T,V);else if(!o&&c&&u)S=l?1:0,M=ee(M,T,V),M=B(M,T);else if(!o||l||c||u){if(o&&!c&&l^u)M=B(M,T),l?(S=0,M=ee(M,T,V)):(S=1,M=ee(M,T,V),M=B(M,T));else if(o&&l&&!c&&u)S=1,M=ee(M,T,V),M=B(M,T);else if(!o&&!c&&l^u){var U=d;l?(S=1,M=ee(M,T,V),S=0,d=!1,M=ee(M,T,V),d=U):(S=0,M=ee(M,T,V),M=B(M,T),S=1,d=!1,M=ee(M,T,V),d=U,M=B(M,T))}}else S=0,M=ee(M,T,V);else S=l?1:0,M=ee(M,T,V);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,c=M.isOutputVisual,l=M.isInputRtl,u=M.isOutputRtl,d=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([n.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([n.doBidiReorder(s[l])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(yt),yt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new nc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new jZ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new lZ(this.contents),this.head=new uZ(this),this.name=new pZ(this),this.cmap=new JL(this),this.toUnicode={},this.hhea=new dZ(this),this.maxp=new gZ(this),this.hmtx=new vZ(this),this.post=new fZ(this),this.os2=new hZ(this),this.loca=new bZ(this),this.glyf=new xZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)s=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var xa,nc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,a,o,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,a;for(a=[],r=0,s=t.length;r<s;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),lZ=function(){var e;function t(n){var r,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,a,o,l,c,u,d,h,m,p,w,v;for(v in p=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),d=16*p-h,(s=new nc).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(o),s.writeShort(d),a=16*p,u=s.pos+a,l=null,w=[],n)for(m=n[v],s.writeString(v),s.writeInt(e(m)),s.writeInt(u),s.writeInt(m.length),w=w.concat(m),v==="head"&&(l=u),u+=m.length;u%4;)w.push(0),u++;return s.write(w),r=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(r),s.data},e=function(n){var r,s,a,o;for(n=XL.call(n);n.length%4;)n.push(0);for(a=new nc(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=a.readUInt32();return 4294967295&s},t}(),cZ={}.hasOwnProperty,ro=function(e,t){for(var n in t)cZ.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};xa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var uZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new nc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),x3=function(){function e(t,n){var r,s,a,o,l,c,u,d,h,m,p,w,v,N,y,x,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),m=p/2,t.pos+=6,a=function(){var k,P;for(P=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)P.push(t.readUInt16());return P}(),t.pos+=2,v=function(){var k,P;for(P=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)P.push(t.readUInt16());return P}(),u=function(){var k,P;for(P=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)P.push(t.readUInt16());return P}(),d=function(){var k,P;for(P=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)P.push(t.readUInt16());return P}(),s=(this.length-t.pos+this.offset)/2,l=function(){var k,P;for(P=[],c=k=0;0<=s?k<s:k>s;c=0<=s?++k:--k)P.push(t.readUInt16());return P}(),c=y=0,S=a.length;y<S;c=++y)for(N=a[c],r=x=w=v[c];w<=N?x<=N:x>=N;r=w<=N?++x:--x)d[c]===0?o=r+u[c]:(o=l[d[c]/2+(r-w)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[r]=65535&o}t.pos=h}return e.encode=function(t,n){var r,s,a,o,l,c,u,d,h,m,p,w,v,N,y,x,S,k,P,z,B,R,K,ee,M,T,V,U,oe,te,Q,I,G,ie,ve,A,q,H,ne,re,se,de,me,Ce,ke,Me;switch(U=new nc,o=Object.keys(t).sort(function(Fe,at){return Fe-at}),n){case"macroman":for(v=0,N=function(){var Fe=[];for(w=0;w<256;++w)Fe.push(0);return Fe}(),x={0:0},a={},oe=0,G=o.length;oe<G;oe++)x[me=t[s=o[oe]]]==null&&(x[me]=++v),a[s]={old:t[s],new:x[t[s]]},N[s]=x[t[s]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(N),{charMap:a,subtable:U.data,maxGlyphID:v+1};case"unicode":for(T=[],h=[],S=0,x={},r={},y=u=null,te=0,ie=o.length;te<ie;te++)x[P=t[s=o[te]]]==null&&(x[P]=++S),r[s]={old:P,new:x[P]},l=x[P]-s,y!=null&&l===u||(y&&h.push(y),T.push(s),u=l),y=s;for(y&&h.push(y),h.push(65535),T.push(65535),ee=2*(K=T.length),R=2*Math.pow(Math.log(K)/Math.LN2,2),m=Math.log(R/2)/Math.LN2,B=2*K-R,c=[],z=[],p=[],w=Q=0,ve=T.length;Q<ve;w=++Q){if(M=T[w],d=h[w],M===65535){c.push(0),z.push(0);break}if(M-(V=r[M].new)>=32768)for(c.push(0),z.push(2*(p.length+K-w)),s=I=M;M<=d?I<=d:I>=d;s=M<=d?++I:--I)p.push(r[s].new);else c.push(V-M),z.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*K+2*p.length),U.writeUInt16(0),U.writeUInt16(ee),U.writeUInt16(R),U.writeUInt16(m),U.writeUInt16(B),se=0,A=h.length;se<A;se++)s=h[se],U.writeUInt16(s);for(U.writeUInt16(0),de=0,q=T.length;de<q;de++)s=T[de],U.writeUInt16(s);for(Ce=0,H=c.length;Ce<H;Ce++)l=c[Ce],U.writeUInt16(l);for(ke=0,ne=z.length;ke<ne;ke++)k=z[ke],U.writeUInt16(k);for(Me=0,re=p.length;Me<re;Me++)v=p[Me],U.writeUInt16(v);return{charMap:r,subtable:U.data,maxGlyphID:S+1}}},e}(),JL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new x3(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,a;return r==null&&(r="macroman"),s=x3.encode(n,r),(a=new nc).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t}(),dZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),hZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),fZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(s=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(n.readUInt32());return u}).call(this)}},t}(),mZ=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},pZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,a,o,l,c,u,d,h,m,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(u={},o=h=0,m=s.length;h<m;o=++h)a=s[o],n.pos=a.offset,d=n.readString(a.length),l=new mZ(d,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),gZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),vZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,a,o,l,c,u;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)h.push(n.readInt16());return h}(),this.widths=(function(){var d,h,m,p;for(p=[],d=0,h=(m=this.metrics).length;d<h;d++)o=m[d],p.push(o.advance);return p}).call(this),s=this.widths[this.widths.length-1],u=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),XL=[].slice,xZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,a,o,l,c,u,d,h,m;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,l=(c=new nc(r.read(a))).readShort(),d=c.readShort(),m=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[n]=l===-1?new wZ(c,d,m,u,h):new yZ(c,l,d,m,u,h),this.cache[n]))},t.prototype.encode=function(n,r,s){var a,o,l,c,u;for(l=[],o=[],c=0,u=r.length;c<u;c++)a=n[r[c]],o.push(l.length),a&&(l=l.concat(a.encode(s)));return o.push(l.length),{table:l,offsets:o}},t}(),yZ=function(){function e(t,n,r,s,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),wZ=function(){function e(t,n,r,s,a){var o,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new nc(XL.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),bZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,xa),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<s.length;++l)if(s[l]=a,o<r.length&&r[o]==l){++o,s[l]=a;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(a+=u)}for(var d=new Array(4*s.length),h=0;h<s.length;++h)d[4*h+3]=255&s[h],d[4*h+2]=(65280&s[h])>>8,d[4*h+1]=(16711680&s[h])>>16,d[4*h]=(4278190080&s[h])>>24;return d},t}(),jZ=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,a;for(n in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,a,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(r=s[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],s[a]=r;return s},e.prototype.encode=function(t,n){var r,s,a,o,l,c,u,d,h,m,p,w,v,N,y;for(s in r=JL.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},y=r.charMap)p[(c=y[s]).old]=c.new;for(w in m=r.maxGlyphID,o)w in p||(p[w]=m++);return d=function(x){var S,k;for(S in k={},x)k[x[S]]=S;return k}(p),h=Object.keys(d).sort(function(x,S){return x-S}),v=function(){var x,S,k;for(k=[],x=0,S=h.length;x<S;x++)l=h[x],k.push(d[l]);return k}(),a=this.font.glyf.encode(o,v,p),u=this.font.loca.encode(a.offsets,v),N={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();yt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,a,o;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)r=n[l],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)o=n[s],a.push("/"+s+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();const wh=e=>{const t=e==="contract"?"BAIL":e==="receipt"?"QUIT":e==="notice"?"AVIS":"AVEN",n=new Date().getFullYear(),r=Math.floor(1e3+Math.random()*9e3);return`${t}-${n}-${r}`},sa=e=>e===void 0?"0,00 €":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),Ul=e=>{if(!e)return"";try{const t=new Date(e);return _n(t,"dd MMMM yyyy",{locale:ss})}catch(t){return console.error("Date formatting error:",t),e}},Zx=()=>{const e=new yt({orientation:"portrait",unit:"mm",format:"a4"});return e.setFont("helvetica"),e.setFontSize(12),e},ZL=e=>{const t=e.getNumberOfPages();for(let n=1;n<=t;n++)e.setPage(n),e.setFontSize(8),e.text(`Page ${n} / ${t}`,105,290,{align:"center"})},NZ=async e=>{var n,r,s,a,o,l;const t=Zx();return t.setProperties({title:`Contrat de location ALUR - ${e.tenant.name}`,subject:"Contrat de location conforme à la loi ALUR",author:e.manager.name,creator:"Gestionnaire Immobilier App"}),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("CONTRAT DE LOCATION",105,20,{align:"center"}),t.setFontSize(14),t.text("CONFORME À LA LOI ALUR",105,28,{align:"center"}),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Référence: ${e.documentReference||wh("contract")}`,105,36,{align:"center"}),t.text(`Date: ${e.creationDate||Ul(new Date().toISOString())}`,105,41,{align:"center"}),t.setLineWidth(.5),t.line(20,45,190,45),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("ENTRE LES SOUSSIGNÉS",20,55),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("LE BAILLEUR :",20,65),t.text(`${e.manager.name}, agissant en qualité de mandataire`,30,70),t.text(`Adresse : ${e.manager.agencyAddress||"Non précisée"}`,30,75),t.text(`Email : ${e.manager.email}`,30,80),t.text("LE LOCATAIRE :",20,90),t.text(`${e.tenant.name}`,30,95),t.text(`Email : ${e.tenant.email}`,30,100),t.text(`Téléphone : ${e.tenant.phone||"Non précisé"}`,30,105),t.text(`Adresse actuelle : ${e.tenant.address||"Non précisée"}`,30,110),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("OBJET DU CONTRAT",20,125),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Le présent contrat a pour objet la location d'un logement ainsi déterminé :",20,135),t.text(`Adresse : ${e.property.address}, ${e.property.postalCode} ${e.property.city}`,30,145),t.text(`Type : ${e.property.type||"Appartement"}`,30,150),t.text(`Surface : ${e.property.size?e.property.size+" m²":"Non précisée"}`,30,155),t.text(`Meublé : ${(n=e.lease)!=null&&n.isFurnished?"Oui":"Non"}`,30,160),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("CONDITIONS FINANCIÈRES",20,175),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Loyer mensuel : ${sa((r=e.lease)==null?void 0:r.rentAmount)}`,30,185),t.text(`Charges mensuelles : ${sa((s=e.lease)==null?void 0:s.charges)}`,30,190),t.text(`Dépôt de garantie : ${sa((a=e.lease)==null?void 0:a.depositAmount)}`,30,195),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("DURÉE DU CONTRAT",20,210),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Date de début : ${Ul((o=e.lease)==null?void 0:o.startDate)}`,30,220),t.text(`Date de fin : ${Ul((l=e.lease)==null?void 0:l.endDate)}`,30,225),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("SIGNATURES",20,245),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Le Bailleur :",30,255),t.text("Le Locataire :",120,255),t.text("Fait à _________________ le _________________",105,270,{align:"center"}),ZL(t),t.output("blob")};function QL(e,t,n,r,s){r=r||{};var a=1.15,o=s.internal.scaleFactor,l=s.internal.getFontSize()/o,c=s.getLineHeightFactor?s.getLineHeightFactor():a,u=l*c,d=/\r\n|\r|\n/g,h="",m=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof e=="string"?e.split(d):e,m=h.length||1),n+=l*(2-a),r.valign==="middle"?n-=m/2*u:r.valign==="bottom"&&(n-=m*u),r.halign==="center"||r.halign==="right"){var p=l;if(r.halign==="center"&&(p*=.5),h&&m>=1){for(var w=0;w<h.length;w++)s.text(h[w],t-s.getStringUnitWidth(h[w])*p,n),n+=u;return s}t-=s.getStringUnitWidth(e)*p}return r.halign==="justify"?s.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(e,t,n),s}var y3={},Vd=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:y3=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,s,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var d=e.unifyColor(t.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=e.unifyColor(t.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=e.unifyColor(t.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,s,a){return this.jsPDFDocument.rect(t,n,r,s,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return y3||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),ab=function(e,t){return ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ab(e,t)};function eT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ab(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var tT=function(e){eT(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function _Z(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function SZ(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function E0(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],s=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return s}function nT(e,t,n,r){var s=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:a});var o=rT(s,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function rT(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function Qx(e,t){var n,r,s,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function sT(e,t){var n=Qx(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function CZ(e,t,n,r,s){var a={},o=1.3333333333333333,l=s2(t,function(S){return s.getComputedStyle(S).backgroundColor});l!=null&&(a.fillColor=l);var c=s2(t,function(S){return s.getComputedStyle(S).color});c!=null&&(a.textColor=c);var u=PZ(r,n);u&&(a.cellPadding=u);var d="borderTopColor",h=o*n,m=r.borderTopWidth;if(r.borderBottomWidth===m&&r.borderRightWidth===m&&r.borderLeftWidth===m){var p=(parseFloat(m)||0)/h;p&&(a.lineWidth=p)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var w=s2(t,function(S){return s.getComputedStyle(S)[d]});w!=null&&(a.lineColor=w);var v=["left","right","center","justify"];v.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),v=["middle","bottom","top"],v.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var N=parseInt(r.fontSize||"");isNaN(N)||(a.fontSize=N/o);var y=kZ(r);y&&(a.fontStyle=y);var x=(r.fontFamily||"").toLowerCase();return e.indexOf(x)!==-1&&(a.font=x),a}function kZ(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function s2(e,t){var n=iT(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function iT(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:iT(e.parentElement,t):n}function PZ(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map(function(l){return parseInt(l||"0")/r}),o=Qx(a,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function aT(e,t,n,r,s){var a,o;r===void 0&&(r=!1),s===void 0&&(s=!1);var l;typeof t=="string"?l=n.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],h=[],m=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:h,foot:m};for(var p=0;p<l.rows.length;p++){var w=l.rows[p],v=(o=(a=w==null?void 0:w.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),N=AZ(c,u,n,w,r,s);N&&(v==="thead"?d.push(N):v==="tfoot"?m.push(N):h.push(N))}return{head:d,body:h,foot:m}}function AZ(e,t,n,r,s,a){for(var o=new tT(r),l=0;l<r.cells.length;l++){var c=r.cells[l],u=n.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;a&&(d=CZ(e,c,t,u,n)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:EZ(c)})}}var h=n.getComputedStyle(r);if(o.length>0&&(s||h.display!=="none"))return o}function EZ(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function LZ(e,t,n){for(var r=0,s=[e,t,n];r<s.length;r++){var a=s[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Po(e,t,n,r,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function oT(e,t){var n=new Vd(e),r=n.getDocumentOptions(),s=n.getGlobalOptions();LZ(s,r,t);var a=Po({},s,r,t),o;typeof window<"u"&&(o=window);var l=TZ(s,r,t),c=MZ(s,r,t),u=RZ(n,a),d=IZ(n,a,o);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function TZ(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],h=n[c];r.columnStyles=Po({},u,d,h)}else{var m=[e,t,n],p=m.map(function(w){return w[c]||{}});r[c]=Po({},p[0],p[1],p[2])}},a=0,o=Object.keys(r);a<o.length;a++){var l=o[a];s(l)}return r}function MZ(e,t,n){for(var r=[e,t,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var l=o[a];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function RZ(e,t){var n,r,s,a,o,l,c,u,d,h,m,p,w=Qx(t.margin,40/e.scaleFactor()),v=(n=DZ(e,t.startY))!==null&&n!==void 0?n:w.top,N;t.showFoot===!0?N="everyPage":t.showFoot===!1?N="never":N=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var x=(a=t.useCss)!==null&&a!==void 0?a:!1,S=t.theme||(x?"plain":"striped"),k=!!t.horizontalPageBreak,P=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:x,theme:S,startY:v,margin:w,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:y,showFoot:N,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(m=t.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:k,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function DZ(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),s=e.pageNumber(),a=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;a=o===s}return typeof t=="number"?t:(t==null||t===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function IZ(e,t,n){var r=t.head||[],s=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var l=aT(e,t.html,n,o,t.useCss)||{};r=l.head||r,s=l.body||r,a=l.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||OZ(r,s,a);return{columns:c,head:r,body:s,foot:a}}function OZ(e,t,n){var r=e[0]||t[0]||n[0]||[],s=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,l;Array.isArray(r)?l=r[parseInt(a)]:l=r[a],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(r)?u=s.length:u=a+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var ob=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),FZ=function(e){eT(t,e);function t(n,r,s,a,o,l){var c=e.call(this,n,r,l)||this;return c.cell=s,c.row=a,c.column=o,c.section=a.section,c}return t}(ob),zZ=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,s,a,o){for(var l=0,c=n;l<c.length;l++){var u=c[l],d=new FZ(t,this,r,s,a,o),h=u(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var a=s[r];a(new ob(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var a=s[r];a(new ob(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,a){return s+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),lT=function(){function e(t,n,r,s,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof tT&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=s,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,s){var a;return Math.max(r,((a=n.cells[s.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var s=n.cells[r.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(s,a){var o=r.cells[a.index];if(!o)return 0;var l=n.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>s?u:s},0)},e}(),cT=function(){function e(t,n,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*n,a=r*s+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=Qx(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),BZ=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,s=t.allRows();r<s.length;r++){var a=s[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function $Z(e,t){UZ(e,t);var n=[],r=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var s=t.getWidth(e.pageSize().width)-r;s&&(s=lb(n,s,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),s&&(s=lb(n,s,function(a){return a.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),VZ(t),WZ(t,e),qZ(t)}function UZ(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,s=sT(e,t);t.allRows().forEach(function(a){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,a,c,null);var h=u.padding("horizontal");u.contentWidth=E0(u.text,u.styles,e)+h;var m=E0(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function lb(e,t,n){for(var r=t,s=e.reduce(function(p,w){return p+w.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],l=o.wrappedWidth/s,c=r*l,u=o.width+c,d=n(o),h=u<d?d:u;t-=h-o.width,o.width=h}if(t=Math.round(t*1e10)/1e10,t){var m=e.filter(function(p){return t<0?p.width>n(p):!0});m.length&&(t=lb(m,t,n))}return t}function qZ(e){for(var t={},n=1,r=e.allRows(),s=0;s<r.length;s++)for(var a=r[s],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=t[c.index];if(n>1)n--,delete a.cells[c.index];else if(u)u.cell.height+=a.height,n=u.cell.colSpan,delete a.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=a.cells[c.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var h=r.length-s,m=d.rowSpan>h?h:d.rowSpan;t[c.index]={cell:d,left:m,row:a}}}}}function VZ(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],s=null,a=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])a+=c.width,delete r.cells[c.index];else if(s){var u=s;delete r.cells[c.index],s=null,u.width=c.width+a}else{var u=r.cells[c.index];if(!u)continue;if(o=u.colSpan,a=0,u.colSpan>1){s=u,a+=c.width;continue}u.width=c.width+a}}}function WZ(e,t){for(var n={count:0,height:0},r=0,s=e.allRows();r<s.length;r++){for(var a=s[r],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=w3(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=w3(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,d);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<m*u.rowSpan?n={height:m,count:u.rowSpan}:n&&n.count>0&&n.height>m&&(m=n.height),m>a.height&&(a.height=m)}}n.count--}}function w3(e,t,n,r,s){return e.map(function(a){return HZ(a,t,n,r,s)})}function HZ(e,t,n,r,s){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=E0(e,n,r))return e;for(;t<E0(e+s,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function uT(e,t){var n=new Vd(e),r=GZ(t,n.scaleFactor()),s=new zZ(t,r);return $Z(n,s),n.applyStyles(n.userStyles),s}function GZ(e,t){var n=e.content,r=KZ(n.columns);if(n.head.length===0){var s=b3(r,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=b3(r,"foot");s&&n.foot.push(s)}var a=e.settings.theme,o=e.styles;return{columns:r,head:i2("head",n.head,r,o,a,t),body:i2("body",n.body,r,o,a,t),foot:i2("foot",n.foot,r,o,a,t)}}function i2(e,t,n,r,s,a){var o={},l=t.map(function(c,u){for(var d=0,h={},m=0,p=0,w=0,v=n;w<v.length;w++){var N=v[w];if(o[N.index]==null||o[N.index].left===0)if(p===0){var y=void 0;Array.isArray(c)?y=c[N.index-m-d]:y=c[N.dataKey];var x={};typeof y=="object"&&!Array.isArray(y)&&(x=(y==null?void 0:y.styles)||{});var S=JZ(e,N,u,s,r,a,x),k=new cT(y,S,e);h[N.dataKey]=k,h[N.index]=k,p=k.colSpan-1,o[N.index]={left:k.rowSpan-1,times:p}}else p--,m++;else o[N.index].left--,p=o[N.index].times,d++}return new lT(c,u,e,h)});return l}function b3(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var s=YZ(t,r.raw);s!=null&&(n[r.dataKey]=s)}}),Object.keys(n).length>0?n:null}function YZ(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function KZ(e){return e.map(function(t,n){var r,s;return typeof t=="object"?s=(r=t.dataKey)!==null&&r!==void 0?r:n:s=n,new BZ(s,t,n)})}function JZ(e,t,n,r,s,a,o){var l=SZ(r),c;e==="head"?c=s.headStyles:e==="body"?c=s.bodyStyles:e==="foot"&&(c=s.footStyles);var u=Po({},l.table,l[e],s.styles,c),d=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},h=e==="body"?d:{},m=e==="body"&&n%2===0?Po({},l.alternateRow,s.alternateRowStyles):{},p=_Z(a),w=Po({},p,u,m,h);return Po(w,o)}function XZ(e,t,n){var r;n===void 0&&(n={});var s=sT(e,t),a=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var p=t.columns.find(function(w){return w.dataKey===m||w.index===m});p&&!a.has(p.index)&&(a.set(p.index,!0),o.push(p.index),l.push(t.columns[p.index]),s-=p.wrappedWidth)});for(var u=!0,d=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;d<t.columns.length;){if(a.has(d)){d++;continue}var h=t.columns[d].wrappedWidth;if(u||s>=h)u=!1,o.push(d),l.push(t.columns[d]),s-=h;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function ZZ(e,t){for(var n=[],r=0;r<t.columns.length;r++){var s=XZ(e,t,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}function dT(e,t){var n=t.settings,r=n.startY,s=n.margin,a={x:s.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=r+s.bottom+o;if(n.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(m,p){return m+p.height},0);l+=u}var d=new Vd(e);(n.pageBreak==="always"||n.startY!=null&&l>d.pageSize().height)&&(fT(d),a.y=s.top),t.callWillDrawPageHooks(d,a);var h=Po({},a);t.startPageNumber=d.pageNumber(),n.horizontalPageBreak?QZ(d,t,h,a):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(m){return Bo(d,t,m,a,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(m,p){var w=p===t.body.length-1;L0(d,t,m,w,h,a,t.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(m){return Bo(d,t,m,a,t.columns)})),nT(d,t,h,a),t.callEndPageHooks(d,a),t.finalY=a.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function QZ(e,t,n,r){var s=ZZ(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?nm(e,t,n,r,u.columns,!0):j3(e,t,r,u.columns),eQ(e,t,n,r,u.columns),a2(e,t,r,u.columns)});else for(var o=-1,l=s[0],c=function(){var u=o;if(l){e.applyStyles(e.userStyles);var d=l.columns;o>=0?nm(e,t,n,r,d,!0):j3(e,t,r,d),u=N3(e,t,o+1,r,d),a2(e,t,r,d)}var h=u-o;s.slice(1).forEach(function(m){e.applyStyles(e.userStyles),nm(e,t,n,r,m.columns,!0),N3(e,t,o+1,r,m.columns,h),a2(e,t,r,m.columns)}),o=u};o<t.body.length-1;)c()}function j3(e,t,n,r){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(a){return Bo(e,t,a,n,r)})}function eQ(e,t,n,r,s){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){var l=o===t.body.length-1;L0(e,t,a,l,n,r,s)})}function N3(e,t,n,r,s,a){e.applyStyles(e.userStyles),a=a??t.body.length;var o=Math.min(n+a,t.body.length),l=-1;return t.body.slice(n,o).forEach(function(c,u){var d=n+u===t.body.length-1,h=hT(e,t,d,r);c.canEntireRowFit(h,s)&&(Bo(e,t,c,r,s),l=n+u)}),l}function a2(e,t,n,r){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(a){return Bo(e,t,a,n,r)})}function tQ(e,t,n){var r=n.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),a=Math.floor((t-s)/r);return Math.max(0,a)}function nQ(e,t,n,r){var s={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,l=n.columns;o<l.length;o++){var c=l[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new cT(u.raw,u.styles,u.section);d=Po(d,u),d.text=[];var h=tQ(u,t,r);u.text.length>h&&(d.text=u.text.splice(h,u.text.length));var m=r.scaleFactor(),p=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,p),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,p),d.contentHeight>a&&(a=d.contentHeight),s[c.index]=d}}var w=new lT(e.raw,-1,e.section,s,!0);w.height=a;for(var v=0,N=n.columns;v<N.length;v++){var c=N[v],d=w.cells[c.index];d&&(d.height=w.height);var u=e.cells[c.index];u&&(u.height=e.height)}return w}function rQ(e,t,n,r){var s=e.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,l=s-o;t.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=t.getMinimumRowHeight(r.columns,e),u=c<n;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(r.columns),h=t.getMaxCellHeight(r.columns)>l;return h?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function L0(e,t,n,r,s,a,o){var l=hT(e,t,r,a);if(n.canEntireRowFit(l,o))Bo(e,t,n,a,o);else if(rQ(e,n,l,t)){var c=nQ(n,l,t,e);Bo(e,t,n,a,o),nm(e,t,s,a,o),L0(e,t,c,r,s,a,o)}else nm(e,t,s,a,o),L0(e,t,n,r,s,a,o)}function Bo(e,t,n,r,s){r.x=t.settings.margin.left;for(var a=0,o=s;a<o.length;a++){var l=o[a],c=n.cells[l.index];if(!c){r.x+=l.width;continue}e.applyStyles(c.styles),c.x=r.x,c.y=r.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,n,l,r);if(u===!1){r.x+=l.width;continue}sQ(e,c,r);var d=c.getTextPos();QL(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,n,l,r),r.x+=l.width}r.y+=n.height}function sQ(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=rT(r.lineWidth,r.fillColor);s&&e.rect(t.x,n.y,t.width,t.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),iQ(e,t,n,r.lineWidth))}function iQ(e,t,n,r){var s,a,o,l;r.top&&(s=n.x,a=n.y,o=n.x+t.width,l=n.y,r.right&&(o+=.5*r.right),r.left&&(s-=.5*r.left),c(r.top,s,a,o,l)),r.bottom&&(s=n.x,a=n.y+t.height,o=n.x+t.width,l=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(s-=.5*r.left),c(r.bottom,s,a,o,l)),r.left&&(s=n.x,a=n.y,o=n.x,l=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.left,s,a,o,l)),r.right&&(s=n.x+t.width,a=n.y,o=n.x+t.width,l=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.right,s,a,o,l));function c(u,d,h,m,p){e.getDocument().setLineWidth(u),e.getDocument().line(d,h,m,p,"S")}}function hT(e,t,n,r){var s=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-s}function nm(e,t,n,r,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(l){return Bo(e,t,l,r,s)}),t.callEndPageHooks(e,r);var o=t.settings.margin;nT(e,t,n,r),fT(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Bo(e,t,l,r,s)}),e.applyStyles(e.userStyles))}function fT(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function aQ(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],s=oT(this,r),a=uT(this,s);return dT(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,s){QL(t,n,r,s,this)},e.API.autoTableSetDefaults=function(t){return Vd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Vd.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Vd(this),a=aT(s,t,window,n,!1),o=a.head,l=a.body,c=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var o2;function kj(e,t){var n=oT(e,t),r=uT(e,n);dT(e,r)}try{if(typeof window<"u"&&window){var _3=window,S3=_3.jsPDF||((o2=_3.jspdf)===null||o2===void 0?void 0:o2.jsPDF);S3&&aQ(S3)}}catch(e){console.error("Could not apply autoTable plugin",e)}const oQ=async e=>{var s,a,o,l,c,u,d,h,m;const t=Zx();t.setProperties({title:`Quittance de loyer - ${e.tenant.name}`,subject:"Quittance de loyer mensuelle",author:e.manager.name,creator:"Gestionnaire Immobilier App"}),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("QUITTANCE DE LOYER",105,20,{align:"center"});const n=_n(new Date,"MMMM yyyy",{locale:ss});t.setFontSize(14),t.text(`Période : ${((s=e.additionalData)==null?void 0:s.month)||n}`,105,30,{align:"center"}),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Référence: ${e.documentReference||wh("receipt")}`,105,38,{align:"center"}),t.text(`Date: ${e.creationDate||Ul(new Date().toISOString())}`,105,43,{align:"center"}),t.setLineWidth(.5),t.line(20,48,190,48),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("BAILLEUR",20,58),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`${e.manager.name}`,20,66),t.text(`${e.manager.agencyAddress||"Adresse non précisée"}`,20,71),t.text(`Email : ${e.manager.email}`,20,76),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("LOCATAIRE",120,58),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`${e.tenant.name}`,120,66),t.text(`${e.property.address}`,120,71),t.text(`${e.property.postalCode} ${e.property.city}`,120,76),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("LOGEMENT",20,90),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Adresse : ${e.property.address}, ${e.property.postalCode} ${e.property.city}`,20,98),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("DÉTAIL DES SOMMES VERSÉES",20,112);const r=[["Loyer",sa((a=e.lease)==null?void 0:a.rentAmount)],["Charges",sa((o=e.lease)==null?void 0:o.charges)],["TOTAL",sa((((l=e.lease)==null?void 0:l.rentAmount)||0)+(((c=e.lease)==null?void 0:c.charges)||0))]];return kj(t,{startY:118,head:[["Désignation","Montant"]],body:r,theme:"plain",styles:{fontSize:10},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},margin:{left:20,right:20}}),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Je soussigné(e) ${e.manager.name}, agissant en qualité de mandataire du propriétaire, déclare avoir reçu de ${e.tenant.name} la somme de ${sa((((u=e.lease)==null?void 0:u.rentAmount)||0)+(((d=e.lease)==null?void 0:d.charges)||0))} au titre du loyer et des charges pour la période du ${((h=e.additionalData)==null?void 0:h.periodStart)||"1er de ce mois"} au ${((m=e.additionalData)==null?void 0:m.periodEnd)||"dernier jour de ce mois"} pour le logement désigné ci-dessus.`,20,150,{maxWidth:170}),t.text("Cette quittance annule tous les reçus qui auraient pu être établis pour la même période.",20,170),t.setFontSize(10),t.text("Le bailleur (ou son mandataire)",140,190),t.text(`${e.manager.name}`,140,205),t.text("Fait à _________________ le _________________",105,230,{align:"center"}),t.output("blob")},lQ=async e=>{var a,o,l,c,u,d,h,m,p;const t=Zx();t.setProperties({title:`Avis d'échéance - ${e.tenant.name}`,subject:`Avis d'échéance - ${((a=e.additionalData)==null?void 0:a.month)||_n(new Date,"MMMM yyyy",{locale:ss})}`,author:e.manager.name,creator:"Gestionnaire Immobilier App"}),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("AVIS D'ÉCHÉANCE",105,20,{align:"center"});const n=_n(new Date,"MMMM yyyy",{locale:ss});t.setFontSize(14),t.text(`Période : ${((o=e.additionalData)==null?void 0:o.month)||n}`,105,30,{align:"center"}),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Référence: ${e.documentReference||wh("notice")}`,105,38,{align:"center"}),t.text(`Date: ${e.creationDate||Ul(new Date().toISOString())}`,105,43,{align:"center"}),t.setLineWidth(.5),t.line(20,48,190,48),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("DESTINATAIRE",20,58),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`${e.tenant.name}`,20,66),t.text(`${e.property.address}`,20,71),t.text(`${e.property.postalCode} ${e.property.city}`,20,76),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("ÉMETTEUR",120,58),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`${e.manager.name}`,120,66),t.text(`${e.manager.agencyAddress||"Adresse non précisée"}`,120,71),t.text(`Email : ${e.manager.email}`,120,76),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("DÉTAILS DE L'AVIS D'ÉCHÉANCE",20,90);const r=(l=e.additionalData)!=null&&l.dueDate?Ul(e.additionalData.dueDate):_n(new Date,"d MMMM yyyy",{locale:ss});t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Adresse du logement : ${e.property.address}, ${e.property.postalCode} ${e.property.city}`,20,100),t.text(`Montant dû : ${sa((((c=e.lease)==null?void 0:c.rentAmount)||0)+(((u=e.lease)==null?void 0:u.charges)||0))}`,20,108),t.text(`Date limite de paiement : ${r}`,20,116),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("DÉCOMPOSITION DU MONTANT À PAYER",20,130);const s=[["Loyer",sa((d=e.lease)==null?void 0:d.rentAmount)],["Charges",sa((h=e.lease)==null?void 0:h.charges)],["TOTAL",sa((((m=e.lease)==null?void 0:m.rentAmount)||0)+(((p=e.lease)==null?void 0:p.charges)||0))]];return kj(t,{startY:136,head:[["Désignation","Montant"]],body:s,theme:"plain",styles:{fontSize:10},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},margin:{left:20,right:20}}),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("MODALITÉS DE PAIEMENT",20,170),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Virement bancaire recommandé sur le compte ci-dessous :",20,178),t.text("IBAN : FR76 XXXX XXXX XXXX XXXX XXXX XXX",20,186),t.text("BIC : XXXXXXXXXXX",20,194),t.text("Titulaire : AGENCE IMMOBILIÈRE",20,202),t.text("Référence à indiquer : "+(e.documentReference||wh("notice")),20,214),t.setFontSize(8),t.setFont("helvetica","italic"),t.text("Cet avis d'échéance ne constitue pas une quittance de loyer. Une quittance vous sera délivrée après paiement effectif du montant dû.",20,226,{maxWidth:170}),t.output("blob")},cQ=async e=>{var o,l,c,u,d,h;const t=Zx();t.setProperties({title:`Avenant au bail - ${e.tenant.name}`,subject:"Avenant au contrat de location",author:e.manager.name,creator:"Gestionnaire Immobilier App"}),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("AVENANT AU CONTRAT DE LOCATION",105,20,{align:"center"}),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Référence du bail initial : ${((o=e.additionalData)==null?void 0:o.originalContractRef)||"Non précisée"}`,105,30,{align:"center"}),t.text(`Référence de l'avenant : ${e.documentReference||wh("addendum")}`,105,36,{align:"center"}),t.text(`Date: ${e.creationDate||Ul(new Date().toISOString())}`,105,42,{align:"center"}),t.setLineWidth(.5),t.line(20,48,190,48),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("ENTRE LES SOUSSIGNÉS",20,58),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("LE BAILLEUR :",20,68),t.text(`${e.manager.name}, agissant en qualité de mandataire`,30,73),t.text(`Adresse : ${e.manager.agencyAddress||"Non précisée"}`,30,78),t.text(`Email : ${e.manager.email}`,30,83),t.text("LE LOCATAIRE :",20,93),t.text(`${e.tenant.name}`,30,98),t.text(`Email : ${e.tenant.email}`,30,103),t.text(`Téléphone : ${e.tenant.phone||"Non précisé"}`,30,108),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("OBJET DE L'AVENANT",20,123),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Le présent avenant a pour objet de modifier les conditions du contrat de location pour le logement suivant :",20,133),t.text(`Adresse : ${e.property.address}, ${e.property.postalCode} ${e.property.city}`,30,141),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("MODIFICATIONS AU CONTRAT INITIAL",20,156),t.setFontSize(10),t.setFont("helvetica","normal");const n=((l=e.additionalData)==null?void 0:l.amendmentTitle)||"Modification des conditions du bail";t.text(n,20,166);const r=((c=e.additionalData)==null?void 0:c.oldValue)||"Non précisée",s=((u=e.additionalData)==null?void 0:u.newValue)||"Non précisée",a=[["Nature de la modification",((d=e.additionalData)==null?void 0:d.amendmentType)||"Modification générale"],["Ancienne valeur",r],["Nouvelle valeur",s],["Date d'effet",((h=e.additionalData)==null?void 0:h.effectiveDate)||Ul(new Date().toISOString())]];return kj(t,{startY:170,body:a,theme:"plain",styles:{fontSize:10},columnStyles:{0:{fontStyle:"bold"}},margin:{left:20,right:20}}),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("AUTRES CLAUSES",20,210),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Toutes les autres clauses et conditions du contrat de location initial demeurent inchangées et continuent de produire leur plein effet dans la mesure où elles ne sont pas contraires aux nouvelles dispositions contenues dans le présent avenant.",20,220,{maxWidth:170}),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("SIGNATURES",20,240),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Le Bailleur :",30,250),t.text("Le Locataire :",120,250),t.text("Fait à _________________ le _________________",105,270,{align:"center"}),ZL(t),t.output("blob")},mT=async(e,t)=>{const n=t;switch(e){case"contract":return NZ(n);case"receipt":return oQ(n);case"notice":return lQ(n);case"addendum":return cQ(n);default:throw new Error(`Type de document non supporté: ${e}`)}},uQ=(e,t)=>{const[n,r]=b.useState("");return b.useEffect(()=>{if(e){const s=t.find(a=>a.id===e);s&&r(wh(s.category))}},[e,t]),{documentReference:n,setDocumentReference:r}},dQ=(e,t,n,r,s,a,o)=>{const[l,c]=b.useState(!1),[u,d]=b.useState(null),{toast:h}=dn();return{isGenerating:l,generatedBlob:u,generateDocumentPdf:async p=>{if(!e||!t||!n){console.error("Missing required data for PDF generation:",{selectedTemplate:e,propertyDetails:!!t,tenantDetails:!!n}),h({title:"Informations manquantes",description:"Veuillez sélectionner un modèle, un bien et un locataire",variant:"destructive"});return}console.log("Starting PDF generation with:",{selectedTemplate:e,propertyDetails:t,tenantDetails:n,leaseDetails:r,documentReference:s}),c(!0);try{const w=p.find(x=>x.id===e);if(!w)throw console.error("Template not found:",e),new Error("Modèle non trouvé");const v=r==null?void 0:r.security_deposit;console.log("Security deposit from lease:",v);const N={tenant:{id:n.id||"",name:n.full_name||"",email:n.email||"",phone:n.phone||""},property:{id:t.id||"",address:t.address||"",city:t.city||"",postalCode:t.postal_code||"",size:t.surface||t.size_sqm,type:t.type||"Appartement"},lease:r?{id:r.id,startDate:r.start_date,endDate:r.end_date,rentAmount:r.monthly_rent||t.monthly_rent,charges:r.charges||100,depositAmount:v||t.monthly_rent,isFurnished:o}:{startDate:new Date().toISOString().split("T")[0],endDate:new Date(new Date().setFullYear(new Date().getFullYear()+3)).toISOString().split("T")[0],rentAmount:t.monthly_rent||0,depositAmount:t.monthly_rent||0,isFurnished:o},manager:{id:"",name:"Gestionnaire",email:"contact@gestion.com",agencyAddress:"Agence Immobilière, 123 Rue de la Gestion, 75000 Paris"},documentReference:s,creationDate:_n(new Date,"dd MMMM yyyy",{locale:ss}),additionalData:a};console.log("Document data prepared:",N);const y=await mT(w.category,N);console.log("PDF blob generated:",!!y),d(y),h({title:"Document généré",description:"Le document a été généré avec succès"})}catch(w){console.error("Erreur lors de la génération du document:",w),h({title:"Erreur",description:`Impossible de générer le document: ${w.message||"Unknown error"}`,variant:"destructive"})}finally{c(!1)}}}},pT=()=>({downloadDocument:(t,n,r,s)=>{if(!t){console.error("No blob available for download");return}console.log("Downloading document...");const a=r.find(c=>c.id===n);if(!a){console.error("Template not found:",n);return}const o=URL.createObjectURL(t),l=document.createElement("a");l.href=o,l.download=`${a.category}_${s}.pdf`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o),console.log("Document download initiated")}}),hQ=e=>{const{toast:t}=dn();return{saveDocumentToSupabase:async(r,s,a,o,l,c)=>{if(!r||!e){console.error("Missing data for document storage:",{blobExists:!!r,userId:e}),t({title:"Données manquantes",description:"Impossible d'enregistrer le document. Données incomplètes.",variant:"destructive"});return}try{console.log("Saving document to Supabase...");const u=a.find(k=>k.id===s);if(!u)throw console.error("Template not found:",s),new Error("Modèle non trouvé");const d=`${u.category}_${o}.pdf`,h=`documents/${e}/${d}`;console.log("Uploading file to storage:",{fileName:d,filePath:h});const{data:m,error:p}=await Kt.storage.listBuckets();if(p)throw console.error("Error listing buckets:",p),p;if(!m.some(k=>k.name==="documents")){console.log("Creating documents bucket...");const{error:k}=await Kt.storage.createBucket("documents",{public:!1});if(k)throw console.error("Error creating documents bucket:",k),k}const{data:v,error:N}=await Kt.storage.from("documents").upload(h,r,{contentType:"application/pdf",upsert:!0});if(N)throw console.error("Error uploading file:",N),N;console.log("File uploaded successfully:",v);const{data:y}=await Kt.storage.from("documents").getPublicUrl(h),x=y==null?void 0:y.publicUrl;console.log("File public URL:",x);const{error:S}=await Kt.from("documents").insert({name:d,document_type:u.category,file_type:"application/pdf",file_url:x,size_bytes:r.size,property_id:l,lease_id:c==null?void 0:c.id,uploaded_by:e});if(S)throw console.error("Error inserting document record:",S),S;console.log("Document record inserted successfully"),t({title:"Document enregistré",description:"Le document a été enregistré avec succès"})}catch(u){console.error("Erreur lors de l'enregistrement du document:",u),t({title:"Erreur",description:`Impossible d'enregistrer le document: ${u.message||"Unknown error"}`,variant:"destructive"})}}}},fQ=()=>{const{toast:e}=dn();return{requestSignature:async n=>{if(!(n!=null&&n.email)){e({title:"Erreur",description:"Impossible d'envoyer une demande de signature : email du locataire manquant",variant:"destructive"});return}e({title:"Signature électronique",description:"La demande de signature a été envoyée au locataire"})}}},mQ=(e,t,n,r,s,a,o,l,c,u)=>{const{generateDocumentPdf:d,isGenerating:h,generatedBlob:m}=dQ(t,s,a,o,l,c,u),{downloadDocument:p}=pT(),{saveDocumentToSupabase:w}=hQ(e),{requestSignature:v}=fQ();return{isGenerating:h,generatedBlob:m,generateDocumentPdf:d,downloadDocument:S=>{p(m,t,S,l)},saveDocumentToSupabase:async S=>{await w(m,t,S,l,n,o)},requestSignature:async()=>{await v(a)}}},Cv=[{id:"rental-contract-alur",name:"Contrat de location ALUR",description:"Contrat de location conforme à la loi ALUR",category:"contract"},{id:"rent-receipt",name:"Quittance de loyer",description:"Quittance mensuelle de loyer",category:"receipt"},{id:"termination-notice",name:"Avis d'échéance",description:"Avis de paiement mensuel",category:"notice"},{id:"lease-extension",name:"Avenant au bail",description:"Avenant pour modification ou prolongation de bail",category:"addendum"}],pQ=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!1),[s,a]=b.useState({});return{templates:Cv,selectedTemplate:e,setSelectedTemplate:t,isFurnished:n,setIsFurnished:r,additionalData:s,handleAdditionalDataChange:(c,u)=>{a(d=>({...d,[c]:u}))},resetFormState:()=>{t(null),r(!1),a({})}}},gQ=()=>{const{user:e}=sr(),{templates:t,selectedTemplate:n,setSelectedTemplate:r,isFurnished:s,setIsFurnished:a,additionalData:o,handleAdditionalDataChange:l,resetFormState:c}=pQ(),{documentReference:u,setDocumentReference:d}=uQ(n,t),{properties:h,selectedProperty:m,setSelectedProperty:p,propertyDetails:w,isLoading:v}=EL(e==null?void 0:e.id),{tenants:N,selectedTenant:y,setSelectedTenant:x,tenantDetails:S,isLoading:k}=_X(e==null?void 0:e.id),{leaseDetails:P}=SX(m,y),{isGenerating:z,generatedBlob:B,generateDocumentPdf:R,downloadDocument:K,saveDocumentToSupabase:ee,requestSignature:M}=mQ(e==null?void 0:e.id,n,m,y,w,S,P,u,o,s);return{selectedTemplate:n,setSelectedTemplate:r,selectedProperty:m,setSelectedProperty:p,selectedTenant:y,setSelectedTenant:x,isFurnished:s,setIsFurnished:a,additionalData:o,handleAdditionalDataChange:l,documentReference:u,setDocumentReference:d,isGenerating:z,isLoading:v||k,generatedBlob:B,properties:h,tenants:N,propertyDetails:w,tenantDetails:S,leaseDetails:P,generateDocumentPdf:async()=>{await R(t)},downloadDocument:()=>{K(t)},saveDocumentToSupabase:async()=>{await ee(t)},requestSignature:M,resetForm:()=>{c(),p(null),x(null)}}},vQ=({templates:e,selectedTemplate:t,setSelectedTemplate:n,category:r})=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Sélectionner un modèle"}),i.jsxs(xn,{value:t||"",onValueChange:n,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionner un modèle"})}),i.jsx(un,{children:e.filter(s=>s.category===r.slice(0,-1)).map(s=>i.jsx(Oe,{value:s.id,children:s.name},s.id))})]})]}),xQ=({properties:e,selectedProperty:t,setSelectedProperty:n,isLoading:r})=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Sélectionner un bien"}),i.jsxs(xn,{value:t||"",onValueChange:n,disabled:r,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionner un bien"})}),i.jsx(un,{children:e.map(s=>i.jsxs(Oe,{value:s.id,children:[s.address,", ",s.city]},s.id))})]})]}),yQ=({tenants:e,selectedTenant:t,setSelectedTenant:n,isLoading:r})=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Sélectionner un locataire"}),i.jsxs(xn,{value:t||"",onValueChange:n,disabled:r,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionner un locataire"})}),i.jsx(un,{children:e.map(s=>i.jsx(Oe,{value:s.id,children:s.name||s.email},s.id))})]})]}),wQ=({selectedTemplate:e,propertyDetails:t,tenantDetails:n,leaseDetails:r,documentReference:s,templates:a})=>{var l,c;if(!e||!t||!n)return null;const o=((l=a.find(u=>u.id===e))==null?void 0:l.name)||"Sélectionnez un modèle";return i.jsx($e,{className:"bg-muted/50 mt-4",children:i.jsx(Ue,{className:"pt-4 pb-2",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"bg-background rounded-md p-2",children:i.jsx(Ut,{className:"h-8 w-8 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium",children:o}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(c=a.find(u=>u.id===e))==null?void 0:c.description}),r?i.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:["Bail du ",new Date(r.start_date).toLocaleDateString("fr-FR")," au ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(rs,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:[t==null?void 0:t.address,", ",t==null?void 0:t.postal_code," ",t==null?void 0:t.city]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(ix,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:(n==null?void 0:n.name)||(n==null?void 0:n.email)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(X7,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:["Référence : ",s]})]})]}):i.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border-l-4 border-yellow-400 text-sm",children:[i.jsx("p",{children:"Aucun bail trouvé pour ce locataire et ce bien."}),i.jsx("p",{children:"Un document sera généré avec les informations disponibles."})]})]})]})})})},bQ=({isGenerating:e,generateDocument:t,downloadDocument:n,saveDocumentToSupabase:r,requestSignature:s,resetForm:a,canGenerate:o,generatedBlob:l})=>i.jsxs("div",{className:"flex justify-between",children:[i.jsx(fe,{variant:"outline",onClick:a,children:"Réinitialiser"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(fe,{variant:"default",disabled:!o||e,onClick:t,children:e?i.jsxs(i.Fragment,{children:[i.jsx(sp,{className:"mr-2 h-4 w-4 animate-spin"}),"Génération..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"}),"Générer le document"]})}),l&&i.jsxs(i.Fragment,{children:[i.jsxs(fe,{variant:"secondary",onClick:n,children:[i.jsx(zr,{className:"mr-2 h-4 w-4"}),"Télécharger"]}),i.jsxs(fe,{variant:"secondary",onClick:r,children:[i.jsx(nx,{className:"mr-2 h-4 w-4"}),"Enregistrer"]}),i.jsxs(fe,{variant:"secondary",onClick:s,children:[i.jsx(Vk,{className:"mr-2 h-4 w-4"}),"Demander signature"]})]})]})]}),jQ=({documentReference:e,setDocumentReference:t,isFurnished:n,setIsFurnished:r})=>i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"pt-2",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Référence du document"}),i.jsx(St,{value:e,onChange:s=>t(s.target.value),placeholder:"Référence du document"})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(gs,{id:"furnished",checked:n,onCheckedChange:r}),i.jsx($t,{htmlFor:"furnished",children:"Logement meublé"})]})]}),NQ=({additionalData:e,handleAdditionalDataChange:t})=>i.jsxs("div",{className:"pt-2",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Mois de la quittance"}),i.jsx(St,{value:e.month||_n(new Date,"MMMM yyyy",{locale:ss}),onChange:n=>t("month",n.target.value),placeholder:"Mois de la quittance"})]}),_Q=({additionalData:e,handleAdditionalDataChange:t})=>i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"pt-2",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Type de modification"}),i.jsxs(xn,{value:e.amendmentType||"",onValueChange:n=>t("amendmentType",n),children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Type de modification"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"rent",children:"Loyer"}),i.jsx(Oe,{value:"duration",children:"Durée du bail"}),i.jsx(Oe,{value:"occupants",children:"Occupants"}),i.jsx(Oe,{value:"other",children:"Autre modification"})]})]})]}),i.jsxs("div",{className:"pt-2",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Description de la modification"}),i.jsx(la,{value:e.amendmentTitle||"",onChange:n=>t("amendmentTitle",n.target.value),placeholder:"Description de la modification"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Ancienne valeur"}),i.jsx(St,{value:e.oldValue||"",onChange:n=>t("oldValue",n.target.value),placeholder:"Ancienne valeur"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nouvelle valeur"}),i.jsx(St,{value:e.newValue||"",onChange:n=>t("newValue",n.target.value),placeholder:"Nouvelle valeur"})]})]})]}),SQ=()=>{var ee;const{selectedTemplate:e,setSelectedTemplate:t,selectedProperty:n,setSelectedProperty:r,selectedTenant:s,setSelectedTenant:a,isFurnished:o,setIsFurnished:l,additionalData:c,handleAdditionalDataChange:u,documentReference:d,setDocumentReference:h,isGenerating:m,isLoading:p,generatedBlob:w,properties:v,tenants:N,propertyDetails:y,tenantDetails:x,leaseDetails:S,generateDocumentPdf:k,downloadDocument:P,saveDocumentToSupabase:z,requestSignature:B,resetForm:R}=gQ(),K=(ee=Cv.find(M=>M.id===e))==null?void 0:ee.category;return console.log("Rendering LegalDocumentGenerator with:",{selectedTemplate:e,selectedProperty:n,selectedTenant:s,properties:v==null?void 0:v.length,tenants:N==null?void 0:N.length,hasPropertyDetails:!!y,hasTenantDetails:!!x,hasLeaseDetails:!!S,hasGeneratedBlob:!!w}),i.jsxs($e,{className:"w-full",children:[i.jsxs(st,{children:[i.jsx(it,{children:"Générateur de documents légaux"}),i.jsx(qt,{children:"Générez automatiquement des documents juridiques pré-remplis avec les données des locataires et des biens"})]}),i.jsx(Ue,{children:i.jsxs(fr,{defaultValue:"contracts",className:"w-full",children:[i.jsxs(ir,{className:"grid grid-cols-4 mb-4",children:[i.jsx(Ke,{value:"contracts",children:"Contrats"}),i.jsx(Ke,{value:"receipts",children:"Quittances"}),i.jsx(Ke,{value:"notices",children:"Avis"}),i.jsx(Ke,{value:"addendums",children:"Avenants"})]}),["contracts","receipts","notices","addendums"].map(M=>i.jsxs(Ot,{value:M,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4",children:[i.jsx(vQ,{templates:Cv,selectedTemplate:e,setSelectedTemplate:t,category:M}),i.jsx(xQ,{properties:v,selectedProperty:n,setSelectedProperty:r,isLoading:p}),i.jsx(yQ,{tenants:N,selectedTenant:s,setSelectedTenant:a,isLoading:p}),e&&i.jsxs(i.Fragment,{children:[K==="contract"&&i.jsx(jQ,{documentReference:d,setDocumentReference:h,isFurnished:o,setIsFurnished:l}),K==="receipt"&&i.jsx(NQ,{additionalData:c,handleAdditionalDataChange:u}),K==="addendum"&&i.jsx(_Q,{additionalData:c,handleAdditionalDataChange:u})]})]}),e&&n&&s&&i.jsx(wQ,{selectedTemplate:e,propertyDetails:y,tenantDetails:x,leaseDetails:S,documentReference:d,templates:Cv})]},M))]})}),i.jsx(pn,{children:i.jsx(bQ,{isGenerating:m,generateDocument:k,downloadDocument:P,saveDocumentToSupabase:z,requestSignature:B,resetForm:R,canGenerate:!!(e&&n&&s),generatedBlob:w})})]})},CQ=()=>i.jsx(Ur,{title:"Générateur de documents",children:i.jsx("div",{className:"space-y-6",children:i.jsx(SQ,{})})}),kQ=[{id:"1",name:"Martin Durant",email:"m.durant@plomberie.fr",phone:"06 12 34 56 78",specialty:"plumber",rating:4.8,availability:"high"},{id:"2",name:"Sophie Richard",email:"sophie.r@electric.fr",phone:"07 23 45 67 89",specialty:"electrician",rating:4.7,availability:"medium"},{id:"3",name:"Lucas Moreau",email:"lmoreau@construction.fr",phone:"06 98 76 54 32",specialty:"carpenter",rating:4.5,availability:"low"},{id:"4",name:"Emma Bernard",email:"ebernard@peinture.fr",phone:"07 12 34 56 78",specialty:"painter",rating:4.9,availability:"high"},{id:"5",name:"Thomas Petit",email:"t.petit@serrure.fr",phone:"06 54 32 10 98",specialty:"locksmith",rating:4.6,availability:"medium"}],PQ=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(""),[o,l]=b.useState(""),c=u=>{u.preventDefault(),console.log("Adding vendor:",{name:e,email:n,phone:s,specialty:o}),t(""),r(""),a(""),l("")};return i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx($t,{htmlFor:"name",children:"Nom complet"}),i.jsx(St,{id:"name",value:e,onChange:u=>t(u.target.value),placeholder:"Nom de l'artisan",required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx($t,{htmlFor:"email",children:"Email"}),i.jsx(St,{id:"email",type:"email",value:n,onChange:u=>r(u.target.value),placeholder:"email@example.com",required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx($t,{htmlFor:"phone",children:"Téléphone"}),i.jsx(St,{id:"phone",value:s,onChange:u=>a(u.target.value),placeholder:"06 12 34 56 78",required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx($t,{htmlFor:"specialty",children:"Spécialité"}),i.jsxs(xn,{value:o,onValueChange:l,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionner une spécialité"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"plumber",children:"Plombier"}),i.jsx(Oe,{value:"electrician",children:"Électricien"}),i.jsx(Oe,{value:"carpenter",children:"Menuisier"}),i.jsx(Oe,{value:"painter",children:"Peintre"}),i.jsx(Oe,{value:"locksmith",children:"Serrurier"}),i.jsx(Oe,{value:"heating",children:"Chauffagiste"}),i.jsx(Oe,{value:"roofer",children:"Couvreur"}),i.jsx(Oe,{value:"mason",children:"Maçon"}),i.jsx(Oe,{value:"other",children:"Autre"})]})]})]}),i.jsx(fe,{type:"submit",className:"w-full",children:"Ajouter l'artisan"})]})},AQ=e=>({plumber:"Plombier",electrician:"Électricien",carpenter:"Menuisier",painter:"Peintre",locksmith:"Serrurier",heating:"Chauffagiste",roofer:"Couvreur",mason:"Maçon",other:"Autre"})[e]||e,EQ=({availability:e})=>{let t="",n="";switch(e){case"high":t="bg-green-50 text-green-700",n="Disponible";break;case"medium":t="bg-yellow-50 text-yellow-700",n="Disponibilité moyenne";break;case"low":t="bg-orange-50 text-orange-700",n="Peu disponible";break}return i.jsx(Ve,{variant:"outline",className:t,children:n})},LQ=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),s=kQ.filter(a=>!(e&&!a.name.toLowerCase().includes(e.toLowerCase())||n&&a.specialty!==n));return i.jsxs($e,{className:"w-full",children:[i.jsxs(st,{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-2 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Répertoire des artisans"}),i.jsx(qt,{children:"Gérez votre liste d'artisans de confiance"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher un artisan...",className:"pl-8",value:e,onChange:a=>t(a.target.value)})]}),i.jsxs(hc,{children:[i.jsx(J5,{asChild:!0,children:i.jsxs(fe,{children:[i.jsx(yr,{className:"mr-2 h-4 w-4"}),"Ajouter un artisan"]})}),i.jsxs(Vo,{children:[i.jsxs(Wo,{children:[i.jsx(fc,{children:"Ajouter un artisan"}),i.jsx(X5,{children:"Ajoutez un nouvel artisan à votre répertoire"})]}),i.jsx(PQ,{})]})]})]})]}),i.jsxs(Ue,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs(xn,{value:n,onValueChange:r,children:[i.jsx(cn,{className:"w-[220px]",children:i.jsx(yn,{placeholder:"Filtrer par spécialité"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"",children:"Toutes les spécialités"}),i.jsx(Oe,{value:"plumber",children:"Plombier"}),i.jsx(Oe,{value:"electrician",children:"Électricien"}),i.jsx(Oe,{value:"carpenter",children:"Menuisier"}),i.jsx(Oe,{value:"painter",children:"Peintre"}),i.jsx(Oe,{value:"locksmith",children:"Serrurier"})]})]})}),i.jsxs("div",{className:"grid gap-4",children:[s.map(a=>i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ou,{className:"h-10 w-10",children:i.jsx(lu,{children:a.name.charAt(0)})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:a.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:AQ(a.specialty)})]}),i.jsx("div",{className:"ml-2",children:i.jsx(EQ,{availability:a.availability})})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 md:mt-0",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex",children:[1,2,3,4,5].map(o=>i.jsx("svg",{className:`h-4 w-4 ${o<=a.rating?"text-yellow-400":"text-gray-200"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 15.934l-6.18 3.254 1.18-6.883L.11 7.516l6.9-1.003L10 0l2.99 6.513 6.9 1.003-4.89 4.789 1.18 6.883L10 15.934z"})},o))}),i.jsx("span",{className:"ml-1 text-sm font-medium",children:a.rating})]}),i.jsx(fe,{variant:"ghost",size:"icon",title:"Appeler",children:i.jsx(tx,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",title:"Envoyer un email",children:i.jsx(ip,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"outline",size:"sm",className:"ml-2",children:"Assigner"})]})]},a.id)),s.length===0&&i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"Aucun artisan trouvé"})})]})]})]})},l2=[{id:"1",title:"Fuite sous l'évier",priority:"medium",status:"new"},{id:"2",title:"Panne électrique salon",priority:"high",status:"new"},{id:"3",title:"Serrure porte d'entrée bloquée",priority:"high",status:"new"}],Pf=[{id:"1",name:"Martin Durant",specialty:"plumber",availability:"high"},{id:"2",name:"Sophie Richard",specialty:"electrician",availability:"medium"},{id:"3",name:"Lucas Moreau",specialty:"carpenter",availability:"low"}],TQ=()=>{const e=[];for(let r=8;r<18;r++)e.push({id:`${r}-00`,start:`${r}:00`,end:`${r}:30`,available:Math.random()>.3}),e.push({id:`${r}-30`,start:`${r}:30`,end:`${r+1}:00`,available:Math.random()>.3});return e},MQ=e=>({plumber:"Plombier",electrician:"Électricien",carpenter:"Menuisier",painter:"Peintre",locksmith:"Serrurier"})[e]||e,RQ=()=>{var p,w,v,N;const[e,t]=b.useState(null),[n,r]=b.useState(null),[s,a]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState([]),{toast:d}=dn();Ae.useEffect(()=>{s&&(u(TQ()),l(null))},[s]);const h=()=>{if(!e||!n||!s||!o){d({title:"Informations manquantes",description:"Veuillez remplir tous les champs requis",variant:"destructive"});return}d({title:"Intervention programmée",description:"L'intervention a été programmée et les notifications ont été envoyées"}),t(null),r(null),a(null),l(null)},m=y=>{var S,k,P;const x=l2.find(z=>z.id===y);return x?x.title.toLowerCase().includes("fuite")||x.title.toLowerCase().includes("eau")||x.title.toLowerCase().includes("évier")?((S=Pf.find(z=>z.specialty==="plumber"))==null?void 0:S.id)||null:x.title.toLowerCase().includes("électrique")||x.title.toLowerCase().includes("courant")||x.title.toLowerCase().includes("prise")?((k=Pf.find(z=>z.specialty==="electrician"))==null?void 0:k.id)||null:(x.title.toLowerCase().includes("serrure")||x.title.toLowerCase().includes("clé")||x.title.toLowerCase().includes("porte"))&&((P=Pf.find(z=>z.specialty==="locksmith"))==null?void 0:P.id)||null:null};return Ae.useEffect(()=>{if(e){const y=m(e);y&&r(y)}},[e]),i.jsxs($e,{className:"w-full",children:[i.jsxs(st,{children:[i.jsx(it,{children:"Programmation des interventions"}),i.jsx(qt,{children:"Planifiez des interventions de maintenance et assignez-les aux artisans"})]}),i.jsxs(Ue,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Ticket à traiter"}),i.jsxs(xn,{value:e||"",onValueChange:t,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionnez un ticket"})}),i.jsx(un,{children:l2.map(y=>i.jsx(Oe,{value:y.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[y.title,y.priority==="high"&&i.jsx(Ve,{variant:"destructive",className:"ml-2",children:"Urgent"})]})},y.id))})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Artisan recommandé"}),e&&m(e)&&i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Recommandé"})]}),i.jsxs(xn,{value:n||"",onValueChange:r,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionnez un artisan"})}),i.jsx(un,{children:Pf.map(y=>i.jsx(Oe,{value:y.id,children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{children:y.name}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",MQ(y.specialty),")"]})]})},y.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Date de l'intervention"}),i.jsx("div",{className:"border rounded-md",children:i.jsx(Pp,{mode:"single",selected:s,onSelect:a,disabled:y=>y<new Date||y>new Date(new Date().setMonth(new Date().getMonth()+2)),className:"rounded-md"})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Heure de l'intervention"}),s?i.jsx("div",{className:"border rounded-md p-4 h-[294px] overflow-y-auto",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.map(y=>i.jsxs(fe,{variant:o===y.id?"default":"outline",className:"justify-start",disabled:!y.available,onClick:()=>l(y.id),children:[i.jsx(Mi,{className:"mr-2 h-4 w-4"}),y.start," - ",y.end]},y.id))})}):i.jsx("div",{className:"border rounded-md p-4 h-[294px] flex items-center justify-center text-muted-foreground",children:"Veuillez sélectionner une date"})]})]}),i.jsx("div",{className:"bg-muted/50 rounded-md p-4 mt-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"mt-0.5",children:e&&n&&s&&o?i.jsx(rp,{className:"h-5 w-5 text-green-500"}):i.jsx(Qa,{className:"h-5 w-5 text-amber-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Résumé de l'intervention"}),i.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[i.jsxs("li",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Ticket :"})," ",e?(p=l2.find(y=>y.id===e))==null?void 0:p.title:"Non sélectionné"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Artisan :"})," ",n?(w=Pf.find(y=>y.id===n))==null?void 0:w.name:"Non sélectionné"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Date :"})," ",s?_n(s,"d MMMM yyyy",{locale:ss}):"Non sélectionnée"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Heure :"})," ",o?((v=c.find(y=>y.id===o))==null?void 0:v.start)+" - "+((N=c.find(y=>y.id===o))==null?void 0:N.end):"Non sélectionnée"]})]})]})]})})]}),i.jsxs(pn,{className:"flex justify-between",children:[i.jsx(fe,{variant:"outline",onClick:()=>{t(null),r(null),a(null),l(null)},children:"Annuler"}),i.jsx(fe,{onClick:h,disabled:!e||!n||!s||!o,children:"Programmer l'intervention"})]})]})},DQ=()=>i.jsx(Ur,{title:"Centre de maintenance",children:i.jsxs(fr,{defaultValue:"scheduler",className:"w-full",children:[i.jsxs(ir,{className:"grid w-full grid-cols-2",children:[i.jsx(Ke,{value:"scheduler",children:"Programmer interventions"}),i.jsx(Ke,{value:"vendors",children:"Répertoire des artisans"})]}),i.jsx(Ot,{value:"scheduler",className:"pt-6",children:i.jsx(RQ,{})}),i.jsx(Ot,{value:"vendors",className:"pt-6",children:i.jsx(LQ,{})})]})}),IQ=({open:e,onClose:t,onAddRoom:n})=>{const[r,s]=b.useState(""),a=o=>{o.preventDefault(),r.trim()&&(n(r),s(""))};return i.jsx(hc,{open:e,onOpenChange:t,children:i.jsxs(Vo,{className:"sm:max-w-[425px]",children:[i.jsx(Wo,{children:i.jsx(fc,{children:"Ajouter une pièce"})}),i.jsxs("form",{onSubmit:a,children:[i.jsx("div",{className:"grid gap-4 py-4",children:i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{htmlFor:"room-name",className:"text-sm font-medium",children:"Nom de la pièce"}),i.jsx(St,{id:"room-name",placeholder:"Ex: Buanderie, Garage, etc.",value:r,onChange:o=>s(o.target.value),autoFocus:!0})]})}),i.jsxs(xp,{children:[i.jsx(fe,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),i.jsx(fe,{type:"submit",disabled:!r.trim(),children:"Ajouter"})]})]})]})})},OQ=async(e,t)=>{const{data:n,error:r}=await Kt.from("inspection_rooms").update(t).eq("id",e).select();if(r)throw r;return n[0]},FQ=({element:e,onUpdate:t,onDelete:n})=>{const[r,s]=b.useState(!1),[a,o]=b.useState(e.comment||""),l=h=>{switch(h){case"good":return i.jsx(Ve,{className:"bg-green-50 text-green-700",children:"Bon état"});case"fair":return i.jsx(Ve,{className:"bg-blue-50 text-blue-700",children:"État correct"});case"poor":return i.jsx(Ve,{className:"bg-yellow-50 text-yellow-700",children:"État médiocre"});case"damaged":return i.jsx(Ve,{className:"bg-red-50 text-red-700",children:"Endommagé"});default:return i.jsx(Ve,{variant:"outline",children:"Non évalué"})}},c=h=>{t({status:h})},u=()=>{t({comment:a}),s(!1)},d=()=>{console.log("Add photo for element:",e.id)};return i.jsxs("div",{className:"border p-3 rounded-md",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"font-medium",children:e.label}),i.jsx("div",{className:"flex items-center gap-1",children:l(e.status)})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-2",children:[i.jsx(fe,{type:"button",variant:e.status==="good"?"default":"outline",size:"sm",className:"h-8",onClick:()=>c("good"),children:"Bon état"}),i.jsx(fe,{type:"button",variant:e.status==="fair"?"default":"outline",size:"sm",className:"h-8",onClick:()=>c("fair"),children:"Correct"}),i.jsx(fe,{type:"button",variant:e.status==="poor"?"default":"outline",size:"sm",className:"h-8",onClick:()=>c("poor"),children:"Médiocre"}),i.jsx(fe,{type:"button",variant:e.status==="damaged"?"default":"outline",size:"sm",className:"h-8",onClick:()=>c("damaged"),children:"Endommagé"})]}),r?i.jsxs("div",{className:"mt-2 space-y-2",children:[i.jsx(la,{value:a,onChange:h=>o(h.target.value),placeholder:"Commentaire...",className:"min-h-[80px]"}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsxs(fe,{size:"sm",variant:"ghost",onClick:()=>{o(e.comment||""),s(!1)},children:[i.jsx(za,{className:"h-4 w-4 mr-1"}),"Annuler"]}),i.jsxs(fe,{size:"sm",onClick:u,children:[i.jsx(nx,{className:"h-4 w-4 mr-1"}),"Sauvegarder"]})]})]}):i.jsxs("div",{className:"mt-2 space-y-2",children:[e.comment&&i.jsx("p",{className:"text-sm text-muted-foreground",children:e.comment}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:e.photo_urls&&e.photo_urls.length>0&&i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:e.photo_urls.map((h,m)=>i.jsx("div",{className:"h-16 w-16 bg-muted/50 rounded flex items-center justify-center shrink-0 border",children:i.jsx("img",{src:h,alt:`Photo ${m+1}`,className:"h-full w-full object-cover rounded"})},m))})}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsxs(fe,{size:"sm",variant:"outline",onClick:d,children:[i.jsx(Ok,{className:"h-4 w-4 mr-1"}),"Photo"]}),i.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>s(!0),children:[i.jsx(d5,{className:"h-4 w-4 mr-1"}),"Commentaire"]}),i.jsxs(fe,{size:"sm",variant:"outline",className:"text-destructive",onClick:n,children:[i.jsx(op,{className:"h-4 w-4 mr-1"}),"Supprimer"]})]})]})]})},zQ=({open:e,onClose:t,onAddElement:n})=>{const[r,s]=b.useState(""),a=o=>{o.preventDefault(),r.trim()&&(n({label:r,status:null,room_id:"",comment:"",photo_urls:[]}),s(""))};return i.jsx(hc,{open:e,onOpenChange:t,children:i.jsxs(Vo,{className:"sm:max-w-[425px]",children:[i.jsx(Wo,{children:i.jsx(fc,{children:"Ajouter un élément"})}),i.jsxs("form",{onSubmit:a,children:[i.jsx("div",{className:"grid gap-4 py-4",children:i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{htmlFor:"element-label",className:"text-sm font-medium",children:"Nom de l'élément"}),i.jsx(St,{id:"element-label",placeholder:"Ex: Mur, Fenêtre, Porte, etc.",value:r,onChange:o=>s(o.target.value),autoFocus:!0})]})}),i.jsxs(xp,{children:[i.jsx(fe,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),i.jsx(fe,{type:"submit",disabled:!r.trim(),children:"Ajouter"})]})]})]})})},BQ=({room:e,elements:t,onRoomUpdate:n,onRoomDelete:r,onElementCreate:s,onElementUpdate:a,onElementDelete:o})=>{const[l,c]=b.useState(!1),[u,d]=b.useState(e.name),[h,m]=b.useState(!1),{toast:p}=dn(),w=t.filter(x=>x.status!==null).length,v=t.length,N=async()=>{if(!u.trim()){p({title:"Erreur",description:"Le nom de la pièce ne peut pas être vide",variant:"destructive"});return}try{const x=await OQ(e.id,{name:u});n(x),c(!1),p({title:"Pièce mise à jour",description:"Le nom de la pièce a été modifié"})}catch(x){console.error("Error updating room:",x),p({title:"Erreur",description:"Impossible de mettre à jour le nom de la pièce",variant:"destructive"})}},y=x=>{s({...x,room_id:e.id}),m(!1)};return i.jsxs($e,{className:"mb-4",children:[i.jsx(st,{className:"pb-2 flex flex-row items-center justify-between",children:l?i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.jsx(St,{value:u,onChange:x=>d(x.target.value),className:"flex-1",autoFocus:!0}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:N,title:"Sauvegarder",children:i.jsx(nx,{className:"h-4 w-4"})}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{d(e.name),c(!1)},title:"Annuler",children:i.jsx(za,{className:"h-4 w-4"})})]}):i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("div",{className:"font-medium text-lg",children:e.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ve,{variant:"outline",className:"ml-2",children:[w,"/",v," éléments"]}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>c(!0),title:"Renommer",children:i.jsx(d5,{className:"h-4 w-4"})}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>r(e.id),className:"text-destructive",title:"Supprimer",children:i.jsx(op,{className:"h-4 w-4"})})]})]})}),i.jsxs(Ue,{children:[t.length>0?i.jsx("div",{className:"space-y-3",children:t.map(x=>i.jsx(FQ,{element:x,onUpdate:S=>a(x.id,S),onDelete:()=>o(x.id)},x.id))}):i.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Aucun élément dans cette pièce"}),h?i.jsx(zQ,{open:h,onClose:()=>m(!1),onAddElement:y}):i.jsxs(fe,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>m(!0),children:[i.jsx(yr,{className:"h-4 w-4 mr-2"}),"Ajouter un élément"]})]})]})},$Q=({properties:e,tenants:t,selectedProperty:n,selectedTenant:r,inspectionType:s,inspectionDate:a,isCreatingInspection:o,onPropertyChange:l,onTenantChange:c,onTypeChange:u,onDateChange:d})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx($t,{htmlFor:"property",children:"Bien immobilier"}),i.jsxs(xn,{value:n||"",onValueChange:l,disabled:o,children:[i.jsx(cn,{id:"property",children:i.jsx(yn,{placeholder:"Sélectionnez un bien"})}),i.jsx(un,{children:e.map(h=>i.jsx(Oe,{value:h.id,children:h.address},h.id))})]})]}),i.jsxs("div",{children:[i.jsx($t,{htmlFor:"tenant",children:"Locataire"}),i.jsxs(xn,{value:r||"",onValueChange:c,disabled:o,children:[i.jsx(cn,{id:"tenant",children:i.jsx(yn,{placeholder:"Sélectionnez un locataire"})}),i.jsx(un,{children:t.map(h=>i.jsx(Oe,{value:h.id,children:h.name},h.id))})]})]}),i.jsxs("div",{children:[i.jsx($t,{htmlFor:"inspection-type",children:"Type d'état des lieux"}),i.jsxs(xn,{value:s,onValueChange:h=>u(h),disabled:o,children:[i.jsx(cn,{id:"inspection-type",children:i.jsx(yn,{})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"entry",children:"État des lieux d'entrée"}),i.jsx(Oe,{value:"exit",children:"État des lieux de sortie"})]})]})]}),i.jsxs("div",{children:[i.jsx($t,{htmlFor:"inspection-date",children:"Date de l'état des lieux"}),i.jsx(St,{id:"inspection-date",type:"date",value:a,onChange:h=>d(h.target.value),disabled:o})]})]}),UQ=({completionPercentage:e})=>i.jsxs("div",{className:"bg-muted/40 border rounded-md p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium",children:"Progression de l'état des lieux"}),i.jsxs(Ve,{variant:"outline",children:[e,"%"]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2.5 mt-2",children:i.jsx("div",{className:"bg-cyan h-2.5 rounded-full",style:{width:`${e}%`}})})]}),qQ=({rooms:e,roomElements:t,selectedRoom:n,isLoadingRooms:r,onRoomSelect:s,onAddRoomClick:a})=>i.jsxs("div",{className:"bg-muted/40 border rounded-md p-4",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Pièces"}),i.jsx("div",{className:"space-y-1",children:r?i.jsx("div",{className:"flex items-center justify-center p-4",children:i.jsx(sp,{className:"h-4 w-4 animate-spin"})}):e.map(o=>{const l=t[o.id]||[],c=l.filter(d=>d.status!==null).length,u=l.length;return i.jsxs(fe,{variant:n===o.id?"default":"outline",onClick:()=>s(o.id),className:"w-full justify-between",children:[i.jsx("span",{children:o.name}),i.jsxs(Ve,{variant:"outline",className:"ml-2",children:[c,"/",u]})]},o.id)})}),i.jsxs(fe,{onClick:a,variant:"outline",className:"w-full mt-3",children:[i.jsx(yr,{className:"h-4 w-4 mr-2"}),"Ajouter une pièce"]})]}),VQ=({signatureManager:e,signatureTenant:t,onSignatureManager:n,onSignatureTenant:r})=>i.jsxs("div",{className:"bg-muted/30 border rounded-md p-6 mt-6",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Signatures"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx($t,{htmlFor:"signature-manager",className:"mb-2 block",children:"Signature du gestionnaire"}),i.jsx("div",{className:"border rounded min-h-24 bg-white flex items-center justify-center",children:e?i.jsx("div",{className:"italic",children:"Signature capturée"}):i.jsx(fe,{variant:"outline",onClick:n,children:"Capturer la signature"})})]}),i.jsxs("div",{children:[i.jsx($t,{htmlFor:"signature-tenant",className:"mb-2 block",children:"Signature du locataire"}),i.jsx("div",{className:"border rounded min-h-24 bg-white flex items-center justify-center",children:t?i.jsx("div",{className:"italic",children:"Signature capturée"}):i.jsx(fe,{variant:"outline",onClick:r,children:"Capturer la signature"})})]})]})]}),WQ=({selectedProperty:e,properties:t,inspectionDate:n,inspectionType:r,rooms:s,roomElements:a,isCreatingInspection:o,isLoadingRooms:l,signatureManager:c,signatureTenant:u,onSignatureManager:d,onSignatureTenant:h})=>{var p;const m=e?(p=t.find(w=>w.id===e))==null?void 0:p.address:"Aucun bien sélectionné";return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-muted/40 border rounded-md p-4 mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(zc,{className:"h-6 w-6 text-green-500"}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium",children:["État des lieux ",r==="entry"?"d'entrée":"de sortie"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[m," |",n?_n(new Date(n)," d MMMM yyyy",{locale:ss}):" Date non spécifiée"]})]})]})}),o||l?i.jsx("div",{className:"flex items-center justify-center h-40",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(sp,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Chargement des données..."})]})}):i.jsx("div",{className:"space-y-6",children:s.map(w=>{const v=a[w.id]||[],N=v.filter(x=>x.status!==null).length,y=v.length;return i.jsxs("div",{className:"border rounded-md overflow-hidden",children:[i.jsxs("div",{className:"bg-muted/40 px-4 py-3 flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium",children:w.name}),i.jsxs(Ve,{variant:"outline",children:[N,"/",y," éléments"]})]}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[v.filter(x=>x.status!==null).map(x=>i.jsxs("div",{className:"flex items-start justify-between gap-4 pb-2 border-b",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:x.label}),x.comment&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.comment})]}),x.status==="good"&&i.jsx(Ve,{className:"bg-green-50 text-green-700",children:"Bon état"}),x.status==="fair"&&i.jsx(Ve,{className:"bg-blue-50 text-blue-700",children:"État correct"}),x.status==="poor"&&i.jsx(Ve,{className:"bg-yellow-50 text-yellow-700",children:"État médiocre"}),x.status==="damaged"&&i.jsx(Ve,{className:"bg-red-50 text-red-700",children:"Endommagé"})]},x.id)),N===0&&i.jsx("p",{className:"text-muted-foreground text-sm",children:"Aucun élément complété dans cette pièce"})]})})]},w.id)})}),i.jsx(VQ,{signatureManager:c,signatureTenant:u,onSignatureManager:d,onSignatureTenant:h})]})},Tr=[];for(let e=0;e<256;++e)Tr.push((e+256).toString(16).slice(1));function HQ(e,t=0){return(Tr[e[t+0]]+Tr[e[t+1]]+Tr[e[t+2]]+Tr[e[t+3]]+"-"+Tr[e[t+4]]+Tr[e[t+5]]+"-"+Tr[e[t+6]]+Tr[e[t+7]]+"-"+Tr[e[t+8]]+Tr[e[t+9]]+"-"+Tr[e[t+10]]+Tr[e[t+11]]+Tr[e[t+12]]+Tr[e[t+13]]+Tr[e[t+14]]+Tr[e[t+15]]).toLowerCase()}let c2;const GQ=new Uint8Array(16);function YQ(){if(!c2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");c2=crypto.getRandomValues.bind(crypto)}return c2(GQ)}const KQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C3={randomUUID:KQ};function Ap(e,t,n){var s;if(C3.randomUUID&&!t&&!e)return C3.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??YQ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,HQ(r)}const JQ=[{id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11",address:"123 Rue de Paris, 75001 Paris"},{id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a12",address:"45 Avenue Victor Hugo, 69001 Lyon"}],XQ=[{id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a13",name:"Jean Dupont"},{id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a14",name:"Marie Martin"}],cb=[{name:"Entrée",elements:["Murs","Plafond","Sol","Porte d'entrée","Interphone"]},{name:"Salon",elements:["Murs","Plafond","Sol","Fenêtres","Prises électriques","Chauffage"]},{name:"Cuisine",elements:["Murs","Plafond","Sol","Évier","Robinetterie","Placards","Four","Plaque de cuisson"]},{name:"Chambre principale",elements:["Murs","Plafond","Sol","Fenêtres","Placards","Porte"]},{name:"Salle de bain",elements:["Murs","Plafond","Sol","Douche/Baignoire","Lavabo","Miroir","Robinetterie"]},{name:"Toilettes",elements:["Murs","Plafond","Sol","WC","Chasse d'eau"]}],ZQ=(e,t,n)=>({id:Ap(),property_id:e,created_by:t,date:new Date().toISOString(),type:n,status:"draft"}),k3=(e,t,n)=>({id:Ap(),inspection_id:e,name:t,position:n}),QQ=(e,t)=>({id:Ap(),room_id:e,label:t,status:null}),eee=()=>{const{toast:e}=dn(),[t,n]=b.useState(null),[r,s]=b.useState(null),[a,o]=b.useState("entry"),[l,c]=b.useState(new Date().toISOString().split("T")[0]),[u,d]=b.useState(""),[h,m]=b.useState(""),[p,w]=b.useState(null),[v,N]=b.useState(!1);return{selectedProperty:t,setSelectedProperty:n,selectedTenant:r,setSelectedTenant:s,inspectionType:a,setInspectionType:o,inspectionDate:l,setInspectionDate:c,signatureManager:u,setSignatureManager:d,signatureTenant:h,setSignatureTenant:m,inspection:p,setInspection:w,isCreatingInspection:v,setIsCreatingInspection:N,createMockInspection:ZQ,handleSaveInspection:()=>{e({title:"État des lieux enregistré",description:"L'état des lieux a été sauvegardé"})},handleGeneratePdf:()=>{if(!u||!h){e({title:"Signatures manquantes",description:"Les signatures du gestionnaire et du locataire sont requises",variant:"destructive"});return}e({title:"PDF généré",description:"L'état des lieux a été généré au format PDF"})}}},tee=()=>{const{toast:e}=dn(),[t,n]=b.useState([]),[r,s]=b.useState(null),[a,o]=b.useState(!1),[l,c]=b.useState(!1),u=async v=>{o(!0);try{const N=cb.map((y,x)=>k3(v,y.name,x));return n(N),N.length>0&&s(N[0].id),N}catch(N){return console.error("Error loading rooms:",N),e({title:"Erreur",description:"Impossible de charger les pièces",variant:"destructive"}),[]}finally{o(!1)}},d=async v=>{if(!p)return null;try{const N=t.length,y=k3(p,v,N);return n([...t,y]),s(y.id),c(!1),e({title:"Pièce ajoutée",description:`La pièce "${v}" a été ajoutée`}),y}catch(N){return console.error("Error adding room:",N),e({title:"Erreur",description:"Impossible d'ajouter la pièce",variant:"destructive"}),null}},h=v=>{n(t.map(N=>N.id===v.id?v:N))},m=async v=>{if(t.length===1){e({title:"Action impossible",description:"Vous ne pouvez pas supprimer la dernière pièce",variant:"destructive"});return}try{const N=t.filter(y=>y.id!==v);n(N),r===v&&N.length>0&&s(N[0].id),e({title:"Pièce supprimée",description:"La pièce a été supprimée"})}catch(N){console.error("Error deleting room:",N),e({title:"Erreur",description:"Impossible de supprimer la pièce",variant:"destructive"})}};let p=null;return{rooms:t,setRooms:n,selectedRoom:r,setSelectedRoom:s,isLoadingRooms:a,setIsLoadingRooms:o,showAddRoomDialog:l,setShowAddRoomDialog:c,loadRoomsMock:u,handleAddRoom:d,handleUpdateRoom:h,handleDeleteRoom:m,setInspectionId:v=>{p=v}}},nee=()=>{const{toast:e}=dn(),[t,n]=b.useState({}),r=p=>{const w={};for(const[v,N]of p.entries()){const x=(v<cb.length?cb[v].elements:[]).map(S=>QQ(N.id,S));w[N.id]=x}return n(w),w},s=async p=>{try{return{id:Ap(),room_id:p.room_id,label:p.label,status:p.status,comment:p.comment,photo_urls:p.photo_urls}}catch(w){throw console.error("Error creating element:",w),w}},a=p=>{for(const[w,v]of Object.entries(t)){const N=v.findIndex(y=>y.id===p);if(N!==-1)return{element:v[N],roomId:w,elementIndex:N}}return{element:null,roomId:null,elementIndex:-1}},o=p=>{n(w=>({...w,[p.room_id]:[...w[p.room_id]||[],p]}))},l=async p=>{try{const w=await s(p);return o(w),e({title:"Élément ajouté",description:`L'élément "${p.label}" a été ajouté`}),w}catch(w){throw console.error("Error creating element:",w),e({title:"Erreur",description:"Impossible d'ajouter l'élément",variant:"destructive"}),w}},c=async(p,w)=>{const{element:v,roomId:N,elementIndex:y}=a(p);if(!v||!N||y===-1)throw new Error("Element not found");return{...v,...w}},u=(p,w,v)=>{n(N=>{const y=N[p]||[];return{...N,[p]:[...y.slice(0,w),v,...y.slice(w+1)]}})},d=async(p,w)=>{try{const{element:v,roomId:N,elementIndex:y}=a(p);if(!v||!N||y===-1)throw new Error("Element not found");const x=await c(p,w);return u(N,y,x),x}catch(v){throw console.error("Error updating element:",v),e({title:"Erreur",description:"Impossible de mettre à jour l'élément",variant:"destructive"}),v}},h=(p,w)=>{n(v=>{const N=v[p]||[];return{...v,[p]:[...N.slice(0,w),...N.slice(w+1)]}})};return{roomElements:t,setRoomElements:n,initializeRoomElements:r,handleCreateElement:l,handleUpdateElement:d,handleDeleteElement:async p=>{try{const{roomId:w,elementIndex:v}=a(p);if(!w||v===-1)throw new Error("Element not found");h(w,v),e({title:"Élément supprimé",description:"L'élément a été supprimé"})}catch(w){console.error("Error deleting element:",w),e({title:"Erreur",description:"Impossible de supprimer l'élément",variant:"destructive"})}},findElementById:a,createElement:s,updateElement:c,deleteElementFromState:h,updateElementInState:u,addElementToRoom:o}},ree=()=>{const{toast:e}=dn(),{user:t}=sr(),n=eee(),r=tee(),s=nee(),{selectedProperty:a,setSelectedProperty:o,selectedTenant:l,setSelectedTenant:c,inspectionType:u,setInspectionType:d,inspectionDate:h,setInspectionDate:m,signatureManager:p,setSignatureManager:w,signatureTenant:v,setSignatureTenant:N,inspection:y,setInspection:x,isCreatingInspection:S,setIsCreatingInspection:k,createMockInspection:P,handleSaveInspection:z,handleGeneratePdf:B}=n,{rooms:R,setRooms:K,selectedRoom:ee,setSelectedRoom:M,isLoadingRooms:T,showAddRoomDialog:V,setShowAddRoomDialog:U,loadRoomsMock:oe,handleAddRoom:te,handleUpdateRoom:Q,handleDeleteRoom:I,setInspectionId:G}=r,{roomElements:ie,setRoomElements:ve,initializeRoomElements:A,handleCreateElement:q,handleUpdateElement:H,handleDeleteElement:ne}=s;b.useEffect(()=>{if(!a||!(t!=null&&t.id))return;(async()=>{k(!0);try{const de=P(a,t.id,u);x(de),G(de.id);const me=await oe(de.id);A(me)}catch(de){console.error("Error initializing inspection:",de),e({title:"Erreur",description:"Impossible de créer l'état des lieux",variant:"destructive"})}finally{k(!1)}})()},[a,l,u,t==null?void 0:t.id,e]);const re=b.useCallback(()=>{let se=0,de=0;return Object.values(ie).forEach(me=>{se+=me.length,de+=me.filter(Ce=>Ce.status!==null).length}),se===0?0:Math.round(de/se*100)},[ie]);return{selectedProperty:a,selectedTenant:l,inspectionType:u,inspectionDate:h,signatureManager:p,signatureTenant:v,inspection:y,rooms:R,roomElements:ie,selectedRoom:ee,isCreatingInspection:S,isLoadingRooms:T,showAddRoomDialog:V,mockProperties:JQ,mockTenants:XQ,setSelectedProperty:o,setSelectedTenant:c,setInspectionType:d,setInspectionDate:m,setSignatureManager:w,setSignatureTenant:N,setSelectedRoom:M,setShowAddRoomDialog:U,calculateCompletion:re,handleAddRoom:te,handleUpdateRoom:Q,handleDeleteRoom:I,handleCreateElement:q,handleUpdateElement:H,handleDeleteElement:ne,handleSaveInspection:z,handleGeneratePdf:B}},see=()=>{const{selectedProperty:e,selectedTenant:t,inspectionType:n,inspectionDate:r,signatureManager:s,signatureTenant:a,inspection:o,rooms:l,roomElements:c,selectedRoom:u,isCreatingInspection:d,isLoadingRooms:h,showAddRoomDialog:m,mockProperties:p,mockTenants:w,setSelectedProperty:v,setSelectedTenant:N,setInspectionType:y,setInspectionDate:x,setSignatureManager:S,setSignatureTenant:k,setShowAddRoomDialog:P,setSelectedRoom:z,calculateCompletion:B,handleAddRoom:R,handleUpdateRoom:K,handleDeleteRoom:ee,handleCreateElement:M,handleUpdateElement:T,handleDeleteElement:V,handleSaveInspection:U,handleGeneratePdf:oe}=ree(),te=B();return u&&c[u],i.jsxs($e,{className:"w-full",children:[i.jsxs(st,{children:[i.jsxs(it,{children:["État des lieux ",n==="entry"?"d'entrée":"de sortie"]}),i.jsx(qt,{children:"Complétez l'état des lieux pièce par pièce avec photos et commentaires"})]}),i.jsx(Ue,{className:"space-y-6",children:i.jsxs(fr,{defaultValue:"inspection",className:"w-full",children:[i.jsxs(ir,{className:"grid grid-cols-2",children:[i.jsx(Ke,{value:"inspection",children:"Inspection"}),i.jsx(Ke,{value:"summary",children:"Résumé et signature"})]}),i.jsxs(Ot,{value:"inspection",className:"space-y-4 pt-4",children:[i.jsx($Q,{properties:p,tenants:w,selectedProperty:e,selectedTenant:t,inspectionType:n,inspectionDate:r,isCreatingInspection:d,onPropertyChange:v,onTenantChange:N,onTypeChange:y,onDateChange:x}),d?i.jsx("div",{className:"flex items-center justify-center h-40",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(sp,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Création de l'état des lieux..."})]})}):o?i.jsxs(i.Fragment,{children:[i.jsx(UQ,{completionPercentage:te}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"md:col-span-1 space-y-4",children:[i.jsx(qQ,{rooms:l,roomElements:c,selectedRoom:u,isLoadingRooms:h,onRoomSelect:z,onAddRoomClick:()=>P(!0)}),i.jsxs(fe,{className:"w-full",variant:"outline",onClick:U,children:[i.jsx(nx,{className:"mr-2 h-4 w-4"}),"Enregistrer"]})]}),i.jsx("div",{className:"md:col-span-3",children:u?i.jsx(i.Fragment,{children:l.map(Q=>Q.id===u&&i.jsx(BQ,{room:Q,elements:c[Q.id]||[],onRoomUpdate:K,onRoomDelete:ee,onElementCreate:M,onElementUpdate:T,onElementDelete:V},Q.id))}):i.jsx("div",{className:"text-center p-8 border rounded-md",children:i.jsx("p",{className:"text-muted-foreground",children:"Sélectionnez une pièce pour commencer l'inspection"})})})]})]}):i.jsx("div",{className:"text-center p-8 border rounded-md",children:i.jsx("p",{className:"text-muted-foreground",children:"Sélectionnez un bien et un locataire pour commencer l'inspection"})})]}),i.jsx(Ot,{value:"summary",className:"space-y-4 pt-4",children:i.jsx(WQ,{selectedProperty:e,properties:p,inspectionDate:r,inspectionType:n,rooms:l,roomElements:c,isCreatingInspection:d,isLoadingRooms:h,signatureManager:s,signatureTenant:a,onSignatureManager:()=>S("mock-signature"),onSignatureTenant:()=>k("mock-signature")})})]})}),i.jsxs(pn,{className:"flex justify-between",children:[i.jsx(fe,{variant:"outline",children:"Annuler"}),i.jsxs(fe,{onClick:oe,children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"}),"Générer le PDF"]})]}),i.jsx(IQ,{open:m,onClose:()=>P(!1),onAddRoom:R})]})},iee=()=>i.jsx(Ur,{title:"État des lieux",children:i.jsx(see,{})}),id={id:"1",name:"Jean Dupont",email:"jean.dupont@example.com",phone:"06 12 34 56 78",address:"123 Rue de Paris, 75001 Paris",leaseStart:new Date("2022-10-01"),leaseEnd:new Date("2025-10-01"),monthlyRent:850},P3=[{id:"1",name:"Contrat de bail - Jean Dupont.pdf",type:"contract",format:"pdf",uploadDate:new Date("2022-09-25"),size:"1.2 MB"},{id:"2",name:"Quittance - Octobre 2023.pdf",type:"receipt",format:"pdf",uploadDate:new Date("2023-10-01"),size:"0.5 MB"},{id:"3",name:"Carte d'identité.jpg",type:"identification",format:"jpg",uploadDate:new Date("2022-09-15"),size:"2.1 MB"},{id:"4",name:"Assurance habitation 2023.pdf",type:"insurance",format:"pdf",uploadDate:new Date("2023-01-10"),size:"0.8 MB"},{id:"5",name:"RIB.pdf",type:"bank",format:"pdf",uploadDate:new Date("2022-09-15"),size:"0.3 MB"},{id:"6",name:"Email - Autorisation travaux.pdf",type:"communication",format:"pdf",uploadDate:new Date("2023-03-22"),size:"0.4 MB"},{id:"7",name:"État des lieux d'entrée.pdf",type:"inspection",format:"pdf",uploadDate:new Date("2022-10-01"),size:"3.5 MB"},{id:"8",name:"Photos - État des lieux d'entrée.zip",type:"inspection",format:"zip",uploadDate:new Date("2022-10-01"),size:"15.2 MB"}],aee=e=>({contract:"Contrat",receipt:"Quittance",identification:"Identification",insurance:"Assurance",bank:"Bancaire",communication:"Communication",inspection:"État des lieux"})[e],oee=e=>{switch(e){case"pdf":return i.jsx(Ut,{className:"h-4 w-4 text-red-500"});case"jpg":case"png":return i.jsx(Q0,{className:"h-4 w-4 text-blue-500"});case"zip":return i.jsx(c5,{className:"h-4 w-4 text-purple-500"});case"doc":case"docx":return i.jsx(lh,{className:"h-4 w-4 text-blue-800"});default:return i.jsx(lh,{className:"h-4 w-4 text-gray-500"})}},lee=()=>{const[e,t]=b.useState("all"),[n,r]=b.useState(""),s=P3.filter(a=>!(e!=="all"&&a.type!==e||n&&!a.name.toLowerCase().includes(n.toLowerCase())));return i.jsxs($e,{className:"w-full",children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Dossier du locataire"}),i.jsx(qt,{children:"Gérez tous les documents relatifs au locataire"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher...",className:"pl-9 w-full md:w-[250px]",value:n,onChange:a=>r(a.target.value)})]}),i.jsxs(fe,{children:[i.jsx(yr,{className:"mr-2 h-4 w-4"}),"Ajouter un document"]})]})]}),i.jsxs("div",{className:"pt-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-navy text-white flex items-center justify-center text-lg font-medium",children:id.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-lg",children:id.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:id.address})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[i.jsxs("div",{className:"border rounded-md p-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Début du bail"}),i.jsx("p",{className:"font-medium mt-1",children:_n(id.leaseStart,"d MMMM yyyy",{locale:ss})})]}),i.jsxs("div",{className:"border rounded-md p-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Fin du bail"}),i.jsx("p",{className:"font-medium mt-1",children:_n(id.leaseEnd,"d MMMM yyyy",{locale:ss})})]}),i.jsxs("div",{className:"border rounded-md p-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loyer mensuel"}),i.jsxs("p",{className:"font-medium mt-1",children:[id.monthlyRent," €"]})]}),i.jsxs("div",{className:"border rounded-md p-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Documents"}),i.jsxs("p",{className:"font-medium mt-1",children:[P3.length," fichiers"]})]})]})]}),i.jsx(fr,{defaultValue:"all",value:e,onValueChange:t,className:"mt-6",children:i.jsxs(ir,{className:"grid grid-cols-4 md:grid-cols-8",children:[i.jsx(Ke,{value:"all",children:"Tous"}),i.jsx(Ke,{value:"contract",children:"Contrats"}),i.jsx(Ke,{value:"receipt",children:"Quittances"}),i.jsx(Ke,{value:"inspection",children:"États des lieux"}),i.jsx(Ke,{value:"identification",children:"ID"}),i.jsx(Ke,{value:"insurance",children:"Assurance"}),i.jsx(Ke,{value:"bank",children:"Bancaire"}),i.jsx(Ke,{value:"communication",children:"Communication"})]})})]}),i.jsx(Ue,{children:i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Nom"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Type"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Date"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden lg:table-cell",children:"Taille"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),i.jsx("tbody",{children:s.map(a=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[oee(a.format),i.jsx("span",{className:"font-medium",children:a.name})]})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx(Ve,{variant:"outline",children:aee(a.type)})}),i.jsx("td",{className:"py-3 px-4",children:_n(a.uploadDate,"dd/MM/yyyy")}),i.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:a.size}),i.jsx("td",{className:"py-3 px-4 text-center",children:i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx(fe,{variant:"ghost",size:"icon",title:"Télécharger",children:i.jsx(zr,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",title:"Voir",children:i.jsx(oh,{className:"h-4 w-4"})}),i.jsxs(Vx,{children:[i.jsx(Wx,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon",children:i.jsx(Z0,{className:"h-4 w-4"})})}),i.jsxs(bp,{align:"end",children:[i.jsx(jp,{children:"Actions"}),i.jsx(zo,{}),i.jsxs(hr,{children:[i.jsx(oh,{className:"mr-2 h-4 w-4"})," Voir"]}),i.jsxs(hr,{children:[i.jsx(zr,{className:"mr-2 h-4 w-4"})," Télécharger"]}),i.jsxs(hr,{children:[i.jsx(qk,{className:"mr-2 h-4 w-4"})," Dupliquer"]}),i.jsxs(hr,{children:[i.jsx(sx,{className:"mr-2 h-4 w-4"})," Partager"]}),i.jsx(zo,{}),i.jsxs(hr,{className:"text-destructive",children:[i.jsx(op,{className:"mr-2 h-4 w-4"})," Supprimer"]})]})]})]})})]},a.id))})]}),s.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx(Ut,{className:"h-12 w-12 mx-auto text-muted-foreground"}),i.jsx("h3",{className:"font-medium text-lg mt-4",children:"Aucun document trouvé"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Aucun document ne correspond à votre recherche"}),i.jsxs(fe,{className:"mt-4",children:[i.jsx(yr,{className:"mr-2 h-4 w-4"}),"Ajouter un document"]})]})]})})]})},cee=()=>i.jsx(Ur,{title:"Dossier du locataire",children:i.jsx(lee,{})}),Pc={id:"1",address:"123 Rue de Paris",city:"Paris",postalCode:"75001",size:65,rooms:3,tenant:"Jean Dupont",status:"occupied",monthlyRent:850},uee=[{id:"1",name:"Contrat de bail actuel.pdf",type:"contract",format:"pdf",uploadDate:new Date("2022-09-25"),size:"1.2 MB"},{id:"2",name:"État des lieux d'entrée - Dupont.pdf",type:"inspection",format:"pdf",uploadDate:new Date("2022-10-01"),size:"3.5 MB"},{id:"3",name:"DPE 2022.pdf",type:"diagnostic",format:"pdf",uploadDate:new Date("2022-01-15"),size:"2.1 MB"},{id:"4",name:"Diagnostic électrique.pdf",type:"diagnostic",format:"pdf",uploadDate:new Date("2022-01-15"),size:"1.8 MB"},{id:"5",name:"Attestation d'assurance PNO 2023.pdf",type:"insurance",format:"pdf",uploadDate:new Date("2023-01-10"),size:"0.7 MB"},{id:"6",name:"Facture réparation plomberie.pdf",type:"maintenance",format:"pdf",uploadDate:new Date("2023-03-22"),size:"0.5 MB"},{id:"7",name:"Taxe foncière 2022.pdf",type:"tax",format:"pdf",uploadDate:new Date("2022-10-15"),size:"0.4 MB"},{id:"8",name:"Photos bien - Septembre 2022.zip",type:"photo",format:"zip",uploadDate:new Date("2022-09-15"),size:"15.2 MB"}],dee=e=>({contract:"Contrat",inspection:"État des lieux",diagnostic:"Diagnostic",insurance:"Assurance",maintenance:"Maintenance",tax:"Impôts",photo:"Photos"})[e],hee=e=>{switch(e){case"pdf":return i.jsx(Ut,{className:"h-4 w-4 text-red-500"});case"jpg":case"png":return i.jsx(Q0,{className:"h-4 w-4 text-blue-500"});case"zip":return i.jsx(c5,{className:"h-4 w-4 text-purple-500"});case"doc":case"docx":return i.jsx(lh,{className:"h-4 w-4 text-blue-800"});default:return i.jsx(lh,{className:"h-4 w-4 text-gray-500"})}},fee=()=>{const[e,t]=b.useState("all"),[n,r]=b.useState(""),s=uee.filter(a=>!(e!=="all"&&a.type!==e||n&&!a.name.toLowerCase().includes(n.toLowerCase())));return i.jsxs($e,{className:"w-full",children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Dossier du bien immobilier"}),i.jsx(qt,{children:"Gérez tous les documents relatifs à ce bien"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher...",className:"pl-9 w-full md:w-[250px]",value:n,onChange:a=>r(a.target.value)})]}),i.jsxs(fe,{children:[i.jsx(yr,{className:"mr-2 h-4 w-4"}),"Ajouter un document"]})]})]}),i.jsxs("div",{className:"pt-4",children:[i.jsxs("div",{className:"flex items-start md:items-center gap-4",children:[i.jsx("div",{className:"h-16 w-16 bg-muted rounded-md flex items-center justify-center shrink-0",children:i.jsx(rs,{className:"h-8 w-8 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-lg",children:Pc.address}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[Pc.postalCode," ",Pc.city]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[i.jsxs("div",{className:"border rounded-md p-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Surface"}),i.jsxs("p",{className:"font-medium mt-1",children:[Pc.size," m²"]})]}),i.jsxs("div",{className:"border rounded-md p-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pièces"}),i.jsxs("p",{className:"font-medium mt-1",children:[Pc.rooms," pièces"]})]}),i.jsxs("div",{className:"border rounded-md p-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loyer mensuel"}),i.jsxs("p",{className:"font-medium mt-1",children:[Pc.monthlyRent," €"]})]}),i.jsxs("div",{className:"border rounded-md p-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Statut"}),i.jsxs("p",{className:"font-medium mt-1 flex items-center",children:[i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Occupé"}),i.jsx("span",{className:"ml-2",children:Pc.tenant})]})]})]})]}),i.jsx(fr,{defaultValue:"all",value:e,onValueChange:t,className:"mt-6",children:i.jsxs(ir,{className:"grid grid-cols-4 md:grid-cols-7",children:[i.jsx(Ke,{value:"all",children:"Tous"}),i.jsx(Ke,{value:"contract",children:"Contrats"}),i.jsx(Ke,{value:"inspection",children:"États des lieux"}),i.jsx(Ke,{value:"diagnostic",children:"Diagnostics"}),i.jsx(Ke,{value:"insurance",children:"Assurance"}),i.jsx(Ke,{value:"maintenance",children:"Maintenance"}),i.jsx(Ke,{value:"photo",children:"Photos"})]})})]}),i.jsx(Ue,{children:i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Nom"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Type"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Date"}),i.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground hidden lg:table-cell",children:"Taille"}),i.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),i.jsx("tbody",{children:s.map(a=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[hee(a.format),i.jsx("span",{className:"font-medium",children:a.name})]})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx(Ve,{variant:"outline",children:dee(a.type)})}),i.jsx("td",{className:"py-3 px-4",children:_n(a.uploadDate,"dd/MM/yyyy")}),i.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:a.size}),i.jsx("td",{className:"py-3 px-4 text-center",children:i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx(fe,{variant:"ghost",size:"icon",title:"Télécharger",children:i.jsx(zr,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"ghost",size:"icon",title:"Voir",children:i.jsx(oh,{className:"h-4 w-4"})}),i.jsxs(Vx,{children:[i.jsx(Wx,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon",children:i.jsx(Z0,{className:"h-4 w-4"})})}),i.jsxs(bp,{align:"end",children:[i.jsx(jp,{children:"Actions"}),i.jsx(zo,{}),i.jsxs(hr,{children:[i.jsx(oh,{className:"mr-2 h-4 w-4"})," Voir"]}),i.jsxs(hr,{children:[i.jsx(zr,{className:"mr-2 h-4 w-4"})," Télécharger"]}),i.jsxs(hr,{children:[i.jsx(qk,{className:"mr-2 h-4 w-4"})," Dupliquer"]}),i.jsxs(hr,{children:[i.jsx(sx,{className:"mr-2 h-4 w-4"})," Partager"]}),i.jsx(zo,{}),i.jsxs(hr,{className:"text-destructive",children:[i.jsx(op,{className:"mr-2 h-4 w-4"})," Supprimer"]})]})]})]})})]},a.id))})]}),s.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx(Ut,{className:"h-12 w-12 mx-auto text-muted-foreground"}),i.jsx("h3",{className:"font-medium text-lg mt-4",children:"Aucun document trouvé"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Aucun document ne correspond à votre recherche"}),i.jsxs(fe,{className:"mt-4",children:[i.jsx(yr,{className:"mr-2 h-4 w-4"}),"Ajouter un document"]})]})]})})]})},mee=()=>i.jsx(Ur,{title:"Dossier du bien",children:i.jsx(fee,{})}),pee=[{id:"1",title:"Appartement lumineux au centre-ville",propertyId:"property-1",address:"123 Rue de Paris, Paris 75001",price:1200,area:65,rooms:3,status:"active",channels:["leboncoin","seloger","bienici"],views:254,applications:12,publishedAt:new Date("2023-08-10"),description:"Bel appartement rénové en plein centre-ville, à proximité des transports et commerces.",features:["Ascenseur","Balcon","Cuisine équipée","Parking"]},{id:"2",title:"Maison avec jardin proche gare",propertyId:"property-3",address:"8 Rue des Fleurs, Bordeaux 33000",price:1500,area:120,rooms:5,status:"draft",channels:[],views:0,applications:0,publishedAt:null,description:"Grande maison familiale avec jardin privatif dans un quartier calme à 10 minutes de la gare.",features:["Jardin","Garage","Cuisine ouverte","Terrasse"]}],A3=[{id:"leboncoin",name:"LeBonCoin",icon:"🏠",color:"orange"},{id:"seloger",name:"SeLoger",icon:"🔍",color:"red"},{id:"bienici",name:"Bien'ici",icon:"🏘️",color:"blue"},{id:"pap",name:"PAP",icon:"📝",color:"green"},{id:"logicimmo",name:"LogicImmo",icon:"🏢",color:"purple"}];function gee(){const[e,t]=b.useState("active"),{toast:n}=dn(),[r,s]=b.useState(null),a=pee.filter(c=>e==="active"?c.status==="active":e==="draft"?c.status==="draft":!0),o=c=>{n({title:"Annonce publiée",description:"L'annonce a été distribuée sur les plateformes sélectionnées."})},l=c=>{s(c)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Diffusion d'annonces"}),i.jsx(qt,{children:"Créez et diffusez vos annonces sur plusieurs plateformes"})]}),i.jsx("div",{children:i.jsxs(fe,{children:[i.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Créer une annonce"]})})]}),i.jsx(fr,{defaultValue:"active",value:e,onValueChange:t,className:"mt-6",children:i.jsxs(ir,{className:"grid grid-cols-3",children:[i.jsx(Ke,{value:"all",children:"Toutes"}),i.jsx(Ke,{value:"active",children:"Actives"}),i.jsx(Ke,{value:"draft",children:"Brouillons"})]})})]}),i.jsx(Ue,{children:i.jsx("div",{className:"space-y-4",children:a.length===0?i.jsx("div",{className:"text-center py-10",children:i.jsx("p",{className:"text-muted-foreground",children:"Aucune annonce trouvée dans cette catégorie."})}):a.map(c=>i.jsx($e,{children:i.jsx(Ue,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start",children:[i.jsx("div",{className:"bg-gray-100 w-full md:w-48 h-32 flex items-center justify-center rounded",children:i.jsx(Ro,{size:36,className:"text-gray-400"})}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h3",{className:"font-medium",children:c.title}),c.status==="active"?i.jsx(Ve,{variant:"default",children:"Active"}):i.jsx(Ve,{variant:"secondary",children:"Brouillon"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.address}),i.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[c.price,"€/mois"]}),i.jsx("span",{className:"text-muted-foreground",children:"•"}),i.jsxs("span",{className:"text-muted-foreground",children:[c.area," m²"]}),i.jsx("span",{className:"text-muted-foreground",children:"•"}),i.jsxs("span",{className:"text-muted-foreground",children:[c.rooms," pièces"]})]}),c.status==="active"&&i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("div",{className:"flex gap-1 flex-wrap",children:c.channels.map(u=>{const d=A3.find(h=>h.id===u);return d?i.jsxs(Ve,{variant:"outline",className:"flex gap-1 items-center",children:[i.jsx("span",{children:d.icon}),i.jsx("span",{children:d.name})]},u):null})}),i.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(zk,{size:14}),i.jsxs("span",{children:[c.views," vues"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ax,{size:14}),i.jsxs("span",{children:[c.applications," candidatures"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(sI,{size:14}),i.jsxs("span",{children:["En ligne depuis ",c.publishedAt?Math.floor((Date.now()-c.publishedAt.getTime())/(1e3*60*60*24)):0," jours"]})]})]})]})]}),i.jsxs("div",{className:"w-full md:w-auto flex gap-2 mt-3 md:mt-0",children:[i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>l(c.id),children:[i.jsx(d5,{size:14,className:"mr-1"}),"Éditer"]}),c.status==="draft"&&i.jsxs(fe,{size:"sm",onClick:()=>o(c.id),children:[i.jsx(h5,{size:14,className:"mr-1"}),"Publier"]})]})]})})},c.id))})})]}),i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsx(it,{children:"Distribution des annonces"}),i.jsx(qt,{children:"Gérez vos connexions avec les plateformes immobilières"})]}),i.jsx(Ue,{children:i.jsx("div",{className:"space-y-4",children:A3.map(c=>i.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center bg-${c.color}-100`,children:i.jsx("span",{className:"text-lg",children:c.icon})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:c.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:c.id==="leboncoin"||c.id==="seloger"?"Connecté":"Non connecté"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gs,{id:`channel-${c.id}`,checked:c.id==="leboncoin"||c.id==="seloger"}),i.jsx(fe,{variant:"ghost",size:"icon",children:i.jsx(z7,{size:16})})]})]},c.id))})}),i.jsx(pn,{className:"border-t",children:i.jsx(fe,{variant:"outline",children:"Configurer les connexions API"})})]})]})}const vee=()=>i.jsx(Ur,{title:"Diffusion d'annonces",children:i.jsx(gee,{})}),xee=[{id:"1",propertyId:"prop-1",date:"2023-08-01",description:"Loyer Août 2023",category:"rent",amount:1200},{id:"2",propertyId:"prop-1",date:"2023-09-01",description:"Loyer Septembre 2023",category:"rent",amount:1200},{id:"3",propertyId:"prop-2",date:"2023-08-05",description:"Loyer Août 2023",category:"rent",amount:950},{id:"4",propertyId:"prop-2",date:"2023-09-05",description:"Loyer Septembre 2023",category:"rent",amount:950},{id:"5",propertyId:"prop-1",date:"2023-08-15",description:"Paiement charges récupérables",category:"charges",amount:150}],yee=[{id:"1",propertyId:"prop-1",date:"2023-07-15",description:"Réparation plomberie",category:"maintenance",amount:320},{id:"2",propertyId:"prop-1",date:"2023-08-10",description:"Taxe foncière",category:"tax",amount:750},{id:"3",propertyId:"prop-2",date:"2023-09-02",description:"Changement serrure",category:"maintenance",amount:180},{id:"4",propertyId:"prop-2",date:"2023-08-05",description:"Charges copropriété",category:"charges",amount:210},{id:"5",propertyId:"prop-1",date:"2023-09-15",description:"Assurance propriétaire",category:"insurance",amount:95}],Pj=[{id:"prop-1",address:"123 Rue de Paris, Paris 75001"},{id:"prop-2",address:"45 Avenue Victor Hugo, Lyon 69001"},{id:"prop-3",address:"8 Rue des Fleurs, Bordeaux 33000"}],wee=({selectedProperty:e,setSelectedProperty:t,selectedYear:n,setSelectedYear:r,selectedMonth:s,setSelectedMonth:a})=>i.jsxs("div",{className:"flex flex-col md:flex-row items-center mb-6 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full",children:[i.jsxs(xn,{value:e,onValueChange:t,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionner un bien"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"all",children:"Tous les biens"}),Pj.map(o=>i.jsx(Oe,{value:o.id,children:o.address},o.id))]})]}),i.jsxs(xn,{value:n,onValueChange:r,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Année"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"2023",children:"2023"}),i.jsx(Oe,{value:"2022",children:"2022"}),i.jsx(Oe,{value:"2021",children:"2021"})]})]}),i.jsxs(xn,{value:s,onValueChange:a,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Mois"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"all",children:"Tous les mois"}),i.jsx(Oe,{value:"0",children:"Janvier"}),i.jsx(Oe,{value:"1",children:"Février"}),i.jsx(Oe,{value:"2",children:"Mars"}),i.jsx(Oe,{value:"3",children:"Avril"}),i.jsx(Oe,{value:"4",children:"Mai"}),i.jsx(Oe,{value:"5",children:"Juin"}),i.jsx(Oe,{value:"6",children:"Juillet"}),i.jsx(Oe,{value:"7",children:"Août"}),i.jsx(Oe,{value:"8",children:"Septembre"}),i.jsx(Oe,{value:"9",children:"Octobre"}),i.jsx(Oe,{value:"10",children:"Novembre"}),i.jsx(Oe,{value:"11",children:"Décembre"})]})]})]}),i.jsx(fe,{variant:"outline",size:"icon",children:i.jsx(u5,{className:"h-4 w-4"})})]}),Aj=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:et("w-full caption-bottom text-sm",e),...t})}));Aj.displayName="Table";const Ej=b.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:et("[&_tr]:border-b",e),...t}));Ej.displayName="TableHeader";const Lj=b.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:et("[&_tr:last-child]:border-0",e),...t}));Lj.displayName="TableBody";const bee=b.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:et("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));bee.displayName="TableFooter";const Kc=b.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:et("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Kc.displayName="TableRow";const na=b.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:et("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));na.displayName="TableHead";const ei=b.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:et("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ei.displayName="TableCell";const jee=b.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:et("mt-4 text-sm text-muted-foreground",e),...t}));jee.displayName="TableCaption";const E3=(e,t,n,r)=>e.filter(s=>{if(t!=="all"&&s.propertyId!==t)return!1;const a=new Date(s.date);return!(n&&a.getFullYear().toString()!==n||r!=="all"&&a.getMonth().toString()!==r)}),L3=e=>e.reduce((t,n)=>t+n.amount,0),gT=e=>{switch(e){case"rent":return"Loyer";case"charges":return"Charges";case"maintenance":return"Entretien";case"tax":return"Impôts";case"insurance":return"Assurance";case"other":return"Autre";default:return e}},Nee=()=>{const[e,t]=b.useState(!1),{toast:n}=dn(),{user:r}=sr();return{addRevenue:async a=>{if(!r)return n({title:"Erreur",description:"Vous devez être connecté pour ajouter un revenu.",variant:"destructive"}),null;t(!0);try{const{data:o,error:l}=await Kt.from("revenues").insert({...a,manager_id:r.id}).select().single();if(l)throw l;return n({title:"Succès",description:"Revenu ajouté avec succès."}),o}catch(o){return n({title:"Erreur",description:"Impossible d'ajouter le revenu. Réessayez.",variant:"destructive"}),console.error("Error adding revenue:",o),null}finally{t(!1)}},isLoading:e}},_ee=({value:e,onChange:t,categories:n})=>i.jsxs(xn,{onValueChange:t,value:e,children:[i.jsx(Ir,{children:i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionnez une catégorie"})})}),i.jsx(un,{children:n.map(r=>i.jsx(Oe,{value:r.id,children:r.name},r.id))})]}),See=({value:e,onChange:t,userId:n})=>{const{properties:r,isLoading:s}=EL(n);return i.jsxs(xn,{onValueChange:t,value:e,disabled:s,children:[i.jsx(Ir,{children:i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionnez une propriété"})})}),i.jsx(un,{children:r&&r.length>0?r.map(a=>i.jsxs(Oe,{value:a.id,children:[a.address,", ",a.city]},a.id)):i.jsx(Oe,{value:"no-properties",disabled:!0,children:"Aucune propriété disponible"})})]})};var Tj="Popover",[vT,wne]=pa(Tj,[ac]),Ep=ac(),[Cee,mc]=vT(Tj),xT=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=Ep(t),c=b.useRef(null),[u,d]=b.useState(!1),[h=!1,m]=Ya({prop:r,defaultProp:s,onChange:a});return i.jsx(ux,{...l,children:i.jsx(Cee,{scope:t,contentId:Pi(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:o,children:n})})};xT.displayName=Tj;var yT="PopoverAnchor",kee=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=mc(yT,n),a=Ep(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return b.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(cp,{...a,...r,ref:t})});kee.displayName=yT;var wT="PopoverTrigger",bT=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=mc(wT,n),a=Ep(n),o=zt(t,s.triggerRef),l=i.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":CT(s.open),...r,ref:o,onClick:qe(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(cp,{asChild:!0,...a,children:l})});bT.displayName=wT;var Mj="PopoverPortal",[Pee,Aee]=vT(Mj,{forceMount:void 0}),jT=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=mc(Mj,t);return i.jsx(Pee,{scope:t,forceMount:n,children:i.jsx($r,{present:n||a.open,children:i.jsx(Sh,{asChild:!0,container:s,children:r})})})};jT.displayName=Mj;var bh="PopoverContent",NT=b.forwardRef((e,t)=>{const n=Aee(bh,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=mc(bh,e.__scopePopover);return i.jsx($r,{present:r||a.open,children:a.modal?i.jsx(Eee,{...s,ref:t}):i.jsx(Lee,{...s,ref:t})})});NT.displayName=bh;var Eee=b.forwardRef((e,t)=>{const n=mc(bh,e.__scopePopover),r=b.useRef(null),s=zt(t,r),a=b.useRef(!1);return b.useEffect(()=>{const o=r.current;if(o)return Ox(o)},[]),i.jsx(gp,{as:Ga,allowPinchZoom:!0,children:i.jsx(_T,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:qe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Lee=b.forwardRef((e,t)=>{const n=mc(bh,e.__scopePopover),r=b.useRef(!1),s=b.useRef(!1);return i.jsx(_T,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),_T=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,m=mc(bh,n),p=Ep(n);return Ix(),i.jsx(pp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(fu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:i.jsx(dx,{"data-state":CT(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ST="PopoverClose",Tee=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=mc(ST,n);return i.jsx(ut.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,()=>s.onOpenChange(!1))})});Tee.displayName=ST;var Mee="PopoverArrow",Ree=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ep(n);return i.jsx(hx,{...s,...r,ref:t})});Ree.displayName=Mee;function CT(e){return e?"open":"closed"}var Dee=xT,Iee=bT,Oee=jT,kT=NT;const Fee=Dee,zee=Iee,PT=b.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>i.jsx(Oee,{children:i.jsx(kT,{ref:s,align:t,sideOffset:n,className:et("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));PT.displayName=kT.displayName;const Bee=({date:e,onDateChange:t})=>i.jsxs(Fee,{children:[i.jsx(zee,{asChild:!0,children:i.jsx(Ir,{children:i.jsxs(fe,{variant:"outline",className:et("w-full pl-3 text-left font-normal",!e&&"text-muted-foreground"),children:[e?_n(e,"PPP",{locale:ss}):i.jsx("span",{children:"Sélectionnez une date"}),i.jsx(Bs,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),i.jsx(PT,{className:"w-auto p-0",align:"start",children:i.jsx(Pp,{mode:"single",selected:e,onSelect:t,disabled:n=>n>new Date,initialFocus:!0})})]}),$ee=({onAddCategory:e})=>{const[t,n]=b.useState(!1),[r,s]=b.useState(""),[a,o]=b.useState(!1),l=async c=>{if(c.preventDefault(),!!r.trim()){o(!0);try{await e(r),s(""),n(!1)}finally{o(!1)}}};return i.jsxs(hc,{open:t,onOpenChange:n,children:[i.jsx(J5,{asChild:!0,children:i.jsxs(fe,{variant:"outline",size:"sm",className:"mt-1",children:[i.jsx(yr,{className:"h-4 w-4 mr-1"}),"Ajouter une catégorie"]})}),i.jsxs(Vo,{children:[i.jsx(Wo,{children:i.jsx(fc,{children:"Ajouter une nouvelle catégorie"})}),i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"category-name",className:"text-sm font-medium",children:"Nom de la catégorie"}),i.jsx(St,{id:"category-name",value:r,onChange:c=>s(c.target.value),placeholder:"Nom de la catégorie"})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(fe,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Annuler"}),i.jsx(fe,{type:"submit",disabled:!r.trim()||a,children:a?"Ajout en cours...":"Ajouter"})]})]})]})]})},Uee=e=>{const[t,n]=b.useState([]),[r,s]=b.useState(!1),{toast:a}=dn(),o=async()=>{if(e){s(!0);try{const{data:u,error:d}=await Kt.from("revenue_categories").select("id, name, manager_id, created_at").eq("manager_id",e);if(d)throw d;const h=[{id:"loyer",name:"Loyer",manager_id:"default",created_at:new Date().toISOString()},{id:"charges",name:"Charges",manager_id:"default",created_at:new Date().toISOString()},{id:"autre",name:"Autre",manager_id:"default",created_at:new Date().toISOString()}];n([...h,...u||[]])}catch(u){console.error("Error fetching revenue categories:",u),a({title:"Erreur",description:"Impossible de charger les catégories de revenus",variant:"destructive"})}finally{s(!1)}}},l=async u=>{if(!e||!u.trim())return null;try{const{data:d,error:h}=await Kt.from("revenue_categories").insert({name:u.trim(),manager_id:e}).select("id, name, manager_id, created_at").single();if(h)throw h;return n(m=>[...m,d]),a({title:"Succès",description:"Catégorie ajoutée avec succès"}),d}catch(d){return console.error("Error adding revenue category:",d),a({title:"Erreur",description:"Impossible d'ajouter la catégorie",variant:"destructive"}),null}},c=async u=>{if(!e||!u)return!1;if(["loyer","charges","autre"].includes(u))return a({title:"Information",description:"Les catégories par défaut ne peuvent pas être supprimées",variant:"default"}),!1;try{const{error:d}=await Kt.from("revenue_categories").delete().eq("id",u).eq("manager_id",e);if(d)throw d;return n(h=>h.filter(m=>m.id!==u)),a({title:"Succès",description:"Catégorie supprimée avec succès"}),!0}catch(d){return console.error("Error deleting revenue category:",d),a({title:"Erreur",description:"Impossible de supprimer la catégorie",variant:"destructive"}),!1}};return b.useEffect(()=>{o()},[e]),{categories:t,isLoading:r,addCategory:l,deleteCategory:c,refreshCategories:o}},qee=Si.object({property_id:Si.string().min(1,"Sélectionnez une propriété"),category_id:Si.string().min(1,"Sélectionnez une catégorie"),amount:Si.number().positive("Le montant doit être positif"),date:Si.date(),description:Si.string().min(1,"La description est requise")}),Vee=({onSuccess:e,userId:t})=>{const{addRevenue:n,isLoading:r}=Nee(),{categories:s,addCategory:a,refreshCategories:o}=Uee(t),l=wA({resolver:jA(qee),defaultValues:{category_id:"",date:new Date,amount:0,description:""}}),c=async d=>{const h=s.find(p=>p.id===d.category_id);if(!h){console.error("Category not found");return}await n({property_id:d.property_id,date:_n(d.date,"yyyy-MM-dd"),description:d.description,amount:d.amount,category:h.name})&&(l.reset(),e())},u=async d=>{const h=await a(d);h&&(o(),l.setValue("category_id",h.id))};return i.jsx(NA,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[i.jsx(Qr,{control:l.control,name:"property_id",render:({field:d})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Propriété"}),i.jsx(See,{value:d.value,onChange:d.onChange,userId:t}),i.jsx(Or,{})]})}),i.jsx(Qr,{control:l.control,name:"category_id",render:({field:d})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Catégorie"}),i.jsx(_ee,{value:d.value,onChange:d.onChange,categories:s}),i.jsx($ee,{onAddCategory:u}),i.jsx(Or,{})]})}),i.jsx(Qr,{control:l.control,name:"amount",render:({field:d})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Montant (€)"}),i.jsx(Ir,{children:i.jsx(St,{type:"number",placeholder:"Entrez le montant",...d,onChange:h=>d.onChange(Number(h.target.value))})}),i.jsx(Or,{})]})}),i.jsx(Qr,{control:l.control,name:"date",render:({field:d})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Date"}),i.jsx(Bee,{date:d.value,onDateChange:d.onChange}),i.jsx(Or,{})]})}),i.jsx(Qr,{control:l.control,name:"description",render:({field:d})=>i.jsxs(Rr,{children:[i.jsx(Dr,{children:"Description"}),i.jsx(Ir,{children:i.jsx(St,{placeholder:"Description du revenu",...d})}),i.jsx(Or,{})]})}),i.jsx(fe,{type:"submit",disabled:r,children:r?"Ajout en cours...":"Ajouter le revenu"})]})})},Wee=()=>{const{user:e}=sr(),[t,n]=b.useState(!1);return i.jsxs(hc,{open:t,onOpenChange:n,children:[i.jsx(J5,{asChild:!0,children:i.jsxs(fe,{variant:"ghost",size:"sm",children:[i.jsx($k,{className:"h-4 w-4 mr-2"}),"Ajouter un revenu"]})}),i.jsxs(Vo,{children:[i.jsx(Wo,{children:i.jsx(fc,{children:"Ajouter un revenu"})}),i.jsx(Vee,{onSuccess:()=>n(!1),userId:e==null?void 0:e.id})]})]})},Hee=({filteredIncome:e,totalIncome:t})=>i.jsxs(i.Fragment,{children:[i.jsx(Np,{className:"h-[400px]",children:i.jsxs(Aj,{children:[i.jsx(Ej,{children:i.jsxs(Kc,{children:[i.jsx(na,{children:"Date"}),i.jsx(na,{children:"Bien"}),i.jsx(na,{children:"Description"}),i.jsx(na,{children:"Catégorie"}),i.jsx(na,{className:"text-right",children:"Montant (€)"})]})}),i.jsx(Lj,{children:e.length===0?i.jsx(Kc,{children:i.jsx(ei,{colSpan:5,className:"text-center",children:"Aucun revenu trouvé pour cette période"})}):e.map(n=>{const r=Pj.find(s=>s.id===n.propertyId);return i.jsxs(Kc,{children:[i.jsx(ei,{children:new Date(n.date).toLocaleDateString("fr-FR")}),i.jsx(ei,{children:r?r.address.substring(0,20)+"...":"N/A"}),i.jsx(ei,{children:n.description}),i.jsx(ei,{children:gT(n.category)}),i.jsx(ei,{className:"text-right font-medium",children:n.amount.toFixed(2)})]},n.id)})})]})}),i.jsxs("div",{className:"flex justify-between items-center mt-4 py-2 border-t",children:[i.jsx(Wee,{}),i.jsxs("div",{className:"font-medium",children:["Total: ",i.jsxs("span",{className:"text-green-600",children:[t.toFixed(2),"€"]})]})]})]}),Gee=({filteredExpenses:e,totalExpenses:t})=>i.jsxs(i.Fragment,{children:[i.jsx(Np,{className:"h-[400px]",children:i.jsxs(Aj,{children:[i.jsx(Ej,{children:i.jsxs(Kc,{children:[i.jsx(na,{children:"Date"}),i.jsx(na,{children:"Bien"}),i.jsx(na,{children:"Description"}),i.jsx(na,{children:"Catégorie"}),i.jsx(na,{className:"text-right",children:"Montant (€)"})]})}),i.jsx(Lj,{children:e.length===0?i.jsx(Kc,{children:i.jsx(ei,{colSpan:5,className:"text-center",children:"Aucune dépense trouvée pour cette période"})}):e.map(n=>{const r=Pj.find(s=>s.id===n.propertyId);return i.jsxs(Kc,{children:[i.jsx(ei,{children:new Date(n.date).toLocaleDateString("fr-FR")}),i.jsx(ei,{children:r?r.address.substring(0,20)+"...":"N/A"}),i.jsx(ei,{children:n.description}),i.jsx(ei,{children:gT(n.category)}),i.jsx(ei,{className:"text-right font-medium",children:n.amount.toFixed(2)})]},n.id)})})]})}),i.jsxs("div",{className:"flex justify-between items-center mt-4 py-2 border-t",children:[i.jsxs(fe,{variant:"ghost",size:"sm",children:[i.jsx($k,{className:"h-4 w-4 mr-2"}),"Ajouter une dépense"]}),i.jsxs("div",{className:"font-medium",children:["Total: ",i.jsxs("span",{className:"text-red-600",children:[t.toFixed(2),"€"]})]})]})]}),Yee=({totalIncome:e,totalExpenses:t,netIncome:n,handleExportData:r})=>i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs($e,{children:[i.jsx(st,{className:"py-4",children:i.jsx(it,{className:"text-sm text-muted-foreground",children:"Revenus totaux"})}),i.jsx(Ue,{className:"py-0",children:i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.toFixed(2),"€"]})})]}),i.jsxs($e,{children:[i.jsx(st,{className:"py-4",children:i.jsx(it,{className:"text-sm text-muted-foreground",children:"Dépenses totales"})}),i.jsx(Ue,{className:"py-0",children:i.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[t.toFixed(2),"€"]})})]}),i.jsxs($e,{children:[i.jsx(st,{className:"py-4",children:i.jsx(it,{className:"text-sm text-muted-foreground",children:"Revenu net"})}),i.jsx(Ue,{className:"py-0",children:i.jsxs("div",{className:`text-2xl font-bold ${n>=0?"text-green-600":"text-red-600"}`,children:[n.toFixed(2),"€"]})})]})]}),i.jsxs($e,{children:[i.jsx(st,{children:i.jsx(it,{className:"text-base",children:"Répartition des revenus et dépenses"})}),i.jsx(Ue,{children:i.jsxs("div",{className:"h-[200px] flex items-center justify-center",children:[i.jsx(Fk,{className:"h-20 w-20 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground ml-4",children:"Les graphiques de répartition seront affichés ici."})]})})]}),i.jsx("div",{className:"flex justify-end mt-4",children:i.jsxs(fe,{onClick:()=>r("excel"),children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),"Télécharger le rapport complet"]})})]});function Kee(){const[e,t]=b.useState("income"),[n,r]=b.useState("2023"),[s,a]=b.useState("all"),[o,l]=b.useState("all"),{toast:c}=dn(),u=N=>{c({title:"Export en cours",description:`Les données comptables sont en cours d'export au format ${N.toUpperCase()}.`})},d=()=>{c({title:"Formulaire 2044 généré",description:"Le récapitulatif pour la déclaration 2044 a été généré et peut être téléchargé."})},h=E3(xee,o,n,s),m=E3(yee,o,n,s),p=L3(h),w=L3(m),v=p-w;return i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Comptabilité et fiscalité"}),i.jsx(qt,{children:"Gérez vos revenus, dépenses et préparation fiscale"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(fe,{variant:"outline",onClick:()=>u("csv"),children:[i.jsx(nI,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),i.jsxs(fe,{variant:"outline",onClick:()=>u("pdf"),children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),i.jsxs(fe,{onClick:d,children:[i.jsx(Q7,{className:"w-4 h-4 mr-2"}),"Préparer Formulaire 2044"]})]})]})}),i.jsx(Ue,{children:i.jsxs(fr,{defaultValue:"income",value:e,onValueChange:t,className:"mt-6",children:[i.jsxs(ir,{className:"grid grid-cols-3",children:[i.jsx(Ke,{value:"income",children:"Revenus"}),i.jsx(Ke,{value:"expenses",children:"Dépenses"}),i.jsx(Ke,{value:"summary",children:"Récapitulatif"})]}),i.jsx(wee,{selectedProperty:o,setSelectedProperty:l,selectedYear:n,setSelectedYear:r,selectedMonth:s,setSelectedMonth:a}),i.jsx(Ot,{value:"income",children:i.jsx(Hee,{filteredIncome:h,totalIncome:p})}),i.jsx(Ot,{value:"expenses",children:i.jsx(Gee,{filteredExpenses:m,totalExpenses:w})}),i.jsx(Ot,{value:"summary",children:i.jsx(Yee,{totalIncome:p,totalExpenses:w,netIncome:v,handleExportData:u})})]})})]})})}const Jee=()=>i.jsx(Ur,{title:"Comptabilité et fiscalité",children:i.jsx(Kee,{})}),Xee=[{id:"1",propertyId:"prop-1",type:"lease_start",date:new Date("2022-01-15"),description:"Début de bail - M. Martin",details:"Bail signé pour une durée de 3 ans",icon:"Users",relatedId:"tenant-1"},{id:"2",propertyId:"prop-1",type:"maintenance",date:new Date("2022-03-20"),description:"Intervention plomberie",details:"Réparation fuite salle de bain",icon:"Ticket",relatedId:"ticket-1"},{id:"3",propertyId:"prop-1",type:"document",date:new Date("2022-04-10"),description:"Quittance de loyer Avril 2022",details:"Montant: 950€",icon:"FileText",relatedId:"doc-1"},{id:"4",propertyId:"prop-1",type:"maintenance",date:new Date("2022-08-05"),description:"Remplacement chaudière",details:"Installation nouvelle chaudière à condensation",icon:"Ticket",relatedId:"ticket-2"},{id:"5",propertyId:"prop-1",type:"lease_end",date:new Date("2022-12-31"),description:"Fin de bail anticipée - M. Martin",details:"Départ avec préavis d'un mois pour mutation professionnelle",icon:"Users",relatedId:"tenant-1"},{id:"6",propertyId:"prop-1",type:"inspection",date:new Date("2023-01-05"),description:"État des lieux de sortie",details:"Bien rendu en bon état, caution restituée",icon:"ClipboardCheck",relatedId:"inspection-1"},{id:"7",propertyId:"prop-1",type:"vacant",date:new Date("2023-01-06"),description:"Bien marqué comme vacant",details:"Début période de vacance locative",icon:"Home",relatedId:null},{id:"8",propertyId:"prop-1",type:"lease_start",date:new Date("2023-02-15"),description:"Début de bail - Mme Bernard",details:"Bail signé pour une durée de 3 ans",icon:"Users",relatedId:"tenant-2"},{id:"9",propertyId:"prop-1",type:"document",date:new Date("2023-03-10"),description:"Quittance de loyer Mars 2023",details:"Montant: 980€",icon:"FileText",relatedId:"doc-2"},{id:"10",propertyId:"prop-1",type:"maintenance",date:new Date("2023-07-22"),description:"Intervention serrurerie",details:"Remplacement cylindre porte d'entrée",icon:"Ticket",relatedId:"ticket-3"}],T3=[{id:"prop-1",address:"123 Rue de Paris, Paris 75001"},{id:"prop-2",address:"45 Avenue Victor Hugo, Lyon 69001"},{id:"prop-3",address:"8 Rue des Fleurs, Bordeaux 33000"}];function Zee(){const[e,t]=b.useState("prop-1"),[n,r]=b.useState("all"),[s,a]=b.useState("all"),[o,l]=b.useState(""),c=[{id:"lease_start",label:"Début de bail",color:"bg-green-100 text-green-800"},{id:"lease_end",label:"Fin de bail",color:"bg-red-100 text-red-800"},{id:"maintenance",label:"Maintenance",color:"bg-orange-100 text-orange-800"},{id:"document",label:"Document",color:"bg-blue-100 text-blue-800"},{id:"inspection",label:"État des lieux",color:"bg-purple-100 text-purple-800"},{id:"vacant",label:"Vacance",color:"bg-gray-100 text-gray-800"}],u=T3.find(x=>x.id===e),m=[...Xee.filter(x=>!(x.propertyId!==e||n!=="all"&&x.date.getFullYear().toString()!==n||s!=="all"&&x.type!==s||o&&!x.description.toLowerCase().includes(o.toLowerCase())&&!x.details.toLowerCase().includes(o.toLowerCase())))].sort((x,S)=>S.date.getTime()-x.date.getTime()).reduce((x,S)=>{const k=S.date.getFullYear(),P=S.date.getMonth(),z=`${k}-${P}`;return x[z]||(x[z]={year:k,month:P,activities:[]}),x[z].activities.push(S),x},{}),p=Object.values(m).sort((x,S)=>x.year!==S.year?S.year-x.year:S.month-x.month),w=x=>{switch(x){case"lease_start":case"lease_end":return i.jsx(ax,{size:16});case"maintenance":return i.jsx(Wk,{size:16});case"document":return i.jsx(Ut,{size:16});case"inspection":return i.jsx(y,{size:16});case"vacant":return i.jsx(rs,{size:16});default:return i.jsx(Mi,{size:16})}},v=x=>{const S=c.find(k=>k.id===x);return i.jsx(Ve,{variant:"outline",className:S==null?void 0:S.color,children:(S==null?void 0:S.label)||x})},N=x=>["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"][x],y=x=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:x.size||24,height:x.size||24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:x.className||"",children:[i.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),i.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),i.jsx("path",{d:"m9 14 2 2 4-4"})]});return i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:i.jsxs("div",{children:[i.jsx(it,{children:"Historique d'activité"}),i.jsx(qt,{children:u?`Chronologie complète du bien: ${u.address}`:"Sélectionnez un bien"})]})})}),i.jsxs(Ue,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[i.jsx("div",{className:"w-full md:w-1/4",children:i.jsxs(xn,{value:e,onValueChange:t,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Sélectionner un bien"})}),i.jsx(un,{children:T3.map(x=>i.jsx(Oe,{value:x.id,children:x.address},x.id))})]})}),i.jsx("div",{className:"w-full md:w-1/4",children:i.jsxs(xn,{value:n,onValueChange:r,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Année"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"all",children:"Toutes les années"}),i.jsx(Oe,{value:"2023",children:"2023"}),i.jsx(Oe,{value:"2022",children:"2022"}),i.jsx(Oe,{value:"2021",children:"2021"})]})]})}),i.jsx("div",{className:"w-full md:w-1/4",children:i.jsxs(xn,{value:s,onValueChange:a,children:[i.jsx(cn,{children:i.jsx(yn,{placeholder:"Type d'activité"})}),i.jsxs(un,{children:[i.jsx(Oe,{value:"all",children:"Tous les types"}),c.map(x=>i.jsx(Oe,{value:x.id,children:x.label},x.id))]})]})}),i.jsxs("div",{className:"w-full md:w-1/4 relative",children:[i.jsx(eo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher...",value:o,onChange:x=>l(x.target.value),className:"pl-9"})]})]}),i.jsx("div",{className:"mt-8",children:p.length===0?i.jsx("div",{className:"text-center py-10",children:i.jsx("p",{className:"text-muted-foreground",children:"Aucune activité trouvée pour ce bien avec les filtres actuels."})}):i.jsx(Np,{className:"h-[500px] pr-4",children:i.jsx("div",{className:"space-y-8",children:p.map((x,S)=>i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"sticky top-0 bg-white py-2 z-10 flex items-center",children:i.jsxs(Ve,{variant:"outline",className:"rounded-md px-3 py-1 bg-gray-100",children:[i.jsx(Bs,{className:"h-4 w-4 mr-2"}),N(x.month)," ",x.year]})}),i.jsx("div",{className:"mt-4 border-l-2 border-gray-200 pl-6 ml-3 space-y-6",children:x.activities.map((k,P)=>i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-[30px] p-1 bg-white rounded-full border-2 border-gray-200",children:i.jsx("div",{className:"bg-primary text-white p-1 rounded-full",children:w(k.type)})}),i.jsx($e,{className:"shadow-sm",children:i.jsxs(Ue,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("div",{className:"font-medium",children:k.description}),v(k.type)]}),i.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:k.date.toLocaleDateString("fr-FR")}),i.jsx("div",{className:"text-sm",children:k.details}),k.relatedId&&i.jsx("div",{className:"mt-3 flex justify-end",children:i.jsxs(fe,{variant:"ghost",size:"sm",children:["Voir détails ",i.jsx(lw,{className:"ml-1 h-4 w-4"})]})})]})})]},k.id))})]},`${x.year}-${x.month}`))})})})]})]})})}const Qee=()=>i.jsx(Ur,{title:"Historique d'activité",children:i.jsx(Zee,{})}),ete=()=>{const[e,t]=b.useState("faq");return i.jsx("div",{className:"space-y-8",children:i.jsxs($e,{className:"border-0 shadow-md",children:[i.jsxs(st,{className:"pb-3",children:[i.jsx(it,{className:"text-2xl",children:"Centre d'aide intelligent"}),i.jsx(qt,{children:"Trouvez des réponses à vos questions et obtenez de l'aide pour utiliser la plateforme"})]}),i.jsx(Ue,{children:i.jsxs(fr,{defaultValue:e,onValueChange:t,children:[i.jsxs(ir,{className:"grid grid-cols-4 mb-6",children:[i.jsxs(Ke,{value:"faq",children:[i.jsx(tI,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"FAQ"})]}),i.jsxs(Ke,{value:"guides",children:[i.jsx(Dk,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Guides"})]}),i.jsxs(Ke,{value:"chat",children:[i.jsx(S4,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Chat IA"})]}),i.jsxs(Ke,{value:"tips",children:[i.jsx(_4,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Conseils"})]})]}),i.jsxs(Ot,{value:"faq",className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Questions fréquentes"}),i.jsx("div",{className:"space-y-4",children:tte.map((n,r)=>i.jsx($e,{children:i.jsxs(Ue,{className:"pt-4",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:n.question}),i.jsx("p",{className:"text-muted-foreground",children:n.answer}),n.link&&i.jsxs(fe,{variant:"link",className:"p-0 h-auto mt-2",children:[n.linkText," ",i.jsx(lw,{className:"ml-1 h-4 w-4"})]})]})},r))})]}),i.jsxs(Ot,{value:"guides",className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Guides d'utilisation"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:nte.map((n,r)=>i.jsx($e,{children:i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"rounded-md bg-primary/10 p-2",children:n.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:n.title}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:n.description}),i.jsxs(fe,{variant:"link",className:"p-0 h-auto mt-2",children:["Voir le guide ",i.jsx(lw,{className:"ml-1 h-4 w-4"})]})]})]})})},r))})]}),i.jsxs(Ot,{value:"chat",className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Chat avec l'assistant IA"}),i.jsx($e,{children:i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"h-[400px] flex flex-col items-center justify-center text-center",children:[i.jsx(S4,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium",children:"Posez vos questions"}),i.jsx("p",{className:"text-muted-foreground mt-2 mb-6 max-w-md",children:"Notre assistant IA est là pour répondre à toutes vos questions concernant la gestion immobilière."}),i.jsx(fe,{children:"Démarrer une conversation"})]})})})]}),i.jsxs(Ot,{value:"tips",className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Conseils et astuces"}),i.jsx("div",{className:"space-y-4",children:rte.map((n,r)=>i.jsx($e,{children:i.jsx(Ue,{className:"pt-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"rounded-full bg-amber-100 p-2 text-amber-600",children:i.jsx(_4,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:n.title}),i.jsx("p",{className:"text-muted-foreground mt-1",children:n.content})]})]})})},r))})]})]})})]})})},tte=[{question:"Comment ajouter un nouveau bien immobilier ?",answer:'Accédez à la section "Biens" et cliquez sur le bouton "Ajouter un bien". Remplissez ensuite le formulaire avec les détails du bien.',link:"/manager/properties",linkText:"Voir la gestion des biens"},{question:"Comment gérer les paiements de loyer ?",answer:'Les paiements de loyer peuvent être suivis dans la section "Comptabilité". Vous pouvez également configurer des rappels automatiques.',link:"/manager/accounting",linkText:"Accéder à la comptabilité"},{question:"Comment communiquer avec les locataires ?",answer:`Vous pouvez envoyer des messages à vos locataires depuis la section "Locataires" en sélectionnant un locataire puis en utilisant l'option de messagerie.`,link:"/manager/tenants",linkText:"Gérer les locataires"},{question:"Comment générer un bail ou un état des lieux ?",answer:'Utilisez notre générateur de documents dans la section "Documents" pour créer rapidement des baux, des quittances ou des états des lieux personnalisés.',link:"/manager/document-generator",linkText:"Accéder au générateur"}],nte=[{title:"Guide de démarrage rapide",description:"Apprenez à naviguer dans l'interface et à configurer votre compte",icon:i.jsx(Dk,{className:"h-5 w-5"})},{title:"Gestion des biens",description:"Comment ajouter, modifier et suivre vos biens immobiliers",icon:i.jsx(rs,{className:"h-5 w-5"})},{title:"Gestion des locataires",description:"Comment gérer les locataires et leurs dossiers",icon:i.jsx(ax,{className:"h-5 w-5"})},{title:"Comptabilité et fiscalité",description:"Suivez vos revenus, dépenses et préparez votre déclaration fiscale",icon:i.jsx(Ik,{className:"h-5 w-5"})}],rte=[{title:"Optimisez votre fiscalité",content:"Utilisez le module de comptabilité pour classer correctement vos dépenses et optimiser votre déclaration fiscale 2044."},{title:"Configuration des notifications",content:"Configurez des alertes pour les échéances importantes comme les fins de bail ou les paiements de loyer à venir."},{title:"Maintenance préventive",content:"Programmez des rappels de maintenance régulière pour prolonger la durée de vie de vos équipements."}],ste=()=>i.jsx(Ur,{title:"Centre d'aide intelligent",children:i.jsx(ete,{})}),ite=()=>{const e=[{id:"1",name:"Contrat de bail - Jean Dupont.pdf",type:"contract",uploadDate:"25/09/2022",size:"1.2 MB"},{id:"2",name:"Quittance - Octobre 2023.pdf",type:"receipt",uploadDate:"01/10/2023",size:"0.5 MB"},{id:"3",name:"Assurance habitation 2023.pdf",type:"insurance",uploadDate:"10/01/2023",size:"0.8 MB"},{id:"4",name:"État des lieux d'entrée.pdf",type:"inspection",uploadDate:"01/10/2022",size:"3.5 MB"}],t=n=>n.endsWith(".pdf")?i.jsx(Ut,{className:"h-5 w-5 text-red-500"}):n.endsWith(".jpg")||n.endsWith(".png")?i.jsx(Q0,{className:"h-5 w-5 text-blue-500"}):i.jsx(lh,{className:"h-5 w-5 text-gray-500"});return i.jsx(cc,{title:"Mes Documents",children:i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsx(it,{children:"Documents"})}),i.jsx(Ue,{children:i.jsxs(fr,{defaultValue:"all",className:"w-full",children:[i.jsxs(ir,{children:[i.jsx(Ke,{value:"all",children:"Tous"}),i.jsx(Ke,{value:"contract",children:"Contrats"}),i.jsx(Ke,{value:"receipt",children:"Quittances"}),i.jsx(Ke,{value:"insurance",children:"Assurance"}),i.jsx(Ke,{value:"inspection",children:"États des lieux"})]}),i.jsx(Ot,{value:"all",className:"mt-4",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-3 px-4",children:"Nom"}),i.jsx("th",{className:"text-left py-3 px-4 hidden md:table-cell",children:"Date"}),i.jsx("th",{className:"text-left py-3 px-4 hidden md:table-cell",children:"Taille"}),i.jsx("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),i.jsx("tbody",{children:e.map(n=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[t(n.name),i.jsx("span",{children:n.name})]})}),i.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:n.uploadDate}),i.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:n.size}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsx("button",{className:"text-cyan hover:text-cyan-700",children:"Télécharger"})})]},n.id))})]})})}),i.jsx(Ot,{value:"contract",className:"mt-4",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-3 px-4",children:"Nom"}),i.jsx("th",{className:"text-left py-3 px-4 hidden md:table-cell",children:"Date"}),i.jsx("th",{className:"text-left py-3 px-4 hidden md:table-cell",children:"Taille"}),i.jsx("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),i.jsx("tbody",{children:e.filter(n=>n.type==="contract").map(n=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[t(n.name),i.jsx("span",{children:n.name})]})}),i.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:n.uploadDate}),i.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:n.size}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsx("button",{className:"text-cyan hover:text-cyan-700",children:"Télécharger"})})]},n.id))})]})})}),i.jsx(Ot,{value:"receipt",className:"mt-4",children:i.jsx("p",{children:"Documents de type quittance"})}),i.jsx(Ot,{value:"insurance",className:"mt-4",children:i.jsx("p",{children:"Documents d'assurance"})}),i.jsx(Ot,{value:"inspection",className:"mt-4",children:i.jsx("p",{children:"États des lieux"})})]})})]})})})},ate=()=>{const e=br(),t=[{id:"1",title:"Problème de plomberie - Salle de bain",description:"Le robinet de la salle de bain fuit constamment.",status:"in_progress",createdAt:"2023-07-25",updatedAt:"2023-07-26",priority:"medium",assignee:"Technicien Plomberie",updates:[{date:"2023-07-25",message:"Ticket créé"},{date:"2023-07-26",message:"Plombier programmé pour le 30/07"}]},{id:"2",title:"Serrure cassée - Porte d'entrée",description:"La serrure de la porte d'entrée est difficile à ouvrir.",status:"new",createdAt:"2023-08-01",updatedAt:"2023-08-01",priority:"high",assignee:null,updates:[{date:"2023-08-01",message:"Ticket créé"}]},{id:"3",title:"Problème électrique - Cuisine",description:"La prise électrique de la cuisine ne fonctionne plus.",status:"resolved",createdAt:"2023-06-15",updatedAt:"2023-06-20",priority:"medium",assignee:"Électricien",updates:[{date:"2023-06-15",message:"Ticket créé"},{date:"2023-06-16",message:"Électricien assigné"},{date:"2023-06-20",message:"Problème résolu: prise remplacée"}]}],n=a=>a==="new"?i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-600 border-blue-200",children:"Nouveau"}):a==="in_progress"?i.jsx(Ve,{variant:"outline",className:"bg-amber-50 text-amber-600 border-amber-200",children:"En cours"}):a==="resolved"?i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200",children:"Résolu"}):i.jsx(Ve,{variant:"outline",children:"Inconnu"}),r=a=>a==="new"?i.jsx(Qa,{className:"h-5 w-5 text-blue-500"}):a==="in_progress"?i.jsx(Mi,{className:"h-5 w-5 text-amber-500"}):a==="resolved"?i.jsx(rp,{className:"h-5 w-5 text-green-500"}):null,s=a=>a==="new"?10:a==="in_progress"?50:a==="resolved"?100:0;return i.jsx(cc,{title:"Mes Signalements",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Mes Signalements"}),i.jsxs(fe,{className:"bg-cyan",onClick:()=>e("/tenant/create-ticket"),children:[i.jsx(yr,{size:16,className:"mr-2"}),"Nouveau signalement"]})]}),i.jsxs($e,{children:[i.jsx(st,{children:i.jsx(it,{children:"Signalements"})}),i.jsx(Ue,{children:i.jsxs(fr,{defaultValue:"all",className:"w-full",children:[i.jsxs(ir,{children:[i.jsx(Ke,{value:"all",children:"Tous"}),i.jsx(Ke,{value:"active",children:"En cours"}),i.jsx(Ke,{value:"resolved",children:"Résolus"})]}),i.jsx(Ot,{value:"all",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:t.length>0?t.map(a=>i.jsxs("div",{className:"border border-gray-200 rounded-md p-4 hover:border-gray-300",onClick:()=>e(`/tickets/${a.id}`),role:"button",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[r(a.status),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:a.title}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.description.substring(0,100),a.description.length>100?"...":""]})]})]}),n(a.status)]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[i.jsxs("span",{children:["Créé le ",a.createdAt]}),i.jsxs("span",{children:["Dernière mise à jour: ",a.updatedAt]})]}),i.jsx(Co,{value:s(a.status),className:"h-1"})]})]},a.id)):i.jsx("div",{className:"text-center py-10",children:i.jsx("p",{className:"text-muted-foreground",children:"Aucun signalement trouvé"})})})}),i.jsx(Ot,{value:"active",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:t.filter(a=>a.status==="new"||a.status==="in_progress").length>0?t.filter(a=>a.status==="new"||a.status==="in_progress").map(a=>i.jsxs("div",{className:"border border-gray-200 rounded-md p-4 hover:border-gray-300",onClick:()=>e(`/tickets/${a.id}`),role:"button",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[r(a.status),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:a.title}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.description.substring(0,100),a.description.length>100?"...":""]})]})]}),n(a.status)]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[i.jsxs("span",{children:["Créé le ",a.createdAt]}),i.jsxs("span",{children:["Dernière mise à jour: ",a.updatedAt]})]}),i.jsx(Co,{value:s(a.status),className:"h-1"})]})]},a.id)):i.jsx("div",{className:"text-center py-10",children:i.jsx("p",{className:"text-muted-foreground",children:"Aucun signalement actif"})})})}),i.jsx(Ot,{value:"resolved",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:t.filter(a=>a.status==="resolved").length>0?t.filter(a=>a.status==="resolved").map(a=>i.jsxs("div",{className:"border border-gray-200 rounded-md p-4 hover:border-gray-300",onClick:()=>e(`/tickets/${a.id}`),role:"button",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[r(a.status),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:a.title}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.description.substring(0,100),a.description.length>100?"...":""]})]})]}),n(a.status)]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[i.jsxs("span",{children:["Créé le ",a.createdAt]}),i.jsxs("span",{children:["Résolu le ",a.updatedAt]})]}),i.jsx(Co,{value:s(a.status),className:"h-1"})]})]},a.id)):i.jsx("div",{className:"text-center py-10",children:i.jsx("p",{className:"text-muted-foreground",children:"Aucun signalement résolu"})})})})]})}),i.jsx(pn,{children:i.jsxs(fe,{className:"w-full bg-cyan",onClick:()=>e("/tenant/create-ticket"),children:[i.jsx(yr,{size:16,className:"mr-2"}),"Nouveau signalement"]})})]})]})})},M3=(e,t)=>{const n=new Date(e);return t&&n.setDate(t),n.toLocaleDateString("fr-FR")},ote=e=>new Date(e).toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),lte=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[s,a]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState(!1),{toast:d}=dn(),{user:h}=sr();return b.useEffect(()=>{if(!h)return;(async()=>{u(!0);try{const{data:p,error:w}=await Kt.from("tenants").select("id").eq("email",h.email).maybeSingle();if(w)throw w;if(!p){d({title:"Aucun profil locataire trouvé",description:"Votre compte n'est pas lié à un profil locataire",variant:"destructive"});return}const{data:v,error:N}=await Kt.from("leases").select(`
            id, 
            monthly_rent, 
            start_date, 
            end_date, 
            security_deposit,
            property_id,
            property:property_id (id, address, city, postal_code)
          `).eq("tenant_id",p.id).eq("active",!0).maybeSingle();if(N)throw N;if(v){a(v),l(v.property);const{data:y,error:x}=await Kt.from("payments").select("*").eq("lease_id",v.id).order("payment_date",{ascending:!1});if(x)throw x;const S=new Date,k=[],P=[];y.forEach(z=>{const B=new Date(z.payment_date),R={id:z.id,month:ote(z.payment_date),amount:z.amount,dueDate:M3(z.payment_date,5),status:z.note==="paid"?"paid":"upcoming",paidDate:z.note==="paid"?M3(z.payment_date):null,receiptAvailable:z.note==="paid",rawDate:z.payment_date};B<=S&&z.note==="paid"?k.push(R):P.push(R)}),t(k),r(P)}else d({title:"Aucun bail actif",description:"Vous n'avez pas de bail actif dans le système",variant:"default"})}catch(p){console.error("Erreur lors du chargement des paiements:",p),d({title:"Erreur",description:"Impossible de charger vos informations de paiement",variant:"destructive"})}finally{u(!1)}})()},[h,d]),{payments:e,upcomingPayments:n,leaseDetails:s,propertyDetails:o,isLoading:c,currentRent:(s==null?void 0:s.monthly_rent)||0,nextPayment:n[0]}},cte=(e,t)=>{const[n,r]=b.useState(!1),{toast:s}=dn(),{user:a}=sr(),{downloadDocument:o}=pT();return{handleGenerateReceipt:async c=>{if(!a||!e||!t){s({title:"Information manquante",description:"Impossible de générer la quittance",variant:"destructive"});return}try{r(!0);const{data:u,error:d}=await Kt.from("tenants").select("id, full_name, email, phone").eq("email",a.email).maybeSingle();if(d)throw d;if(!u){s({title:"Information manquante",description:"Données du locataire non trouvées",variant:"destructive"});return}const{data:h,error:m}=await Kt.from("profiles").select("id, name, email").eq("id",a.id).maybeSingle();if(m)throw m;const p={property:{id:t.id,address:t.address,city:t.city,postalCode:t.postal_code},tenant:{id:u.id,name:u.full_name,email:u.email,phone:u.phone},lease:{id:e.id,startDate:e.start_date,endDate:e.end_date,rentAmount:e.monthly_rent,depositAmount:e.security_deposit,charges:0},manager:{id:(h==null?void 0:h.id)||"system",name:(h==null?void 0:h.name)||"Gestionnaire",email:(h==null?void 0:h.email)||"contact@service.com"},documentReference:`QUIT-${c.month.replace(" ","-")}-${Math.floor(Math.random()*1e3)}`,creationDate:new Date().toISOString(),additionalData:{month:c.month,periodStart:`1er ${c.month}`,periodEnd:`dernier jour de ${c.month}`}},w=await mT("receipt",p);o(w,"receipt",[{id:"receipt",name:"Quittance de loyer",description:"Quittance mensuelle attestant du paiement du loyer",category:"receipt"}],p.documentReference),s({title:"Quittance générée",description:`Quittance pour ${c.month} téléchargée`})}catch(u){console.error("Erreur lors de la génération de la quittance:",u),s({title:"Erreur",description:"Impossible de générer la quittance",variant:"destructive"})}finally{r(!1)}},isLoading:n}},u2=({title:e,value:t,icon:n})=>i.jsx($e,{children:i.jsx(Ue,{className:"pt-6",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-cyan/10 p-2 rounded-full mr-4",children:i.jsx(n,{className:"h-6 w-6 text-cyan"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:e}),i.jsx("p",{className:"font-semibold text-lg",children:t})]})]})})})}),ute=({payments:e,onGenerateReceipt:t,isLoading:n})=>{const r=s=>s==="paid"?i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200",children:"Payé"}):s==="upcoming"?i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-600 border-blue-200",children:"À venir"}):s==="late"?i.jsx(Ve,{variant:"outline",className:"bg-red-50 text-red-600 border-red-200",children:"En retard"}):i.jsx(Ve,{variant:"outline",children:"Inconnu"});return i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-3 px-4",children:"Mois"}),i.jsx("th",{className:"text-left py-3 px-4",children:"Montant"}),i.jsx("th",{className:"text-left py-3 px-4",children:"Date d'échéance"}),i.jsx("th",{className:"text-left py-3 px-4",children:"Date de paiement"}),i.jsx("th",{className:"text-left py-3 px-4",children:"Statut"}),i.jsx("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),i.jsx("tbody",{children:e.length>0?e.map(s=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4 font-medium",children:s.month}),i.jsxs("td",{className:"py-3 px-4",children:[s.amount,"€"]}),i.jsx("td",{className:"py-3 px-4",children:s.dueDate}),i.jsx("td",{className:"py-3 px-4",children:s.paidDate}),i.jsx("td",{className:"py-3 px-4",children:r(s.status)}),i.jsx("td",{className:"py-3 px-4 text-right",children:s.receiptAvailable&&i.jsxs(fe,{variant:"ghost",size:"sm",className:"text-cyan",onClick:()=>t(s),disabled:n,children:[i.jsx(zr,{className:"h-4 w-4 mr-1"}),"Quittance"]})})]},s.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Aucun paiement trouvé dans l'historique"})})})]})})},dte=({upcomingPayments:e})=>{const t=n=>n==="paid"?i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200",children:"Payé"}):n==="upcoming"?i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-600 border-blue-200",children:"À venir"}):n==="late"?i.jsx(Ve,{variant:"outline",className:"bg-red-50 text-red-600 border-red-200",children:"En retard"}):i.jsx(Ve,{variant:"outline",children:"Inconnu"});return i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-3 px-4",children:"Mois"}),i.jsx("th",{className:"text-left py-3 px-4",children:"Montant"}),i.jsx("th",{className:"text-left py-3 px-4",children:"Date d'échéance"}),i.jsx("th",{className:"text-left py-3 px-4",children:"Statut"})]})}),i.jsx("tbody",{children:e.length>0?e.map(n=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4 font-medium",children:n.month}),i.jsxs("td",{className:"py-3 px-4",children:[n.amount,"€"]}),i.jsx("td",{className:"py-3 px-4",children:n.dueDate}),i.jsx("td",{className:"py-3 px-4",children:t(n.status)})]},n.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"Aucun paiement à venir"})})})]})})},hte=()=>{const{payments:e,upcomingPayments:t,leaseDetails:n,propertyDetails:r,isLoading:s,currentRent:a,nextPayment:o}=lte(),{handleGenerateReceipt:l,isLoading:c}=cte(n,r);return i.jsx(cc,{title:"Mes Paiements",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(u2,{title:"Prochain paiement",value:(o==null?void 0:o.dueDate)||"Aucun",icon:Bs}),i.jsx(u2,{title:"Loyer mensuel",value:`${a}€`,icon:Z7}),i.jsx(u2,{title:"Statut actuel",value:"À jour",icon:uw})]}),i.jsxs($e,{children:[i.jsx(st,{children:i.jsx(it,{children:"Historique des paiements"})}),i.jsx(Ue,{children:i.jsxs(fr,{defaultValue:"history",className:"w-full",children:[i.jsxs(ir,{children:[i.jsx(Ke,{value:"history",children:"Historique"}),i.jsx(Ke,{value:"upcoming",children:"À venir"})]}),i.jsx(Ot,{value:"history",className:"mt-4",children:i.jsx(ute,{payments:e,onGenerateReceipt:l,isLoading:s||c})}),i.jsx(Ot,{value:"upcoming",className:"mt-4",children:i.jsx(dte,{upcomingPayments:t})})]})})]})]})})},fte=()=>{const e={id:"1",address:"123 Rue de Paris",city:"Paris",postalCode:"75001",bedrooms:2,bathrooms:1,size:65,description:"Appartement lumineux au 3ème étage avec vue dégagée. Proche des commerces et des transports en commun.",leaseInfo:{startDate:new Date("2022-10-01"),endDate:new Date("2025-10-01"),monthlyRent:850,securityDeposit:850,manager:{name:"Sophie Martin",email:"sophie.martin@immosync.fr",phone:"01 23 45 67 89"}}};return i.jsx(cc,{title:"Mon Logement",children:i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Informations sur le logement"}),i.jsx(rs,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsxs(fr,{defaultValue:"general",className:"w-full",children:[i.jsxs(ir,{children:[i.jsx(Ke,{value:"general",children:"Général"}),i.jsx(Ke,{value:"lease",children:"Bail"}),i.jsx(Ke,{value:"contacts",children:"Contacts"})]}),i.jsx(Ot,{value:"general",className:"mt-4",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-lg font-medium mb-2",children:[i.jsx(oI,{className:"h-5 w-5 text-cyan"}),i.jsx("span",{children:"Adresse"})]}),i.jsx("p",{className:"text-lg",children:e.address}),i.jsxs("p",{children:[e.postalCode," ",e.city]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Description"}),i.jsx("p",{className:"text-muted-foreground",children:e.description})]})]}),i.jsxs("div",{className:"border-l-0 md:border-l border-gray-100 pl-0 md:pl-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Caractéristiques"}),i.jsxs("div",{className:"grid grid-cols-2 gap-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Surface"}),i.jsxs("p",{className:"font-medium",children:[e.size," m²"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Chambres"}),i.jsx("p",{className:"font-medium",children:e.bedrooms})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Salles de bain"}),i.jsx("p",{className:"font-medium",children:e.bathrooms})]})]})]})]})}),i.jsx(Ot,{value:"lease",className:"mt-4",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-3",children:"Informations du bail"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Date d'entrée:"}),i.jsx("span",{className:"font-medium",children:_n(e.leaseInfo.startDate,"d MMMM yyyy",{locale:ss})})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Fin du bail:"}),i.jsx("span",{className:"font-medium",children:_n(e.leaseInfo.endDate,"d MMMM yyyy",{locale:ss})})]}),i.jsxs("li",{className:"flex justify-between border-t pt-3 mt-3",children:[i.jsx("span",{className:"text-muted-foreground",children:"Loyer mensuel:"}),i.jsxs("span",{className:"font-medium",children:[e.leaseInfo.monthlyRent,"€"]})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Dépôt de garantie:"}),i.jsxs("span",{className:"font-medium",children:[e.leaseInfo.securityDeposit,"€"]})]})]}),i.jsx("div",{className:"mt-6",children:i.jsxs(fe,{className:"w-full",variant:"outline",children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"}),"Voir le contrat de bail"]})})]}),i.jsxs("div",{className:"border-l-0 md:border-l border-gray-100 pl-0 md:pl-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Documents associés"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"p-3 border rounded-md",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ut,{className:"h-5 w-5 text-red-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Contrat de bail"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Signé le ",_n(e.leaseInfo.startDate,"dd/MM/yyyy")]})]})]}),i.jsx(fe,{variant:"ghost",size:"sm",children:i.jsx(zr,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"p-3 border rounded-md",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ut,{className:"h-5 w-5 text-red-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"État des lieux d'entrée"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Signé le ",_n(e.leaseInfo.startDate,"dd/MM/yyyy")]})]})]}),i.jsx(fe,{variant:"ghost",size:"sm",children:i.jsx(zr,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"p-3 border rounded-md",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ut,{className:"h-5 w-5 text-red-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Règlement de copropriété"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Document important"})]})]}),i.jsx(fe,{variant:"ghost",size:"sm",children:i.jsx(zr,{className:"h-4 w-4"})})]})})]})]})]})}),i.jsx(Ot,{value:"contacts",className:"mt-4",children:i.jsxs("div",{className:"max-w-md",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Gestionnaire du bien"}),i.jsxs("div",{className:"p-4 border rounded-md",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-cyan flex items-center justify-center text-white text-lg font-medium mr-4",children:e.leaseInfo.manager.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:e.leaseInfo.manager.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestionnaire immobilier"})]})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",i.jsx("a",{href:`mailto:${e.leaseInfo.manager.email}`,className:"text-cyan",children:e.leaseInfo.manager.email})]}),i.jsxs("p",{className:"text-sm mt-1",children:[i.jsx("span",{className:"text-muted-foreground",children:"Téléphone:"})," ",i.jsx("a",{href:`tel:${e.leaseInfo.manager.phone}`,className:"text-cyan",children:e.leaseInfo.manager.phone})]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Numéros d'urgence"}),i.jsx("div",{className:"p-4 border rounded-md",children:i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Pompiers:"}),i.jsx("a",{href:"tel:18",className:"text-cyan font-medium",children:"18"})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Police:"}),i.jsx("a",{href:"tel:17",className:"text-cyan font-medium",children:"17"})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"SAMU:"}),i.jsx("a",{href:"tel:15",className:"text-cyan font-medium",children:"15"})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Numéro d'urgence européen:"}),i.jsx("a",{href:"tel:112",className:"text-cyan font-medium",children:"112"})]})]})})]})]})})]})}),i.jsx(pn,{children:i.jsx(fe,{className:"bg-cyan",children:"Signaler un problème"})})]})})})},mte=()=>i.jsx(Rh,{title:"Mes Biens",children:i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Liste des propriétés"}),i.jsx(Ro,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsx("p",{children:"Gestion de vos biens immobiliers."})})]})})}),pte=()=>i.jsx(Rh,{title:"Rapports",children:i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Rapports financiers"}),i.jsx(Wl,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsx("p",{children:"Visualisez vos rapports de gestion et données financières."})})]})})}),gte=()=>i.jsx(Rh,{title:"Documents",children:i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Centre de documents"}),i.jsx(Ut,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsx("p",{children:"Accédez à tous vos documents importants."})})]})})}),vte=()=>i.jsx(Rh,{title:"Messages",children:i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(it,{children:"Messagerie"}),i.jsx(Hl,{size:20,className:"text-gray-500"})]})}),i.jsx(Ue,{children:i.jsx("p",{children:"Communiquez avec votre gestionnaire et vos locataires."})})]})})}),AT=[{name:"Tableau de bord",path:"/vendor",icon:i.jsx(rs,{size:20})},{name:"Interventions",path:"/vendor/interventions",icon:i.jsx(Uk,{size:20})},{name:"Planning",path:"/vendor/schedule",icon:i.jsx(Bs,{size:20})},{name:"Messages",path:"/vendor/messages",icon:i.jsx(Hl,{size:20})},{name:"Statistiques",path:"/vendor/stats",icon:i.jsx(Wl,{size:20})},{name:"Paramètres",path:"/vendor/settings",icon:i.jsx(rx,{size:20})}],xte=({userName:e,companyName:t})=>{const n=oc();return i.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 hidden md:block",children:[i.jsx("div",{className:"h-16 border-b border-gray-200 flex items-center px-6",children:i.jsx(es,{to:"/vendor",className:"flex items-center",children:i.jsx("span",{className:"text-lg font-bold text-blue-600",children:"ImmoSync Pro"})})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col items-start",children:[i.jsx("p",{className:"font-semibold text-sm",children:e}),t&&i.jsx("p",{className:"text-xs text-muted-foreground",children:t})]})}),i.jsx("nav",{className:"px-4 mt-4",children:AT.map(r=>i.jsxs(es,{to:r.path,className:`flex items-center gap-3 px-4 py-3 rounded-md text-gray-700 hover:bg-gray-100 mb-1 ${n.pathname===r.path?"bg-blue-50 text-blue-600":""}`,children:[r.icon,i.jsx("span",{children:r.name})]},r.path))})]})},yte=({title:e,displayName:t,isMobile:n})=>{const{logout:r}=sr();return i.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center px-4 sticky top-0 z-10",children:[n&&i.jsx(es,{to:"/vendor",className:"mr-4",children:i.jsx("span",{className:"text-lg font-semibold text-blue-600",children:"ImmoSync"})}),i.jsx("h1",{className:"text-lg md:text-xl font-semibold",children:e}),i.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[i.jsxs(dh,{children:[i.jsx(hh,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon","aria-label":"Notifications",children:i.jsx(tp,{size:18})})}),i.jsx(nu,{children:"Notifications"})]}),i.jsxs(dh,{children:[i.jsx(hh,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon","aria-label":"Déconnexion",onClick:r,children:i.jsx(ex,{size:18})})}),i.jsx(nu,{children:"Déconnexion"})]}),n?i.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 text-white flex items-center justify-center",children:(t==null?void 0:t.charAt(0))||"A"}):i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 text-white flex items-center justify-center",children:(t==null?void 0:t.charAt(0))||"A"})})]})]})},wte=()=>{const e=oc(),t=AT.slice(0,4);return i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around p-2 z-10",children:t.map(n=>i.jsxs(es,{to:n.path,className:`flex flex-col items-center justify-center py-1 px-3 text-xs ${e.pathname===n.path?"text-blue-600":""}`,children:[n.icon,i.jsx("span",{className:"mt-1",children:n.name})]},n.path))})},xu=({children:e,title:t="Portail Artisan"})=>{var o,l;const{user:n}=sr(),r=Tx(),s=((o=n==null?void 0:n.user_metadata)==null?void 0:o.name)||"Artisan",a=((l=n==null?void 0:n.user_metadata)==null?void 0:l.company)||"";return i.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[!r&&i.jsx(xte,{userName:s,companyName:a}),i.jsxs("div",{className:"flex flex-col flex-1",children:[i.jsx(yte,{title:t,displayName:s,isMobile:r}),i.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-auto",children:e}),r&&i.jsx(wte,{})]})]})},bte=[{id:"1",title:"Problème de plomberie - Salle de bain",property:"123 Rue de Paris, 75001 Paris",tenant:"M. Dupont",contactNumber:"+33 6 12 34 56 78",scheduledDate:"Demain, 10:00-12:00",status:"scheduled",urgent:!0},{id:"2",title:"Réparation serrure - Porte d'entrée",property:"45 Avenue Victor Hugo, 69001 Lyon",tenant:"Mme. Bernard",contactNumber:"+33 6 98 76 54 32",status:"assigned",urgent:!1},{id:"3",title:"Installation VMC - Cuisine",property:"8 Rue des Fleurs, 33000 Bordeaux",tenant:"M. Martin",contactNumber:"+33 6 45 67 89 01",scheduledDate:"29/11, 14:00-16:00",status:"scheduled",urgent:!1}],jte=({status:e})=>{switch(e){case"assigned":return i.jsx(Ve,{variant:"outline",className:"bg-amber-50 text-amber-700",children:"À planifier"});case"scheduled":return i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-700",children:"Programmée"});case"in_progress":return i.jsx(Ve,{variant:"secondary",children:"En cours"});case"completed":return i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Terminée"});default:return i.jsx(Ve,{children:"Inconnu"})}},Nte=()=>{const e=br();return i.jsx(xu,{title:"Tableau de bord",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx($e,{children:i.jsx(Ue,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"text-3xl font-bold",children:"2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"À programmer"})]})})}),i.jsx($e,{children:i.jsx(Ue,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"text-3xl font-bold",children:"3"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Programmées"})]})})}),i.jsx($e,{children:i.jsx(Ue,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"text-3xl font-bold",children:"8"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Terminées (mois)"})]})})})]}),i.jsxs($e,{children:[i.jsxs(st,{children:[i.jsx(it,{children:"Interventions à venir"}),i.jsx(qt,{children:"Interventions assignées à planifier ou programmées"})]}),i.jsx(Ue,{children:i.jsx("div",{className:"space-y-4",children:bte.map(t=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 cursor-pointer",onClick:()=>e(`/vendor/interventions/${t.id}`),children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.urgent&&i.jsx(Ve,{variant:"destructive",children:"Urgent"}),i.jsx(jte,{status:t.status})]}),i.jsx("h3",{className:"font-semibold",children:t.title})]}),i.jsx(fe,{variant:"ghost",size:"sm",children:"Voir détails"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-3",children:[i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(ap,{size:16,className:"mr-1 text-muted-foreground"}),i.jsx("span",{className:"truncate",children:t.property})]}),t.scheduledDate&&i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(Mi,{size:16,className:"mr-1 text-muted-foreground"}),i.jsx("span",{children:t.scheduledDate})]})]}),i.jsx("div",{className:"mt-3 flex gap-2",children:t.status==="assigned"?i.jsx(fe,{size:"sm",variant:"outline",className:"w-full",children:"Proposer créneau"}):i.jsx(fe,{size:"sm",variant:"outline",className:"w-full",children:"Modifier RDV"})})]},t.id))})})]})]})})},_te=[{id:"1",title:"Problème de plomberie - Salle de bain",property:"123 Rue de Paris, 75001 Paris",tenant:"M. Dupont",contactNumber:"+33 6 12 34 56 78",scheduledDate:"Demain, 10:00-12:00",status:"scheduled",urgent:!0,type:"plumbing"},{id:"2",title:"Réparation serrure - Porte d'entrée",property:"45 Avenue Victor Hugo, 69001 Lyon",tenant:"Mme. Bernard",contactNumber:"+33 6 98 76 54 32",status:"assigned",urgent:!1,type:"lock"},{id:"3",title:"Installation VMC - Cuisine",property:"8 Rue des Fleurs, 33000 Bordeaux",tenant:"M. Martin",contactNumber:"+33 6 45 67 89 01",scheduledDate:"29/11, 14:00-16:00",status:"scheduled",urgent:!1,type:"ventilation"},{id:"4",title:"Remplacement chauffe-eau",property:"12 Avenue des Champs, 75008 Paris",tenant:"Mme. Petit",contactNumber:"+33 6 78 90 12 34",status:"completed",completedDate:"15/11/2023",type:"plumbing"},{id:"5",title:"Réparation interphone",property:"5 Rue du Commerce, 69002 Lyon",tenant:"M. Leroy",contactNumber:"+33 6 34 56 78 90",status:"completed",completedDate:"10/11/2023",type:"electrical"}],Ste=({status:e})=>{switch(e){case"assigned":return i.jsx(Ve,{variant:"outline",className:"bg-amber-50 text-amber-700",children:"À planifier"});case"scheduled":return i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-700",children:"Programmée"});case"in_progress":return i.jsx(Ve,{variant:"secondary",children:"En cours"});case"completed":return i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Terminée"});default:return i.jsx(Ve,{children:"Inconnu"})}},Cte=()=>{const e=br(),[t,n]=b.useState("all"),[r,s]=b.useState(""),a=_te.filter(o=>!(t==="todo"&&o.status==="completed"||t==="scheduled"&&o.status!=="scheduled"||t==="completed"&&o.status!=="completed"||r&&!o.title.toLowerCase().includes(r.toLowerCase())&&!o.property.toLowerCase().includes(r.toLowerCase())));return i.jsx(xu,{title:"Mes Interventions",children:i.jsxs($e,{children:[i.jsxs(st,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsx(it,{children:"Interventions"}),i.jsxs("div",{className:"relative",children:[i.jsx(eo,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(St,{placeholder:"Rechercher...",className:"pl-8",value:r,onChange:o=>s(o.target.value)})]})]}),i.jsx(fr,{defaultValue:"all",value:t,onValueChange:n,children:i.jsxs(ir,{className:"grid w-full grid-cols-4",children:[i.jsx(Ke,{value:"all",children:"Toutes"}),i.jsx(Ke,{value:"todo",children:"À faire"}),i.jsx(Ke,{value:"scheduled",children:"Planifiées"}),i.jsx(Ke,{value:"completed",children:"Terminées"})]})})]}),i.jsx(Ue,{children:i.jsx("div",{className:"space-y-4",children:a.length>0?a.map(o=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 cursor-pointer",onClick:()=>e(`/vendor/interventions/${o.id}`),children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[o.urgent&&i.jsx(Ve,{variant:"destructive",children:"Urgent"}),i.jsx(Ste,{status:o.status})]}),i.jsx("h3",{className:"font-semibold",children:o.title})]}),i.jsx(fe,{variant:"ghost",size:"sm",className:"hidden md:inline-flex",children:"Voir détails"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-3",children:[i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(ap,{size:16,className:"mr-1"}),i.jsx("span",{className:"truncate",children:o.property})]}),o.scheduledDate&&i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(Mi,{size:16,className:"mr-1"}),i.jsx("span",{children:o.scheduledDate})]}),o.completedDate&&i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(Mi,{size:16,className:"mr-1"}),i.jsxs("span",{children:["Terminé le ",o.completedDate]})]})]}),o.status!=="completed"&&i.jsx("div",{className:"mt-3 flex gap-2",children:o.status==="assigned"?i.jsx(fe,{size:"sm",variant:"outline",className:"w-full md:w-auto",children:"Proposer créneau"}):o.status==="scheduled"?i.jsxs(i.Fragment,{children:[i.jsx(fe,{size:"sm",variant:"outline",className:"w-full md:w-auto",children:"Modifier RDV"}),i.jsx(fe,{size:"sm",variant:"default",className:"w-full md:w-auto",children:"Marquer terminé"})]}):null})]},o.id)):i.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Aucune intervention trouvée"})})})]})})},R3=[{id:"1",title:"Problème de plomberie - Salle de bain",property:"123 Rue de Paris, 75001 Paris",timeSlot:"10:00-12:00",date:new Date(2023,10,28),urgent:!0},{id:"3",title:"Installation VMC - Cuisine",property:"8 Rue des Fleurs, 33000 Bordeaux",timeSlot:"14:00-16:00",date:new Date(2023,10,29),urgent:!1},{id:"6",title:"Réparation chauffage",property:"22 Avenue Ledru Rollin, 75012 Paris",timeSlot:"09:00-11:00",date:new Date(2023,11,4),urgent:!0}],kte=()=>{const[e,t]=b.useState(new Date),n=R3.filter(s=>e&&s.date.getDate()===e.getDate()&&s.date.getMonth()===e.getMonth()&&s.date.getFullYear()===e.getFullYear()),r=R3.map(s=>new Date(s.date.getFullYear(),s.date.getMonth(),s.date.getDate()));return i.jsx(xu,{title:"Planning",children:i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs($e,{className:"md:col-span-2",children:[i.jsx(st,{children:i.jsx(it,{children:"Calendrier d'interventions"})}),i.jsx(Ue,{children:i.jsx("div",{className:"flex justify-center",children:i.jsx(Pp,{mode:"single",selected:e,onSelect:t,locale:ss,modifiers:{intervention:r},modifiersStyles:{intervention:{fontWeight:"bold",backgroundColor:"rgba(59, 130, 246, 0.1)"}},className:"rounded-md border"})})})]}),i.jsxs($e,{className:"h-fit",children:[i.jsx(st,{children:i.jsx(it,{children:e?_n(e,"EEEE d MMMM yyyy",{locale:ss}):"Aucune date sélectionnée"})}),i.jsx(Ue,{children:i.jsx("div",{className:"space-y-4",children:n.length>0?n.map(s=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-card",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[s.urgent&&i.jsx(Ve,{variant:"destructive",children:"Urgent"}),i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-700",children:"Programmée"})]}),i.jsx("h3",{className:"font-medium mt-1",children:s.title}),i.jsxs("div",{className:"text-sm text-muted-foreground mt-2 space-y-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Mi,{size:14,className:"mr-1"}),i.jsx("span",{children:s.timeSlot})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ap,{size:14,className:"mr-1"}),i.jsx("span",{className:"truncate",children:s.property})]})]})]},s.id)):i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Aucune intervention prévue pour cette date"})})})]})]})})})};var Pte="Separator",D3="horizontal",Ate=["horizontal","vertical"],ET=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=D3,...s}=e,a=Ete(r)?r:D3,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(ut.div,{"data-orientation":a,...l,...s,ref:t})});ET.displayName=Pte;function Ete(e){return Ate.includes(e)}var LT=ET;const TT=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>i.jsx(LT,{ref:s,decorative:n,orientation:t,className:et("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));TT.displayName=LT.displayName;const Lte=({id:e,status:t,urgent:n,createdAt:r})=>{const s=br(),a=o=>{switch(o){case"assigned":return i.jsx(Ve,{variant:"outline",className:"bg-amber-50 text-amber-700",children:"À planifier"});case"scheduled":return i.jsx(Ve,{variant:"outline",className:"bg-blue-50 text-blue-700",children:"Programmée"});case"in_progress":return i.jsx(Ve,{variant:"secondary",children:"En cours"});case"completed":return i.jsx(Ve,{variant:"outline",className:"bg-green-50 text-green-700",children:"Terminée"});default:return i.jsx(Ve,{children:"Inconnu"})}};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(fe,{variant:"ghost",className:"mr-2 p-0 h-auto",onClick:()=>s(-1),children:i.jsx(l5,{size:20})}),i.jsxs("h2",{className:"text-lg font-medium",children:["Intervention #",e]})]}),i.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2",children:i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n&&i.jsx(Ve,{variant:"destructive",children:"Urgent"}),a(t),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Créé le ",r]})]})})]})},Tte=({property:e,tenant:t})=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-sm font-medium flex items-center",children:[i.jsx(ap,{size:16,className:"mr-1"}),"Adresse de l'intervention"]}),i.jsxs("div",{className:"rounded-md bg-muted p-3",children:[i.jsx("p",{className:"font-medium",children:e.address}),i.jsxs("p",{className:"text-sm",children:[e.postalCode," ",e.city]}),e.floor&&i.jsxs("p",{className:"text-sm mt-1",children:["Étage: ",e.floor]}),e.accessCode&&i.jsxs("p",{className:"text-sm",children:["Digicode: ",e.accessCode]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-sm font-medium flex items-center",children:[i.jsx(ix,{size:16,className:"mr-1"}),"Contact du locataire"]}),i.jsxs("div",{className:"rounded-md bg-muted p-3",children:[i.jsx("p",{className:"font-medium",children:t.name}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx(tx,{size:14,className:"mr-1"}),i.jsx("a",{href:`tel:${t.phone}`,className:"text-sm text-blue-600",children:t.phone})]}),i.jsx("p",{className:"text-sm mt-1",children:t.email})]})]})]}),Mte=({scheduledDate:e,scheduledTimeSlot:t})=>i.jsxs("div",{className:"rounded-md border p-4",children:[i.jsxs("h3",{className:"text-sm font-medium flex items-center mb-2",children:[i.jsx(Bs,{size:16,className:"mr-1"}),"Rendez-vous programmé"]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Bs,{size:16,className:"mr-2 text-blue-600"}),i.jsx("span",{children:e}),i.jsx(Mi,{size:16,className:"ml-4 mr-2 text-blue-600"}),i.jsx("span",{children:t})]}),i.jsx(fe,{variant:"outline",size:"sm",children:"Modifier RDV"})]})]}),Rte=({description:e})=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Description du problème"}),i.jsx("div",{className:"rounded-md bg-muted p-4",children:i.jsx("p",{className:"text-sm",children:e})})]}),Dte=({history:e})=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Historique"}),i.jsx("div",{className:"rounded-md border p-3 space-y-2",children:e.map((t,n)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:t.event}),i.jsxs("span",{className:"text-muted-foreground ml-2",children:["par ",t.author]})]}),i.jsxs("span",{className:"text-muted-foreground",children:[t.date," ",t.time]})]},n))})]}),Ite=({status:e})=>{const[t,n]=b.useState("");return e==="completed"?null:i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Ajouter un commentaire"}),i.jsx(la,{placeholder:"Écrire un message ou poser une question...",value:t,onChange:r=>n(r.target.value),rows:3}),i.jsx("div",{className:"flex justify-end",children:i.jsx(fe,{disabled:!t,size:"sm",children:"Envoyer"})})]})},Ote=({status:e,onCompleteIntervention:t,onUpload:n})=>{const r=br();return i.jsxs("div",{className:"w-full space-y-4",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Actions"}),e==="assigned"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs(fe,{onClick:()=>r("/vendor/propose-date"),children:[i.jsx(H7,{className:"mr-2",size:18}),"Proposer des créneaux"]}),i.jsxs(fe,{variant:"outline",onClick:()=>n("quote"),children:[i.jsx(Ut,{className:"mr-2",size:18}),"Envoyer un devis"]})]}),e==="scheduled"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs(fe,{onClick:t,children:[i.jsx(rp,{className:"mr-2",size:18}),"Marquer comme terminé"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(fe,{variant:"outline",onClick:()=>n("photo"),children:[i.jsx(Ok,{className:"mr-2",size:18}),"Photos"]}),i.jsxs(fe,{variant:"outline",onClick:()=>n("invoice"),children:[i.jsx(Ut,{className:"mr-2",size:18}),"Facture"]})]})]})]})},I3=10*1024*1024,Fte=["image/jpeg","image/png","image/heic"],zte=["application/pdf","image/jpeg","image/png"];function Bte({uploadType:e,interventionId:t,onSuccess:n,onCancel:r,allowMultiple:s=!1,maxFiles:a=5}){const[o,l]=b.useState([]),[c,u]=b.useState(!1),[d,h]=b.useState(0),m=e==="photo"?Fte:zte,p=e==="photo"?"JPG, PNG ou HEIC":"PDF, JPG ou PNG",w=y=>{const x=Array.from(y.target.files||[]);if(x.length>a){Ds({variant:"destructive",title:"Erreur",description:`Vous ne pouvez sélectionner que ${a} fichiers maximum.`});return}if(x.filter(k=>!m.includes(k.type)||k.size>I3).length>0){Ds({variant:"destructive",title:"Fichier(s) non valide(s)",description:`Certains fichiers sont trop volumineux (>10MB) ou d'un format non supporté (${p}).`});const k=x.filter(P=>m.includes(P.type)&&P.size<=I3);l(k)}else l(s?[...o,...x]:x)},v=y=>{l(o.filter((x,S)=>S!==y))},N=async()=>{if(o.length!==0){u(!0),h(0);try{const y=[];for(let x=0;x<o.length;x++){const S=o[x],k=S.name.split(".").pop(),z=`${`${t}/${e}_${Ap()}.${k}`}`,{error:B,data:R}=await Kt.storage.from("vendor-uploads").upload(z,S,{cacheControl:"3600",upsert:!1});if(B)throw B;const{data:K}=Kt.storage.from("vendor-uploads").getPublicUrl(z);y.push(K.publicUrl),h(Math.floor((x+1)/o.length*100))}Ds({title:"Téléchargement réussi",description:"Les fichiers ont été téléchargés avec succès."}),n(y)}catch(y){console.error("Error uploading file:",y),Ds({variant:"destructive",title:"Erreur de téléchargement",description:"Une erreur s'est produite lors du téléchargement des fichiers."})}finally{u(!1)}}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[i.jsx(h5,{className:"w-8 h-8 mb-3 text-gray-400"}),i.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[i.jsx("span",{className:"font-semibold",children:"Cliquez pour choisir"})," ou glissez-déposez"]}),i.jsxs("p",{className:"text-xs text-gray-500",children:[p," (max 10MB)"]})]}),i.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:w,multiple:s,accept:m.join(",")})]}),o.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Fichiers sélectionnés"}),i.jsx("div",{className:"space-y-2",children:o.map((y,x)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[i.jsxs("div",{className:"flex items-center",children:[y.type.includes("image")?i.jsx(iI,{size:16,className:"mr-2"}):i.jsx(Ut,{size:16,className:"mr-2"}),i.jsx("span",{className:"text-sm truncate max-w-[200px]",children:y.name}),i.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(y.size/1024/1024).toFixed(2)," MB)"]})]}),i.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>v(x),children:i.jsx(za,{size:16})})]},x))})]}),c&&i.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:[i.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${d}%`}}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:["Téléchargement en cours... ",d,"%"]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(fe,{variant:"outline",onClick:r,disabled:c,children:"Annuler"}),i.jsx(fe,{onClick:N,disabled:o.length===0||c,children:e==="photo"?"Uploader les photos":e==="quote"?"Envoyer le devis":"Soumettre la facture"})]})]})}const $te=({open:e,onOpenChange:t,uploadType:n,interventionId:r,onSuccess:s})=>{const[a,o]=b.useState(""),[l,c]=b.useState("");return i.jsx(hc,{open:e,onOpenChange:t,children:i.jsxs(Vo,{children:[i.jsx(Wo,{children:i.jsxs(fc,{children:[n==="photo"&&"Ajouter des photos",n==="quote"&&"Envoyer un devis",n==="invoice"&&"Soumettre une facture"]})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx(Bte,{uploadType:n,interventionId:r||"temp",onSuccess:s,onCancel:()=>t(!1),allowMultiple:n==="photo",maxFiles:n==="photo"?5:1}),n!=="photo"&&i.jsxs("div",{className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{htmlFor:"amount",className:"text-sm font-medium",children:"Montant (€)"}),i.jsx(St,{id:"amount",placeholder:"0.00",type:"number",value:a,onChange:u=>o(u.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{htmlFor:"notes",className:"text-sm font-medium",children:"Notes (optionnel)"}),i.jsx(la,{id:"notes",placeholder:"Informations complémentaires...",value:l,onChange:u=>c(u.target.value)})]})]})]})]})})},O3={id:"1",title:"Problème de plomberie - Salle de bain",description:"Le robinet de la salle de bain principale fuit et il y a de l'eau qui s'accumule sous le lavabo. Le problème a commencé hier soir et s'aggrave.",property:{id:"1",address:"123 Rue de Paris",city:"Paris",postalCode:"75001",accessCode:"1234",floor:"3ème étage"},tenant:{id:"1",name:"Jean Dupont",email:"jean.dupont@example.com",phone:"06 12 34 56 78"},status:"scheduled",urgent:!0,type:"plumbing",createdAt:"2023-11-23",scheduledDate:"2023-11-28",scheduledTimeSlot:"10:00-12:00",images:["/placeholder.svg","/placeholder.svg"],history:[{date:"2023-11-23",time:"14:30",event:"Intervention créée",author:"Gestionnaire Pro"},{date:"2023-11-24",time:"09:15",event:"Intervention assignée à Plombier Martin",author:"Gestionnaire Pro"},{date:"2023-11-24",time:"15:30",event:"Date proposée: 28/11 entre 10h et 12h",author:"Plombier Martin"},{date:"2023-11-24",time:"16:45",event:"Date confirmée",author:"Gestionnaire Pro"}]},Ute=()=>{var p;const{id:e}=q6(),t=br(),[n,r]=b.useState(!1),[s,a]=b.useState("photo"),[o,l]=b.useState(O3),[c,u]=b.useState([]);b.useEffect(()=>{if(!e)return;l(O3),(async()=>{try{const{data:v,error:N}=await Kt.storage.from("vendor-uploads").list(`${e}`,{sortBy:{column:"created_at",order:"desc"}});if(N){console.error("Error fetching images",N);return}if(v&&v.length>0){const y=v.map(x=>{const{data:S}=Kt.storage.from("vendor-uploads").getPublicUrl(`${e}/${x.name}`);return S.publicUrl});u(y)}}catch(v){console.error("Error in fetchImages:",v)}})()},[e]);const d=w=>{a(w),r(!0)},h=w=>{if(r(!1),s==="photo")u(v=>[...v,...w]),Ds({title:"Photos téléchargées",description:`${w.length} photo(s) ont été téléchargées avec succès.`});else{const v=s==="quote"?"devis":"facture";Ds({title:`${v.charAt(0).toUpperCase()+v.slice(1)} envoyé`,description:`Le ${v} a été envoyé avec succès.`})}},m=()=>{Ds({title:"Intervention terminée",description:"L'intervention a été marquée comme terminée."}),t("/vendor/interventions")};return i.jsxs(xu,{title:"Détail de l'intervention",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx(Lte,{id:e||"",status:o.status,urgent:o.urgent,createdAt:o.createdAt}),i.jsxs($e,{children:[i.jsx(st,{className:"pb-3",children:i.jsx(it,{className:"mt-2",children:o.title})}),i.jsxs(Ue,{className:"space-y-6",children:[i.jsx(Tte,{property:o.property,tenant:o.tenant}),o.status==="scheduled"&&i.jsx(Mte,{scheduledDate:o.scheduledDate,scheduledTimeSlot:o.scheduledTimeSlot}),i.jsx(Rte,{description:o.description}),(((p=o.images)==null?void 0:p.length)>0||c.length>0)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Photos du problème"}),i.jsx(G8,{images:[...c,...o.images||[]]})]}),i.jsx(Dte,{history:o.history}),i.jsx(Ite,{status:o.status})]}),i.jsx(TT,{}),i.jsx(pn,{className:"pt-6",children:i.jsx(Ote,{status:o.status,onCompleteIntervention:m,onUpload:d})})]})]}),i.jsx($te,{open:n,onOpenChange:r,uploadType:s,interventionId:e||"",onSuccess:h})]})},qte=()=>i.jsx(xu,{title:"Messages",children:i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Messagerie"}),i.jsx(qt,{children:"Communiquez avec les gestionnaires et les locataires"})]}),i.jsx(Hl,{className:"h-6 w-6 text-muted-foreground"})]})}),i.jsx(Ue,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center p-12",children:[i.jsx(Hl,{className:"h-10 w-10 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-center text-muted-foreground",children:"Aucun message pour le moment. Les nouveaux messages apparaîtront ici."})]})})]})})}),Vte=()=>i.jsx(xu,{title:"Statistiques",children:i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Tableau de bord statistiques"}),i.jsx(qt,{children:"Suivez l'historique de vos interventions et performances"})]}),i.jsx(Wl,{className:"h-6 w-6 text-muted-foreground"})]})}),i.jsx(Ue,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs($e,{children:[i.jsx(st,{className:"pb-2",children:i.jsx(it,{className:"text-sm font-medium",children:"Interventions mensuelles"})}),i.jsx(Ue,{className:"pt-0",children:i.jsx("div",{className:"flex items-center justify-center h-[200px]",children:i.jsx(Wl,{className:"h-16 w-16 text-muted-foreground"})})})]}),i.jsxs($e,{children:[i.jsx(st,{className:"pb-2",children:i.jsx(it,{className:"text-sm font-medium",children:"Répartition par type"})}),i.jsx(Ue,{className:"pt-0",children:i.jsx("div",{className:"flex items-center justify-center h-[200px]",children:i.jsx(G7,{className:"h-16 w-16 text-muted-foreground"})})})]}),i.jsxs($e,{children:[i.jsx(st,{className:"pb-2",children:i.jsx(it,{className:"text-sm font-medium",children:"Délai de résolution"})}),i.jsx(Ue,{className:"pt-0",children:i.jsx("div",{className:"flex items-center justify-center h-[200px]",children:i.jsx(zk,{className:"h-16 w-16 text-muted-foreground"})})})]})]})})]})})}),Wte=()=>i.jsx(xu,{title:"Paramètres",children:i.jsx("div",{className:"space-y-6",children:i.jsxs($e,{children:[i.jsx(st,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(it,{children:"Paramètres du compte"}),i.jsx(qt,{children:"Gérez vos informations personnelles et professionnelles"})]}),i.jsx(rx,{className:"h-6 w-6 text-muted-foreground"})]})}),i.jsx(Ue,{children:i.jsx("form",{className:"space-y-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"name",children:"Nom et prénom"}),i.jsxs("div",{className:"flex",children:[i.jsx(ix,{className:"h-4 w-4 text-muted-foreground mr-2 mt-3"}),i.jsx(St,{id:"name",placeholder:"Votre nom complet",defaultValue:"Thomas Durand"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"company",children:"Société"}),i.jsxs("div",{className:"flex",children:[i.jsx(V7,{className:"h-4 w-4 text-muted-foreground mr-2 mt-3"}),i.jsx(St,{id:"company",placeholder:"Nom de votre entreprise",defaultValue:"Plomberie Express"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"phone",children:"Téléphone"}),i.jsxs("div",{className:"flex",children:[i.jsx(tx,{className:"h-4 w-4 text-muted-foreground mr-2 mt-3"}),i.jsx(St,{id:"phone",placeholder:"Numéro de téléphone",defaultValue:"06 12 34 56 78"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx($t,{htmlFor:"email",children:"Email"}),i.jsxs("div",{className:"flex",children:[i.jsx(ip,{className:"h-4 w-4 text-muted-foreground mr-2 mt-3"}),i.jsx(St,{id:"email",type:"email",placeholder:"Votre email",defaultValue:"contact@plomberie-express.fr"})]})]})]})})}),i.jsx(pn,{className:"flex justify-end",children:i.jsx(fe,{children:"Enregistrer les modifications"})})]})})}),Hte=()=>{const{isLoading:e}=sr();return e?i.jsx(GU,{}):i.jsxs(lz,{children:[i.jsx(Rt,{path:"/",element:i.jsx(od,{to:"/login",replace:!0})}),i.jsx(Rt,{path:"/login",element:i.jsx(vq,{})}),i.jsx(Rt,{path:"/unauthorized",element:i.jsx(yq,{})}),i.jsx(Rt,{path:"/manager",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(wq,{})})}),i.jsx(Rt,{path:"/manager/properties",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(qW,{})})}),i.jsx(Rt,{path:"/manager/tenants",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(cG,{})})}),i.jsx(Rt,{path:"/manager/tickets",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(fG,{})})}),i.jsx(Rt,{path:"/manager/documents",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(vG,{})})}),i.jsx(Rt,{path:"/manager/owner-reports",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(xG,{})})}),i.jsx(Rt,{path:"/manager/ai-dashboard",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(jX,{})})}),i.jsx(Rt,{path:"/manager/document-generator",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(CQ,{})})}),i.jsx(Rt,{path:"/manager/maintenance",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(DQ,{})})}),i.jsx(Rt,{path:"/manager/property-inspection",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(iee,{})})}),i.jsx(Rt,{path:"/manager/tenant-file/:id",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(cee,{})})}),i.jsx(Rt,{path:"/manager/property-file/:id",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(mee,{})})}),i.jsx(Rt,{path:"/manager/listing-center",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(vee,{})})}),i.jsx(Rt,{path:"/manager/accounting",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(Jee,{})})}),i.jsx(Rt,{path:"/manager/property-history",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(Qee,{})})}),i.jsx(Rt,{path:"/manager/help-center",element:i.jsx(Gt,{allowedRoles:["manager"],children:i.jsx(ste,{})})}),i.jsx(Rt,{path:"/tenant",element:i.jsx(Gt,{allowedRoles:["tenant"],children:i.jsx(Lq,{})})}),i.jsx(Rt,{path:"/tenant/create-ticket",element:i.jsx(Gt,{allowedRoles:["tenant"],children:i.jsx(_G,{})})}),i.jsx(Rt,{path:"/tenant/ai-assistant",element:i.jsx(Gt,{allowedRoles:["tenant"],children:i.jsx(NX,{})})}),i.jsx(Rt,{path:"/tenant/documents",element:i.jsx(Gt,{allowedRoles:["tenant"],children:i.jsx(ite,{})})}),i.jsx(Rt,{path:"/tenant/tickets",element:i.jsx(Gt,{allowedRoles:["tenant"],children:i.jsx(ate,{})})}),i.jsx(Rt,{path:"/tenant/payments",element:i.jsx(Gt,{allowedRoles:["tenant"],children:i.jsx(hte,{})})}),i.jsx(Rt,{path:"/tenant/property",element:i.jsx(Gt,{allowedRoles:["tenant"],children:i.jsx(fte,{})})}),i.jsx(Rt,{path:"/owner",element:i.jsx(Gt,{allowedRoles:["owner"],children:i.jsx(Tq,{})})}),i.jsx(Rt,{path:"/owner/properties",element:i.jsx(Gt,{allowedRoles:["owner"],children:i.jsx(mte,{})})}),i.jsx(Rt,{path:"/owner/reports",element:i.jsx(Gt,{allowedRoles:["owner"],children:i.jsx(pte,{})})}),i.jsx(Rt,{path:"/owner/documents",element:i.jsx(Gt,{allowedRoles:["owner"],children:i.jsx(gte,{})})}),i.jsx(Rt,{path:"/owner/messages",element:i.jsx(Gt,{allowedRoles:["owner"],children:i.jsx(vte,{})})}),i.jsx(Rt,{path:"/vendor",element:i.jsx(Gt,{allowedRoles:["vendor","manager"],children:i.jsx(Nte,{})})}),i.jsx(Rt,{path:"/vendor/interventions",element:i.jsx(Gt,{allowedRoles:["vendor","manager"],children:i.jsx(Cte,{})})}),i.jsx(Rt,{path:"/vendor/schedule",element:i.jsx(Gt,{allowedRoles:["vendor","manager"],children:i.jsx(kte,{})})}),i.jsx(Rt,{path:"/vendor/interventions/:id",element:i.jsx(Gt,{allowedRoles:["vendor","manager"],children:i.jsx(Ute,{})})}),i.jsx(Rt,{path:"/vendor/messages",element:i.jsx(Gt,{allowedRoles:["vendor","manager"],children:i.jsx(qte,{})})}),i.jsx(Rt,{path:"/vendor/stats",element:i.jsx(Gt,{allowedRoles:["vendor","manager"],children:i.jsx(Vte,{})})}),i.jsx(Rt,{path:"/vendor/settings",element:i.jsx(Gt,{allowedRoles:["vendor","manager"],children:i.jsx(Wte,{})})}),i.jsx(Rt,{path:"/tickets/:id",element:i.jsx(Gt,{allowedRoles:["manager","tenant","owner","vendor"],children:i.jsx(DG,{})})}),i.jsx(Rt,{path:"*",element:i.jsx(xq,{})})]})},Gte=new y9,Yte=()=>i.jsx(b9,{client:Gte,children:i.jsxs(XF,{children:[i.jsx(YI,{}),i.jsx(NO,{}),i.jsx(gz,{children:i.jsx(W$,{children:i.jsx(M5,{children:i.jsx(Hte,{})})})})]})});ok(document.getElementById("root")).render(i.jsx(Yte,{}));export{gn as _,Ei as c,H3 as g};
